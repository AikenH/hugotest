<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Python01 æ•°æ®æ¨¡å‹å’Œå¸¸ç”¨æ•°æ®ç»“æ„ | aiken's blog</title>
<meta name=keywords content="Python,Langs"><meta name=description content="ä¸ªäººçš„ã€ŠPython Cookbookã€‹ && ã€ŠFluent Pythonã€‹é˜…è¯»ç¬”è®°ã€‚
æ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰
ï¼ˆMagic methodï¼‰dunder methodï¼šPythonç‰¹æœ‰çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿæ”¯æŒPythonè¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨ï¼Œå®ç°é€šç”¨æ–¹æ³•åœ¨æ–°å®šä¹‰çš„æ•°æ®ç»“æ„ä¸Šçš„ä½¿ç”¨ï¼Œæ¯”å¦‚æœ€å…¸å‹çš„:


__len__()åå¯ä»¥æ”¯æŒlen()ï¼Œè·å¾—ç»“æ„çš„é•¿åº¦


__getitem__()åå¯ä»¥æ”¯æŒdata[index]æ¥è·å–ç›¸åº”çš„å…ƒç´ ï¼Œåˆ‡ç‰‡ï¼Œç­‰ç­‰æ•°ç»„çš„æ“ä½œï¼›


 1
 2
 3
 4
 5
 6
 7
 8
 9
10


# ä¹Ÿå¯ä»¥æ”¯æŒç±»ä¼¼å¦‚ä¸‹çš„ä¸€äº›æ“ä½œ
# ä»æ•°æ®ç»“æ„ä¸­éšæœºé€‰å‡ºä¸€ä¸ªitems
from random import choice
choice(datas)
# ä¹Ÿå¯ä»¥æ”¯æŒè¿­ä»£æ–¹æ³•å’Œåè¿­ä»£æ–¹æ³•
for data in datas:
    ...
for data in reversed(datas):
    ...
# ä¹Ÿå¯ä»¥æ”¯æŒsortå‡½æ•°




åˆ°è¿™é‡Œä¹Ÿå°±è¯´æ˜äº†ï¼Œåªè¦æˆ‘ä»¬åœ¨æ•°æ®ç»“æ„ï¼ˆclassï¼‰ä¸­å®šä¹‰äº†ç›¸åº”çš„dunder methodï¼Œè¯¥classå°±èƒ½æ”¯æŒç›¸åº”çš„ä¸€ç³»åˆ—æ“ä½œï¼Œgetitemså°±å¯ä»¥ç±»æ¯”ä¸ºåˆ—è¡¨ï¼Œç›¸åº”çš„æ“ä½œéƒ½èƒ½å¤Ÿåœ¨pythonè§£é‡Šå™¨ä¸‹è‡ªåŠ¨çš„èµ‹äºˆæ”¯æŒã€‚
è¿˜æœ‰ä¸€äº›å¥½ç”¨ä½†ä¸å¸¸ç”¨çš„æ–¹æ³•ï¼š

__contain__å®ç°çš„æ˜¯in ï¼Œå½“æ²¡æœ‰å®ç°containçš„æ–¹æ³•çš„æ—¶å€™ä¼šæŒ‰ç…§é¡ºåºåœ¨listä¸­è¿›è¡Œæœç´¢
__abs__
__repr__å®ç°çš„æ˜¯è¾“å‡ºçš„formatè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯printçš„æ—¶å€™çš„è¾“å‡ºå½¢å¼
__eq__ å®ç°çš„æ˜¯  == å‘½ä»¤ï¼ŒåŒæ—¶inè°ƒç”¨çš„æ˜¯__eq__

ä¸‹é¢é™„ä¸Šä¸€å¼ ç‰¹æ®Šæ–¹æ³•è¡¨ï¼š

åŸºæœ¬å‘½åè§„èŒƒ
ç›¸å…³çš„æ–‡ä»¶å’Œå‡½æ•°ç­‰å‘½åè§„åˆ™ã€‚
å‘½åæ ·ä¾‹è¡¨

å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´
Python å˜é‡çš„ä¼ é€’ç±»å‹ï¼šï¼ˆèµ‹å€¼è¿‡ç¨‹ï¼‰
https://www.runoob.com/w3cnote/python-variable-references-and-copies.html

Python èµ‹å€¼è¿‡ç¨‹ä¸­ä¸æ˜ç¡®åŒºåˆ†æ‹·è´å’Œå¼•ç”¨ï¼Œä¸€èˆ¬å¯¹é™æ€å˜é‡çš„ä¼ é€’ä¸ºæ‹·è´ï¼Œå¯¹åŠ¨æ€å˜é‡çš„ä¼ é€’ä¸ºå¼•ç”¨ã€‚ï¼ˆæ³¨ï¼Œå¯¹é™æ€å˜é‡é¦–æ¬¡ä¼ é€’æ—¶ä¹Ÿæ˜¯å¼•ç”¨ï¼Œå½“éœ€è¦ä¿®æ”¹é™æ€å˜é‡æ—¶ï¼Œå› ä¸ºé™æ€å˜é‡ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ç©ºé—´å­˜å‚¨æ•°æ®ï¼‰ã€‚
â€¢  å­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå…ƒç»„ å‡ä¸ºé™æ€å˜é‡
â€¢ åˆ—è¡¨ï¼Œå­—å…¸ä¸ºåŠ¨æ€å˜é‡ã€‚
å¯ä»¥ç”¨idï¼ˆï¼‰æŸ¥çœ‹æŒ‡å‘çš„åœ°å€"><meta name=author content="aikenhong"><link rel=canonical href=https://hugotest-phi.vercel.app/posts/python/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://hugotest-phi.vercel.app/favicon/ghost.ico><link rel=icon type=image/png sizes=16x16 href=https://hugotest-phi.vercel.app/favicon/ghost-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hugotest-phi.vercel.app/favicon/ghost-32x32.png><link rel=apple-touch-icon href=https://hugotest-phi.vercel.app/favicon/ghost-apple-touch-icon.png><link rel=mask-icon href=https://hugotest-phi.vercel.app/favicon/ghost-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://hugotest-phi.vercel.app/posts/python/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://cdn.jsdmirror.com/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.css><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.js></script><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel=stylesheet><meta property="og:url" content="https://hugotest-phi.vercel.app/posts/python/"><meta property="og:site_name" content="aiken's blog"><meta property="og:title" content="Python01 æ•°æ®æ¨¡å‹å’Œå¸¸ç”¨æ•°æ®ç»“æ„"><meta property="og:description" content="ä¸ªäººçš„ã€ŠPython Cookbookã€‹ && ã€ŠFluent Pythonã€‹é˜…è¯»ç¬”è®°ã€‚
æ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰ ï¼ˆMagic methodï¼‰dunder methodï¼šPythonç‰¹æœ‰çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿæ”¯æŒPythonè¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨ï¼Œå®ç°é€šç”¨æ–¹æ³•åœ¨æ–°å®šä¹‰çš„æ•°æ®ç»“æ„ä¸Šçš„ä½¿ç”¨ï¼Œæ¯”å¦‚æœ€å…¸å‹çš„:
__len__()åå¯ä»¥æ”¯æŒlen()ï¼Œè·å¾—ç»“æ„çš„é•¿åº¦
__getitem__()åå¯ä»¥æ”¯æŒdata[index]æ¥è·å–ç›¸åº”çš„å…ƒç´ ï¼Œåˆ‡ç‰‡ï¼Œç­‰ç­‰æ•°ç»„çš„æ“ä½œï¼›
1 2 3 4 5 6 7 8 9 10 # ä¹Ÿå¯ä»¥æ”¯æŒç±»ä¼¼å¦‚ä¸‹çš„ä¸€äº›æ“ä½œ # ä»æ•°æ®ç»“æ„ä¸­éšæœºé€‰å‡ºä¸€ä¸ªitems from random import choice choice(datas) # ä¹Ÿå¯ä»¥æ”¯æŒè¿­ä»£æ–¹æ³•å’Œåè¿­ä»£æ–¹æ³• for data in datas: ... for data in reversed(datas): ... # ä¹Ÿå¯ä»¥æ”¯æŒsortå‡½æ•° åˆ°è¿™é‡Œä¹Ÿå°±è¯´æ˜äº†ï¼Œåªè¦æˆ‘ä»¬åœ¨æ•°æ®ç»“æ„ï¼ˆclassï¼‰ä¸­å®šä¹‰äº†ç›¸åº”çš„dunder methodï¼Œè¯¥classå°±èƒ½æ”¯æŒç›¸åº”çš„ä¸€ç³»åˆ—æ“ä½œï¼Œgetitemså°±å¯ä»¥ç±»æ¯”ä¸ºåˆ—è¡¨ï¼Œç›¸åº”çš„æ“ä½œéƒ½èƒ½å¤Ÿåœ¨pythonè§£é‡Šå™¨ä¸‹è‡ªåŠ¨çš„èµ‹äºˆæ”¯æŒã€‚
è¿˜æœ‰ä¸€äº›å¥½ç”¨ä½†ä¸å¸¸ç”¨çš„æ–¹æ³•ï¼š
__contain__å®ç°çš„æ˜¯in ï¼Œå½“æ²¡æœ‰å®ç°containçš„æ–¹æ³•çš„æ—¶å€™ä¼šæŒ‰ç…§é¡ºåºåœ¨listä¸­è¿›è¡Œæœç´¢ __abs__ __repr__å®ç°çš„æ˜¯è¾“å‡ºçš„formatè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯printçš„æ—¶å€™çš„è¾“å‡ºå½¢å¼ __eq__ å®ç°çš„æ˜¯ == å‘½ä»¤ï¼ŒåŒæ—¶inè°ƒç”¨çš„æ˜¯__eq__ ä¸‹é¢é™„ä¸Šä¸€å¼ ç‰¹æ®Šæ–¹æ³•è¡¨ï¼š
åŸºæœ¬å‘½åè§„èŒƒ ç›¸å…³çš„æ–‡ä»¶å’Œå‡½æ•°ç­‰å‘½åè§„åˆ™ã€‚
å‘½åæ ·ä¾‹è¡¨ å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´ Python å˜é‡çš„ä¼ é€’ç±»å‹ï¼šï¼ˆèµ‹å€¼è¿‡ç¨‹ï¼‰ https://www.runoob.com/w3cnote/python-variable-references-and-copies.html Python èµ‹å€¼è¿‡ç¨‹ä¸­ä¸æ˜ç¡®åŒºåˆ†æ‹·è´å’Œå¼•ç”¨ï¼Œä¸€èˆ¬å¯¹é™æ€å˜é‡çš„ä¼ é€’ä¸ºæ‹·è´ï¼Œå¯¹åŠ¨æ€å˜é‡çš„ä¼ é€’ä¸ºå¼•ç”¨ã€‚ï¼ˆæ³¨ï¼Œå¯¹é™æ€å˜é‡é¦–æ¬¡ä¼ é€’æ—¶ä¹Ÿæ˜¯å¼•ç”¨ï¼Œå½“éœ€è¦ä¿®æ”¹é™æ€å˜é‡æ—¶ï¼Œå› ä¸ºé™æ€å˜é‡ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ç©ºé—´å­˜å‚¨æ•°æ®ï¼‰ã€‚
â€¢ å­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå…ƒç»„ å‡ä¸ºé™æ€å˜é‡â€¢ åˆ—è¡¨ï¼Œå­—å…¸ä¸ºåŠ¨æ€å˜é‡ã€‚ å¯ä»¥ç”¨idï¼ˆï¼‰æŸ¥çœ‹æŒ‡å‘çš„åœ°å€"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-10-27T14:19:13+00:00"><meta property="article:modified_time" content="2021-10-27T14:19:13+00:00"><meta property="article:tag" content="Python"><meta property="article:tag" content="Langs"><meta property="og:image" content="https://hugotest-phi.vercel.app/cover/cover21.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hugotest-phi.vercel.app/cover/cover21.jpeg"><meta name=twitter:title content="Python01 æ•°æ®æ¨¡å‹å’Œå¸¸ç”¨æ•°æ®ç»“æ„"><meta name=twitter:description content="ä¸ªäººçš„ã€ŠPython Cookbookã€‹ && ã€ŠFluent Pythonã€‹é˜…è¯»ç¬”è®°ã€‚
æ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰
ï¼ˆMagic methodï¼‰dunder methodï¼šPythonç‰¹æœ‰çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿæ”¯æŒPythonè¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨ï¼Œå®ç°é€šç”¨æ–¹æ³•åœ¨æ–°å®šä¹‰çš„æ•°æ®ç»“æ„ä¸Šçš„ä½¿ç”¨ï¼Œæ¯”å¦‚æœ€å…¸å‹çš„:


__len__()åå¯ä»¥æ”¯æŒlen()ï¼Œè·å¾—ç»“æ„çš„é•¿åº¦


__getitem__()åå¯ä»¥æ”¯æŒdata[index]æ¥è·å–ç›¸åº”çš„å…ƒç´ ï¼Œåˆ‡ç‰‡ï¼Œç­‰ç­‰æ•°ç»„çš„æ“ä½œï¼›


 1
 2
 3
 4
 5
 6
 7
 8
 9
10


# ä¹Ÿå¯ä»¥æ”¯æŒç±»ä¼¼å¦‚ä¸‹çš„ä¸€äº›æ“ä½œ
# ä»æ•°æ®ç»“æ„ä¸­éšæœºé€‰å‡ºä¸€ä¸ªitems
from random import choice
choice(datas)
# ä¹Ÿå¯ä»¥æ”¯æŒè¿­ä»£æ–¹æ³•å’Œåè¿­ä»£æ–¹æ³•
for data in datas:
    ...
for data in reversed(datas):
    ...
# ä¹Ÿå¯ä»¥æ”¯æŒsortå‡½æ•°




åˆ°è¿™é‡Œä¹Ÿå°±è¯´æ˜äº†ï¼Œåªè¦æˆ‘ä»¬åœ¨æ•°æ®ç»“æ„ï¼ˆclassï¼‰ä¸­å®šä¹‰äº†ç›¸åº”çš„dunder methodï¼Œè¯¥classå°±èƒ½æ”¯æŒç›¸åº”çš„ä¸€ç³»åˆ—æ“ä½œï¼Œgetitemså°±å¯ä»¥ç±»æ¯”ä¸ºåˆ—è¡¨ï¼Œç›¸åº”çš„æ“ä½œéƒ½èƒ½å¤Ÿåœ¨pythonè§£é‡Šå™¨ä¸‹è‡ªåŠ¨çš„èµ‹äºˆæ”¯æŒã€‚
è¿˜æœ‰ä¸€äº›å¥½ç”¨ä½†ä¸å¸¸ç”¨çš„æ–¹æ³•ï¼š

__contain__å®ç°çš„æ˜¯in ï¼Œå½“æ²¡æœ‰å®ç°containçš„æ–¹æ³•çš„æ—¶å€™ä¼šæŒ‰ç…§é¡ºåºåœ¨listä¸­è¿›è¡Œæœç´¢
__abs__
__repr__å®ç°çš„æ˜¯è¾“å‡ºçš„formatè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯printçš„æ—¶å€™çš„è¾“å‡ºå½¢å¼
__eq__ å®ç°çš„æ˜¯  == å‘½ä»¤ï¼ŒåŒæ—¶inè°ƒç”¨çš„æ˜¯__eq__

ä¸‹é¢é™„ä¸Šä¸€å¼ ç‰¹æ®Šæ–¹æ³•è¡¨ï¼š

åŸºæœ¬å‘½åè§„èŒƒ
ç›¸å…³çš„æ–‡ä»¶å’Œå‡½æ•°ç­‰å‘½åè§„åˆ™ã€‚
å‘½åæ ·ä¾‹è¡¨

å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´
Python å˜é‡çš„ä¼ é€’ç±»å‹ï¼šï¼ˆèµ‹å€¼è¿‡ç¨‹ï¼‰
https://www.runoob.com/w3cnote/python-variable-references-and-copies.html

Python èµ‹å€¼è¿‡ç¨‹ä¸­ä¸æ˜ç¡®åŒºåˆ†æ‹·è´å’Œå¼•ç”¨ï¼Œä¸€èˆ¬å¯¹é™æ€å˜é‡çš„ä¼ é€’ä¸ºæ‹·è´ï¼Œå¯¹åŠ¨æ€å˜é‡çš„ä¼ é€’ä¸ºå¼•ç”¨ã€‚ï¼ˆæ³¨ï¼Œå¯¹é™æ€å˜é‡é¦–æ¬¡ä¼ é€’æ—¶ä¹Ÿæ˜¯å¼•ç”¨ï¼Œå½“éœ€è¦ä¿®æ”¹é™æ€å˜é‡æ—¶ï¼Œå› ä¸ºé™æ€å˜é‡ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ç©ºé—´å­˜å‚¨æ•°æ®ï¼‰ã€‚
â€¢  å­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå…ƒç»„ å‡ä¸ºé™æ€å˜é‡
â€¢ åˆ—è¡¨ï¼Œå­—å…¸ä¸ºåŠ¨æ€å˜é‡ã€‚
å¯ä»¥ç”¨idï¼ˆï¼‰æŸ¥çœ‹æŒ‡å‘çš„åœ°å€"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hugotest-phi.vercel.app/posts/"},{"@type":"ListItem","position":2,"name":"Python01 æ•°æ®æ¨¡å‹å’Œå¸¸ç”¨æ•°æ®ç»“æ„","item":"https://hugotest-phi.vercel.app/posts/python/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python01 æ•°æ®æ¨¡å‹å’Œå¸¸ç”¨æ•°æ®ç»“æ„","name":"Python01 æ•°æ®æ¨¡å‹å’Œå¸¸ç”¨æ•°æ®ç»“æ„","description":"ä¸ªäººçš„ã€ŠPython Cookbookã€‹ \u0026amp;\u0026amp; ã€ŠFluent Pythonã€‹é˜…è¯»ç¬”è®°ã€‚\næ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰ ï¼ˆMagic methodï¼‰dunder methodï¼šPythonç‰¹æœ‰çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿæ”¯æŒPythonè¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨ï¼Œå®ç°é€šç”¨æ–¹æ³•åœ¨æ–°å®šä¹‰çš„æ•°æ®ç»“æ„ä¸Šçš„ä½¿ç”¨ï¼Œæ¯”å¦‚æœ€å…¸å‹çš„:\n__len__()åå¯ä»¥æ”¯æŒlen()ï¼Œè·å¾—ç»“æ„çš„é•¿åº¦\n__getitem__()åå¯ä»¥æ”¯æŒdata[index]æ¥è·å–ç›¸åº”çš„å…ƒç´ ï¼Œåˆ‡ç‰‡ï¼Œç­‰ç­‰æ•°ç»„çš„æ“ä½œï¼›\n1 2 3 4 5 6 7 8 9 10 # ä¹Ÿå¯ä»¥æ”¯æŒç±»ä¼¼å¦‚ä¸‹çš„ä¸€äº›æ“ä½œ # ä»æ•°æ®ç»“æ„ä¸­éšæœºé€‰å‡ºä¸€ä¸ªitems from random import choice choice(datas) # ä¹Ÿå¯ä»¥æ”¯æŒè¿­ä»£æ–¹æ³•å’Œåè¿­ä»£æ–¹æ³• for data in datas: ... for data in reversed(datas): ... # ä¹Ÿå¯ä»¥æ”¯æŒsortå‡½æ•° åˆ°è¿™é‡Œä¹Ÿå°±è¯´æ˜äº†ï¼Œåªè¦æˆ‘ä»¬åœ¨æ•°æ®ç»“æ„ï¼ˆclassï¼‰ä¸­å®šä¹‰äº†ç›¸åº”çš„dunder methodï¼Œè¯¥classå°±èƒ½æ”¯æŒç›¸åº”çš„ä¸€ç³»åˆ—æ“ä½œï¼Œgetitemså°±å¯ä»¥ç±»æ¯”ä¸ºåˆ—è¡¨ï¼Œç›¸åº”çš„æ“ä½œéƒ½èƒ½å¤Ÿåœ¨pythonè§£é‡Šå™¨ä¸‹è‡ªåŠ¨çš„èµ‹äºˆæ”¯æŒã€‚\nè¿˜æœ‰ä¸€äº›å¥½ç”¨ä½†ä¸å¸¸ç”¨çš„æ–¹æ³•ï¼š\n__contain__å®ç°çš„æ˜¯in ï¼Œå½“æ²¡æœ‰å®ç°containçš„æ–¹æ³•çš„æ—¶å€™ä¼šæŒ‰ç…§é¡ºåºåœ¨listä¸­è¿›è¡Œæœç´¢ __abs__ __repr__å®ç°çš„æ˜¯è¾“å‡ºçš„formatè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯printçš„æ—¶å€™çš„è¾“å‡ºå½¢å¼ __eq__ å®ç°çš„æ˜¯ == å‘½ä»¤ï¼ŒåŒæ—¶inè°ƒç”¨çš„æ˜¯__eq__ ä¸‹é¢é™„ä¸Šä¸€å¼ ç‰¹æ®Šæ–¹æ³•è¡¨ï¼š\nåŸºæœ¬å‘½åè§„èŒƒ ç›¸å…³çš„æ–‡ä»¶å’Œå‡½æ•°ç­‰å‘½åè§„åˆ™ã€‚\nå‘½åæ ·ä¾‹è¡¨ å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´ Python å˜é‡çš„ä¼ é€’ç±»å‹ï¼šï¼ˆèµ‹å€¼è¿‡ç¨‹ï¼‰ https://www.runoob.com/w3cnote/python-variable-references-and-copies.html Python èµ‹å€¼è¿‡ç¨‹ä¸­ä¸æ˜ç¡®åŒºåˆ†æ‹·è´å’Œå¼•ç”¨ï¼Œä¸€èˆ¬å¯¹é™æ€å˜é‡çš„ä¼ é€’ä¸ºæ‹·è´ï¼Œå¯¹åŠ¨æ€å˜é‡çš„ä¼ é€’ä¸ºå¼•ç”¨ã€‚ï¼ˆæ³¨ï¼Œå¯¹é™æ€å˜é‡é¦–æ¬¡ä¼ é€’æ—¶ä¹Ÿæ˜¯å¼•ç”¨ï¼Œå½“éœ€è¦ä¿®æ”¹é™æ€å˜é‡æ—¶ï¼Œå› ä¸ºé™æ€å˜é‡ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ç©ºé—´å­˜å‚¨æ•°æ®ï¼‰ã€‚\nâ€¢ å­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå…ƒç»„ å‡ä¸ºé™æ€å˜é‡\râ€¢ åˆ—è¡¨ï¼Œå­—å…¸ä¸ºåŠ¨æ€å˜é‡ã€‚ å¯ä»¥ç”¨idï¼ˆï¼‰æŸ¥çœ‹æŒ‡å‘çš„åœ°å€\n","keywords":["Python","Langs"],"articleBody":"ä¸ªäººçš„ã€ŠPython Cookbookã€‹ \u0026\u0026 ã€ŠFluent Pythonã€‹é˜…è¯»ç¬”è®°ã€‚\næ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰ ï¼ˆMagic methodï¼‰dunder methodï¼šPythonç‰¹æœ‰çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿæ”¯æŒPythonè¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨ï¼Œå®ç°é€šç”¨æ–¹æ³•åœ¨æ–°å®šä¹‰çš„æ•°æ®ç»“æ„ä¸Šçš„ä½¿ç”¨ï¼Œæ¯”å¦‚æœ€å…¸å‹çš„:\n__len__()åå¯ä»¥æ”¯æŒlen()ï¼Œè·å¾—ç»“æ„çš„é•¿åº¦\n__getitem__()åå¯ä»¥æ”¯æŒdata[index]æ¥è·å–ç›¸åº”çš„å…ƒç´ ï¼Œåˆ‡ç‰‡ï¼Œç­‰ç­‰æ•°ç»„çš„æ“ä½œï¼›\n1 2 3 4 5 6 7 8 9 10 # ä¹Ÿå¯ä»¥æ”¯æŒç±»ä¼¼å¦‚ä¸‹çš„ä¸€äº›æ“ä½œ # ä»æ•°æ®ç»“æ„ä¸­éšæœºé€‰å‡ºä¸€ä¸ªitems from random import choice choice(datas) # ä¹Ÿå¯ä»¥æ”¯æŒè¿­ä»£æ–¹æ³•å’Œåè¿­ä»£æ–¹æ³• for data in datas: ... for data in reversed(datas): ... # ä¹Ÿå¯ä»¥æ”¯æŒsortå‡½æ•° åˆ°è¿™é‡Œä¹Ÿå°±è¯´æ˜äº†ï¼Œåªè¦æˆ‘ä»¬åœ¨æ•°æ®ç»“æ„ï¼ˆclassï¼‰ä¸­å®šä¹‰äº†ç›¸åº”çš„dunder methodï¼Œè¯¥classå°±èƒ½æ”¯æŒç›¸åº”çš„ä¸€ç³»åˆ—æ“ä½œï¼Œgetitemså°±å¯ä»¥ç±»æ¯”ä¸ºåˆ—è¡¨ï¼Œç›¸åº”çš„æ“ä½œéƒ½èƒ½å¤Ÿåœ¨pythonè§£é‡Šå™¨ä¸‹è‡ªåŠ¨çš„èµ‹äºˆæ”¯æŒã€‚\nè¿˜æœ‰ä¸€äº›å¥½ç”¨ä½†ä¸å¸¸ç”¨çš„æ–¹æ³•ï¼š\n__contain__å®ç°çš„æ˜¯in ï¼Œå½“æ²¡æœ‰å®ç°containçš„æ–¹æ³•çš„æ—¶å€™ä¼šæŒ‰ç…§é¡ºåºåœ¨listä¸­è¿›è¡Œæœç´¢ __abs__ __repr__å®ç°çš„æ˜¯è¾“å‡ºçš„formatè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯printçš„æ—¶å€™çš„è¾“å‡ºå½¢å¼ __eq__ å®ç°çš„æ˜¯ == å‘½ä»¤ï¼ŒåŒæ—¶inè°ƒç”¨çš„æ˜¯__eq__ ä¸‹é¢é™„ä¸Šä¸€å¼ ç‰¹æ®Šæ–¹æ³•è¡¨ï¼š\nåŸºæœ¬å‘½åè§„èŒƒ ç›¸å…³çš„æ–‡ä»¶å’Œå‡½æ•°ç­‰å‘½åè§„åˆ™ã€‚\nå‘½åæ ·ä¾‹è¡¨ å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´ Python å˜é‡çš„ä¼ é€’ç±»å‹ï¼šï¼ˆèµ‹å€¼è¿‡ç¨‹ï¼‰ https://www.runoob.com/w3cnote/python-variable-references-and-copies.html Python èµ‹å€¼è¿‡ç¨‹ä¸­ä¸æ˜ç¡®åŒºåˆ†æ‹·è´å’Œå¼•ç”¨ï¼Œä¸€èˆ¬å¯¹é™æ€å˜é‡çš„ä¼ é€’ä¸ºæ‹·è´ï¼Œå¯¹åŠ¨æ€å˜é‡çš„ä¼ é€’ä¸ºå¼•ç”¨ã€‚ï¼ˆæ³¨ï¼Œå¯¹é™æ€å˜é‡é¦–æ¬¡ä¼ é€’æ—¶ä¹Ÿæ˜¯å¼•ç”¨ï¼Œå½“éœ€è¦ä¿®æ”¹é™æ€å˜é‡æ—¶ï¼Œå› ä¸ºé™æ€å˜é‡ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ç©ºé—´å­˜å‚¨æ•°æ®ï¼‰ã€‚\nâ€¢ å­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå…ƒç»„ å‡ä¸ºé™æ€å˜é‡\râ€¢ åˆ—è¡¨ï¼Œå­—å…¸ä¸ºåŠ¨æ€å˜é‡ã€‚ å¯ä»¥ç”¨idï¼ˆï¼‰æŸ¥çœ‹æŒ‡å‘çš„åœ°å€\nåœ¨ä¿®æ”¹åˆ—è¡¨å€¼ä¹‹ç±»çš„æ—¶å€™è¦æ³¨æ„è¿™ä¸€ç‚¹ï¼Œä¸ç„¶å¯èƒ½ä¼šå½±å“åˆ°æºåˆ—è¡¨ï¼Œå¯èƒ½è¦ä½¿ç”¨æ·±æ‹·è´çš„æ–¹æ³•ï¼Œ copy.deepcopy()\npython å®šä¹‰æ–¹æ³•æ—¶å€™æŒ‡å®šå‚æ•°ï¼Œè¿”å›å€¼å’Œå˜é‡çš„ç±»å‹ ï¼š\n1 2 3 4 5 6 def test(a:int, b:str) -\u003e str: print(a, b) return 1000 if __name__ == '__main__': test('test', 'abc') ç±»ä¸å‡½æ•° argsï¼Œkwargsçš„ç”¨æ³•å’Œè§£åŒ…ï¼Œä¸»è¦å°†å­—å…¸ä½œä¸ºå‚æ•°æ•´ä½“ä¼ å…¥çš„è¿™ç§æ–¹æ³•å€¼å¾—å­¦ä¹ \n1 å¯ä»¥ç”¨*ï¼Œ**å®šä¹‰å’Œè§£åŒ… id()å¯ä»¥è·å–å˜é‡çš„åœ°å€ï¼Œtypeï¼ˆï¼‰æŸ¥çœ‹æ•°æ®ç±»å‹ï¼Œisinstanceåˆ¤æ–­ç±»å‹\nlocals().keys() è·å¾—å½“å‰å·²ç»å£°æ˜çš„å˜é‡åˆ—è¡¨\nsys.argv[0] å¯è·å–å½“å‰å·¥ä½œåŒºçš„åœ°å€\nåŒ¿åå‡½æ•° å•ä¸‹åˆ’çº¿ å®šä¹‰çš„å‡½æ•°ï¼Œå±æ€§ï¼Œæˆ–è€…æ–¹æ³• è¿™è¡¨æ˜è¿™ä¸ªmemberæ˜¯å—ä¿æŠ¤çš„ï¼š\næ˜¯ç”¨æ¥æŒ‡å®šç§æœ‰å˜é‡å’Œæ–¹æ³•çš„æ–¹å¼ï¼ˆåªæ˜¯ä¸€ç§çº¦å®šä¹ æƒ¯ï¼‰,ä¸å¸Œæœ›è¢«ä¸‹æ¸¸çš„ç¨‹åºå‘˜ç›´æ¥è®¿é—®çš„å‡½æ•°ã€‚ å¦‚æœä½¿ç”¨from a_module importå¯¼å…¥æ—¶ï¼Œè¿™éƒ¨åˆ†å˜é‡å’Œå‡½æ•°ä¸ä¼šè¢«å¯¼å…¥ ä½†æ˜¯å¦‚æœä½¿ç”¨ import a_moduleè¿™æ ·å¯¼å…¥æ¨¡å—ï¼Œä»ç„¶å¯ä»¥ç”¨a_module._pythonPointè¿™æ ·çš„å½¢å¼è®¿é—®åˆ°è¿™æ ·çš„å¯¹è±¡ã€‚ Bool and or not åŸºæœ¬çš„å°±ä¸ç”¨daaaaaaaaaaaaaaaaaaaè¯´äº†ï¼Œä¸»è¦æ˜¯ä¸€äº›ç‰¹æ®Šçš„ç”¨æ³•ä¸¾ä¾‹\n1 2 # not ä¼šå…ˆäº and æ‰§è¡Œ if not flag1 and flag2 == True ç”¨é€»è¾‘è¿ç®—ç¬¦åšå‚æ•°é€‰æ‹©\n1 judge = index == 0 and num1 or num2 Argparse åŸºæœ¬çš„ç”¨æ³•ï¼šå‚è€ƒuniversal frameworkå³å¯ï¼Œä¸»è¦æ˜¯boolç±»å‹æ— æ³•é€šè¿‡å‘½ä»¤è¡Œä¼ å…¥\n1 2 3 4 # ä½¿ç”¨store_trueå±æ€§ï¼Œå°±å¯ä»¥æ‰§è¡Œé»˜è®¤çš„True or False parser.add_argument(\"--bool_chose\",default=False ,action='store_true',help='a switch of bool variable') # ğŸ‘‡é€‰æ‹©ä¸Šä¸åŸæœ¬å®Œå…¨æ˜¯ç›¸åçš„ parser.add_argument(\"--bool_chose\",default=True ,action='store_true',help='a switch of bool variable') Random ä½¿ç”¨sampleä¸é‡å¤çš„é€‰å–å­—å…¸æˆ–è€…åˆ—è¡¨ä¸­çš„æŒ‡å®šé¡¹\n1 2 list = [1,2,3,4,5] choose = random.sample(list,2) ä½¿ç”¨choiceè¿›è¡Œå¯é‡å¤çš„é€‰å–\n1 2 3 4 c_r = np.arange(20) for i in range(10): c_i = random.choice(c_r) print(c_i) æ‰“ä¹±åˆ—è¡¨æ’åº\n1 2 3 4 5 6 A = [1,2,3,4,5,6] # å¾—åˆ°indexçš„åˆ—è¡¨ B = np.arange(len(A)) # å¯¹è¯¥åˆ—è¡¨è¿›è¡Œæ‰“ä¹±ï¼Œé€šè¿‡æ‰“ä¹±çš„åˆ—è¡¨è¿›è¡Œç´¢å¼• random.shuffle(B) print(B) Logging System æ—¥å¿— HOWTO â€” Python 3.9.4 æ–‡æ¡£ ï¼›æ—¥å¿—æ“ä½œæ‰‹å†Œ â€” Python 3.9.4 æ–‡æ¡£ Python loggingæ¨¡å— ï¼›loggingæ¨¡å—çš„ç®€å•ä½¿ç”¨ åŸºç¡€ä½¿ç”¨ ä»ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­å¼€å§‹ï¼Œé»˜è®¤çš„å‘½ä»¤è¡Œè¾“å‡ºç­‰çº§æ˜¯warning\n1 2 3 4 5 import logging logging.debug('this message should only show up in log file') logging.info('so do this one ') logging.warning('this one will also show up in the console') logging.error('And non-ASCII stuff, too, like resund and Malm') å‡å¦‚æˆ‘ä»¬è®¾ç½®logæ–‡ä»¶çš„å­˜å‚¨ä»¥åŠè¾“å‡ºçš„æ ¼å¼ï¼ˆåŒ…æ‹¬ç®—æ³•è¿è¡Œçš„æ—¶é—´ï¼‰\nä½†æ˜¯æ³¨æ„è¿™ä¸ªconfigæ˜¯ä¸€æ¬¡æ€§è®¾ç½®ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è®¾ç½®æ˜¯æœ‰æ•ˆçš„ 1 2 logging.basicConfig(format='%(asctime)s %(levelname)s %(message)s ', datefmt='%Y-%m-%d %I:%M:%S %p', filename=\"exampleFile.log\",level=logging.DEBUG) # è¿™é‡Œè®¾ç½®äº†æ–‡ä»¶çš„è¾“å‡ºåç§°å’Œè¾“å‡ºçš„æ ¼å¼ï¼Œä»¥åŠç›¸åº”çš„è®°å½•åˆ°æ–‡ä»¶ä¸­çš„ç­‰çº§ ä¹Ÿå¯ä»¥ä»å‘½ä»¤è¡Œè®¾ç½®æ—¥å¿—ç­‰çº§,å¯ä»¥è·å–å½“å‰çš„ç­‰çº§\n1 2 --log = INFO # getattr è¿™ä¸ªæ–¹æ³•ç›®å‰å¥½åƒè¿˜æœ‰ç‚¹é—®é¢˜ï¼Œ è¿›é˜¶ä½¿ç”¨ é€šè¿‡4ä¸ªmoduleçš„ç»„åˆæ¥å®ç°record logçš„åŠŸèƒ½ï¼Œé€šè¿‡Loggerè½½å…¥å¤šä¸ªHandlerï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ ‡å‡†å’Œæ–¹å¼åœ¨å¤šä¸ªFileä»¥åŠæ§åˆ¶å°è¾“å‡ºä¸åŒLevelçš„ä¸œè¥¿ï¼Œè¿™å°±æ˜¯ä¸»è¦çš„åŠŸèƒ½ã€‚\nUntitled å…·ä½“çš„å®ç°æ ·ä¾‹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 import logging # create logger to record log messages logger = logging.getLogger('textlogger') # é¿å…ç­‰çº§c logger.propagate = 0 logger.setLevel(logging.DEBUG) # create file handler which logs even debug messages fh = logging.FileHandler('exampleFile.log') fh.setLevel(logging.WARNING) # creatr console handler... ch = logging.StreamHandler() ch.setLevel(logging.DEBUG) # create output format for all the handler formatter = logging.Formatter('%(asctime)s %(levelname)s %(message)s ', datefmt='%Y-%m-%d %I:%M:%S %p') ch.setFormatter(formatter) fh.setFormatter(formatter) # add handler to logger logger.addHandler(ch) logger.addHandler(fh) # record logs logger.debug('this message should only show up in log file {}'.format('test is')) logger.info('so do this one ') logger.warning('this one will also show up in the console') logger.error('show up twice') ä½†æ˜¯è¿™ç§æ ¼å¼çš„æ—¶å€™æ€ä¹ˆå®ç°è·¨æ–‡ä»¶ä¼ è¾“å‘¢ï¼Ÿ\n1 å†åŒä¸ªæ–‡ä»¶ä¸­æˆ‘ä»¬åªéœ€è¦è¿›è¡Œgetloggerä½¿ç”¨åŒä¸€ä¸ªåå­—å³å¯è·å¾—åŒä¸€ä¸ªloggerï¼Œä½†æ˜¯è·¨æ–‡ä»¶çš„è¯å¯èƒ½è¿˜æ˜¯éœ€è¦ä¼ é€’loggeræŠŠã€‚ æˆ‘è®¤ä¸ºåº”è¯¥ä¼ é€’è¯¥logger,ç„¶åé€šè¿‡è¯¥Loggerè¿›è¡Œç»Ÿä¸€çš„è¾“å‡ºï¼Œé‡åˆ°ä¸åŒçš„è¾“å‡ºè¦æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹handlerè¿›è¡Œä¸ä¸€æ ·çš„å¤„ç†ä»è€Œèƒ½å¤Ÿå¾—åˆ°å¤šæ ·åŒ–çš„loggerè¾“å‡º\nLoggerä¸è£…é¥°å™¨çš„ç»„åˆä½¿ç”¨ å‚è§åç»­çš„è£…é¥°å™¨è§£è¯»æ¨¡å—\nFIles System Import manage init.py æ–‡ä»¶çš„ä½œç”¨ init.py æ–‡ä»¶ä½¿ç”¨ å…¶å®ä¸»è¦å°±æ˜¯æ§åˆ¶ç€åŒ…çš„å¯¼å…¥åŠŸèƒ½ï¼Œä½¿ç”¨__all__æ¥å¯¹åº”from package import *çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨initä¸­æ‰¹é‡çš„å¯¼å…¥æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸åœ¨éœ€è¦ä¸€ä¸ªä¸ªçš„è¿›è¡Œå¯¼å…¥äº†ï¼ŒåŸºäºè¿™ç§ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç¼–å†™ä¸€ä¸ªmanage fuctionï¼Œé€šè¿‡configæ¥è¿›è¡Œé€‰æ‹©æ€§çš„å¯¼å…¥ã€‚\nä¸»è¦çš„å·¦å³æ˜¯pythonä¸­packageçš„æ ‡è¯†ï¼Œä¸èƒ½åˆ é™¤ å®šä¹‰__all__ç”¨æ¥è¿›è¡Œæ¨¡ç³Šå¯¼å…¥ ç¼–å†™pythonä»£ç ï¼Œä¼šåœ¨import packageçš„æ—¶å€™åŒæ—¶importï¼Œä½†æ˜¯æ¨èåœ¨åŒ…ä¸­åˆ›å»ºå¦å¤–çš„æ¨¡å—æ¥å†™ï¼Œå°½é‡ä¿è¯è¯¥æ–‡ä»¶ç®€å• Path Manage è·¯å¾„åˆ‡åˆ† å°†è·¯å¾„åˆ‡åˆ†æˆåœ°å€å’Œæ–‡ä»¶ï¼š\n1 2 3 4 import os p,f = os.path.split(origin) print(\"path == \",p) print(\"file == \",f) åˆ‡åˆ†å‡ºæ–‡ä»¶çš„ç›˜ç¬¦å’Œæ–‡ä»¶å\n1 dev,left = os.path.splitdrive(origin) åˆ‡åˆ†å‡ºæ–‡ä»¶å’Œæ‹“å±•å\n1 f,ext = os.path.splittext(origin) æ–‡ä»¶éå† os.walk() ç®€å•å¥½ç”¨çš„ç›®å½•éå†å™¨ç”¨äºåœ¨ç›®å½•æ ‘ä¸­æ¸¸èµ°è¾“å‡ºç›®å½•ä¸­çš„æ–‡ä»¶åï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹ã€‚\n1 os.walk(top,topdown,onerror,followlinks) topï¼šéå†çš„ç›®å½•åœ°å€ ï¼ˆoptionï¼‰topdownï¼šTrueçš„è¯ä¼˜å…ˆéå†topç›®å½•ï¼Œå¦åˆ™ä¼šä¼˜å…ˆéå†å­ç›®å½• ï¼ˆoptionï¼‰onerrorï¼šå½“éœ€è¦å¼‚å¸¸çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ ï¼ˆoptionï¼‰followlinksï¼šæ˜¯å¦è¦è·³è½¬åˆ°å¿«æ·æ–¹å¼ï¼ˆæˆ–è€…è½¯è¿æ¥éå†ï¼‰ RETURNï¼šï¼ˆrootï¼Œdirsï¼Œfilesï¼‰\nrootï¼šæ ¹ç›®å½• dirsï¼šæ–‡ä»¶å¤¹ä¸­æ‰€æœ‰ç›®å½•çš„åå­—ï¼ˆå­æ–‡ä»¶å¤¹ï¼‰ filesï¼šç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„åå­— å±‚åºéå†æ¯æ¬¡æ˜¯è¯¥å±‚çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•çš„åå­—\nGlob.glob() æ–‡ä»¶éå†æ–¹æ³•\næ–‡ä»¶è¯»å†™ Data Structural ä½è¿ç®— ä½è¿ç®—åˆ¤æ–­å¥‡å¶ä¸€è‡´æ€§\n1 2 # Tï¼šå¥‡å¶æ€§ä¸ä¸€è‡´ Fï¼šå¥‡å¶æ€§ä¸€è‡´ (a ^ b) \u0026 1 äºŒè¿›åˆ¶æ“ä½œ ä¸æˆ–éå°±ä¸ç”¨å¤šè¯´ï¼Œä¸»è¦æ˜¯ä»‹ç»ä¸€ä¸ªmodule bitarray\nåºåˆ—æ„æˆçš„æ•°ç»„ è¿™ä¸€éƒ¨åˆ†ä¸»è¦æœ‰å‡ ä¸ªé‡ç‚¹ï¼šåˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨ã€å…ƒç»„ç‰¹æ€§å’Œä½¿ç”¨\nåˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨ 1 2 3 4 5 # å°†å­—ç¬¦ä¸²å˜æˆUnicodeç ä½ symbols = 'sdac@#' codes = [ord(symbol) for symbol in symbols if ord(symbol) \u003e127] # ä¸mapå’Œfilterçš„æ¯”è¾ƒ lists(filter(lambda c:c\u003e127, map(ord,symbols))) å¯ä»¥çœ‹å‡ºåˆ—è¡¨æ¨å¯¼å¼çš„è¡¨è¾¾æ›´ä¸ºç®€æ´æ˜“æ‡‚ï¼Œè€Œä¸”å®é™…ä¸Šè¿è¡Œçš„æ•ˆç‡ä¹Ÿä¸ä½\nä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ç”Ÿæˆç¬›å¡å°”ç§¯ ä¸¾ä¾‹ï¼šæ¯ä¸ªsizeæœ‰ä¸åŒçš„é¢œè‰²\n1 2 3 4 colors = ['black','blue','red'] sizes = ['S','M','L'] # å…ˆæŒ‰é¢œè‰²å¾ªç¯å†æŒ‰sizeå¾ªç¯ï¼Œå†…å¤–å±‚å¾ªç¯çš„å…³ç³» tshirts = [(color,size) for color in colors for size in sizes] ç”Ÿæˆå™¨è¡¨è¾¾å¼ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æ¥åˆå§‹åŒ–å…ƒç»„ã€æ•°ç»„ã€æˆ–è€…å…¶ä»–çš„æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ç”Ÿæˆå™¨è¡¨è¾¾å¼ç¬¦åˆäº†è¿­ä»£å™¨çš„åè®®ï¼Œå¯ä»¥é€ä¸ªçš„äº§å‡ºå…ƒç´ ï¼Œè€Œä¸æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼Œèƒ½å¤ŸèŠ‚çœå†…å­˜\nè¯­æ³•ä¸Šå’Œåˆ—è¡¨æ¨å¯¼å·®ä¸å¤šï¼Œåªä¸è¿‡æŠŠæ–¹æ‹¬å·æ¢æˆåœ†æ‹¬å·è€Œå·²\n1 2 3 tuple(ord(symbol) for symbol in symbols) import array array.array('I',ord(symbol) for symbol in symbols) åˆ©ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼æ¥è®¡ç®—ç¬›å¡å°”ç§¯\n1 2 3 4 # è¿™æ ·å¯ä»¥æ›´å¥½çš„ä½“ç°é€ä¸ªç”Ÿæˆçš„ç‰¹æ€§ï¼Ÿä½†æ˜¯å®é™…ä¸Šåˆ—è¡¨æ¨å¯¼å¼ä¹Ÿå¯ä»¥æŠŠï¼Ÿ # ä½†æ˜¯æ€»ä¹‹æ˜¯ç”±è¿™æ ·çš„ç‰¹æ€§çš„ï¼Œèƒ½å¤Ÿé¿å…é¢å¤–çš„å†…å­˜å ç”¨ for tshirt in ('%s %s' %(c,s) for c in colors for s in sizes): print(tshirt) å…ƒç»„ä¸ä»…æ˜¯ä¸å¯å˜çš„åˆ—è¡¨ åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ åˆ—è¡¨çš„æ¡ä»¶åŠ å’Œ æœ‰ä¸å°‘ç±»ä¼¼å’Œæ¡ä»¶è¯­å¥ç›¸å…³çš„æ“ä½œï¼Œåˆ—ä¸¾ä¸€äº›åŸºæœ¬å®ä¾‹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 # np.random.randint? A = np.random.randint(0,3,5) B = np.random.randint(0,3,5) print('origin Aã€€is {} \\n And B is {}'.format(A,B)) # style 1 ç›¸å½“äºè½¬æ¢æˆä¸€ä¸ªToFçš„listï¼Œç„¶åå¯¹è¿™æ ·çš„listç›´æ¥è¿›è¡Œsum same = (A == B).sum() print('\\nthe num of same element in same posi is', same) 1 2 '''åˆ—è¡¨çš„+=ï¼Œä¹Ÿå°±æ˜¯ç®€å•æ‹¼æ¥æ“ä½œ''' [1,2,3]+[2,3,4] åˆ—è¡¨çš„æ•°ä¹˜ åˆ—è¡¨çš„æ•°ä¹˜æ˜¯å¯¹åˆ—è¡¨çš„é¡¹æ•°è¿›è¡Œä¸€ä¸ªé‡å¤æ€§çš„æ‰©å……ï¼Œä½†æ˜¯æ³¨æ„è¿™ç§é‡å¤ä¸èƒ½é’ˆå¯¹é‚£ç§ç‰¹æ®Šç±»å‹ï¼ˆä¹Ÿå°±æ˜¯èµ‹å€¼ä¼šç›´æ¥åŸºäºåœ°å€çš„ï¼šå¼•ç”¨ï¼Ÿï¼‰ æ‰€ä»¥è¿™æ˜¯å¯¹äºé¡¹æ•°çš„æ“ä½œè€Œä¸æ˜¯å¯¹åˆ—è¡¨ä¸­æ•°å€¼çš„ç›´æ¥æ“ä½œï¼Œå‚è€ƒå˜é‡èµ‹å€¼çš„éƒ¨åˆ†\n1 2 3 4 value = 5 unlist = [value] outlist = unlist * 5 print('the output is like that : {}'.format(outlist)) rangeå‡½æ•°å¸¸ç”¨æ“ä½œ https://docs.python.org/zh-cn/3.7/library/stdtypes.html?highlight=range#range rangeç”Ÿæˆçš„å¹¶ä¸æ˜¯åˆ—è¡¨ï¼Œè€Œæ˜¯ä¸€ä¸ªrangeç»„è€Œå·² 1 2 3 4 reallist = list(range(20)) # rangeçš„æ­¥é•¿è®¾ç½® for i in range(0,20,5): print(i) Universal Method Sortï¼ˆï¼‰å¯¹åˆ—è¡¨è¿›è¡Œæ’åº sortç”¨äºå¯¹æºåˆ—è¡¨è¿›è¡Œæ’åºï¼Œå¦‚æœæŒ‡å®šå‚æ•°ï¼Œåˆ™ä½¿ç”¨æŒ‡å®šçš„æ¯”è¾ƒå‡½æ•° å‚è€ƒèµ„æ–™ï¼šhttps://www.runoob.com/python/att-list-sort.html\n1 2 3 4 5 6 # çº¯æ•°å­—çš„æƒ…å†µå°±æŒ‰åŸºæœ¬æ–¹å¼è¿›è¡Œæ’åˆ— list1 = [1,2,4,5,6,23,4] list1.sort() list1 # ç±»ä¼¼çš„stringå°±æŒ‰æ‰¾å­—æ¯è¡¨è¿›è¡Œé€é¡¹æ’åºå§ï¼Œæˆ‘æ˜¯è¿™æ ·ç†è§£çš„ é˜Ÿåˆ—queue \u0026 deque SETé›†åˆ https://www.runoob.com/python3/python3-set.html {}å¯ä»¥å®šä¹‰å­—å…¸ï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºé›†åˆ ä½†æ˜¯ç©ºçš„é›†åˆåªèƒ½ç”¨set()å®šä¹‰ï¼ˆå› ä¸º{}å®šä¹‰çš„æ˜¯ç©ºå­—å…¸ï¼‰ åŸºæœ¬çš„methodï¼š\naddã€removeã€discardï¼ˆä¹Ÿæ˜¯ç§»é™¤ï¼Œä½†æ˜¯å‡å¦‚å…ƒç´ ä¸å­˜åœ¨çš„è¯ä¹Ÿä¸ä¼šæŠ¥é”™ï¼‰ lenï¼Œclear ä¸»è¦æ˜¯å¯ä»¥åˆ©ç”¨å…¶ä¸­ä¸ä¼šé‡å¤çš„å…ƒç´ çš„ç‰¹æ€§æ¥è¿›è¡Œç‰¹æ®Šçš„æ“ä½œ\n1 2 3 basker = {'apple', 'organge', 'apple', 'pear'} print('basker:', basker) 'orange' in basker 1 2 a = set('go straight forward') # å¯ä»¥åœ¨é›†åˆä¸­åšäº¤å¹¶ç­‰ç­‰é›†åˆçš„æ“ä½œ åˆ©ç”¨setè¿›è¡Œå»é‡ å¦‚ä½•åˆ©ç”¨setå¯¹unhashableçš„data structureè¿›è¡Œå»é‡ï¼Œè¿™é‡Œé‡‡å–çš„æ–¹å¼æ˜¯ä½¿ç”¨tupleå¯¹æ•°ç»„è¿›è¡Œå˜æ¢ï¼›\nå®é™…ä¸Šunhashableçš„åŸå› åœ¨äºå¯¹è±¡æ˜¯å¯å˜å¯¹è±¡ï¼šæ¯”å¦‚np.arrayï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºä¸å¯å˜çš„tupleä¹‹åå°±å¯ä»¥è¿›è¡Œhashçš„è®¡ç®—ä»è€Œè¿›è¡Œå»é‡äº†ã€‚\n1 2 3 4 5 6 7 8 9 # äºŒç»´æ•°ç»„ä¸ºä¾‹ array1 = np.random.rand(3,4) array1_t = tuple(map(tuple,array1)) resume = np.array(array1_t) # è¿›è¡Œè½¬æ¢çš„æ—¶å€™æ³¨æ„ä¸è¦è¿›è¡Œè¿‡åº¦çš„æ‹†åˆ†ï¼Œä¸Šè¿°çš„æ–¹æ³•åªé€‚ç”¨äºäºŒç»´æ•°ç»„çš„æƒ…å†µï¼Œ text = ['abcsd','dsdc','cdsda'] text = tuple(text) # å³å¯ï¼Œä¸ç„¶å¯èƒ½ä¼šå°†å…¶ä¸­çš„æ–‡æœ¬å…¨éƒ¨æ‹†åˆ†å‡ºæ¥ # åç»­è¡¥å……ä¸€ä¸‹mapçš„å…¶ä»–ç”¨æ³•ã€‚[func,iterator?] Dictï¼ŒHashmap å®é™…ä¸Špythonä¸­çš„å­—å…¸å°±æ˜¯hashmapçš„å…·ä½“å®ç°ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„ç»“æ„\nåˆ¤æ–­å­—å…¸ä¸­çš„keyæ˜¯å¦å­˜åœ¨çš„æ–¹æ³• é¦–å…ˆå¦‚æœæˆ‘ä»¬è°ƒç”¨çš„keyä¸å­˜åœ¨çš„è¯ï¼š keyerror\n1 2 \u003e\u003e\u003e 'key1' in dict1 false æˆ–è€…ä½¿ç”¨getæ–¹æ³•ï¼Œèƒ½ç»™ä¸å­˜åœ¨çš„keyèµ‹äºˆé»˜è®¤çš„value,åœ¨è¿™ä¸ªæ—¶å€™å‡ºç°çš„åˆ™æ˜¯nameerror\n1 2 3 \u003e\u003e\u003e d.get('key1') \u003e\u003e\u003e d.get('key1', -1) -1 å­—å…¸ä¸­çš„å¸¸ç”¨æ–¹æ³• â€¦\ncollections.defaultdict æŒ‡å®šdictä¸­æœªå®šä¹‰keyçš„value é€šè¿‡æŒ‡å®šçš„é»˜è®¤å€¼ï¼Œåœ¨ä¸€äº›ä½¿ç”¨åœºæ™¯ä¸‹å¯ä»¥å¯¹dictè¿›è¡Œç®€åŒ–çš„å®šä¹‰ åŒæ—¶ä¹Ÿèƒ½é’ˆå¯¹ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µï¼Œæ¯”å¦‚è¯´æœªè§æ•°æ®çš„æƒ…å†µï¼Œè¿›è¡Œå®šä¹‰ 1 2 3 4 5 6 7 8 9 # æŒ‡å®šlistç±»å‹ç”¨äºæœªå®šä¹‰ç±»åˆ«çš„å¡«å…… from collections import defaultdict dict1 = {} dict2 = defaultdict(list) try: print(dict1['a']) except: print('dict1 print key error') print('dict2 is like ', dict2['a']) dict1 print key error\rdict2 is like [] 1 2 3 4 5 6 7 8 # ç”¨æ³•2ï¼Œé¿å…keyerroræ›´å®¹æ˜“å¯¹å…¶è¿›è¡Œèµ‹å€¼ from collections import defaultdict bags = ['apple', 'orange', 'cherry', 'apple','apple', 'cherry', 'blueberry'] count = defaultdict(int) for fruit in bags: count[fruit] += 1 print('the count output is like \\n', count) # print(locals().keys()) the count output is like\rdefaultdict(","wordCount":"2268","inLanguage":"en","image":"https://hugotest-phi.vercel.app/cover/cover21.jpeg","datePublished":"2021-10-27T14:19:13Z","dateModified":"2021-10-27T14:19:13Z","author":[{"@type":"Person","name":"aikenhong"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://hugotest-phi.vercel.app/posts/python/"},"publisher":{"@type":"Organization","name":"aiken's blog","logo":{"@type":"ImageObject","url":"https://hugotest-phi.vercel.app/favicon/ghost.ico"}}}</script></head><body id=top><script type=module src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.esm.js defer></script><script nomodule src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.js defer></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hugotest-phi.vercel.app/ accesskey=h title="aiken's blog (Alt + H)">aiken's blog</a><div class=logo-switches><button id=theme-toggle-nav accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hugotest-phi.vercel.app/ title=home><span>home</span></a></li><li><a href=https://hugotest-phi.vercel.app/archives/ title=archives><span>archives</span></a></li><li><a href=https://hugotest-phi.vercel.app/search title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><div class=sidebar><ul><li class=logo style=--bg:#333><a href=#><div class=logo-icon><img src=/logo/logo.png></div><div class=logo-text>Aiken's Blog</div></a></li><div class=menulist><li style=--bg:#f44336><a href=https://hugotest-phi.vercel.app/ title=home><div class=logo-icon><ion-icon name=home-outline></ion-icon></div><div class=logo-text>home</div></a></li><li style=--bg:#b145e9><a href=https://hugotest-phi.vercel.app/posts/ title=posts><div class=logo-icon><ion-icon name=newspaper-outline></ion-icon></div><div class=logo-text>posts</div></a></li><li style=--bg:#0f93c7><a href=https://hugotest-phi.vercel.app/tags/ title=tags><div class=logo-icon><ion-icon name=pricetags-outline></ion-icon></div><div class=logo-text>tags</div></a></li><li style=--bg:#ffa117><a href=https://hugotest-phi.vercel.app/categories/ title=categories><div class=logo-icon><ion-icon name=grid-outline></ion-icon></div><div class=logo-text>categories</div></a></li><li style=--bg:#0fc70f><a href=https://hugotest-phi.vercel.app/archives/ title=archives><div class=logo-icon><ion-icon name=folder-outline></ion-icon></div><div class=logo-text>archives</div></a></li><li style=--bg:#d16111><a href=https://hugotest-phi.vercel.app/about/ title=about><div class=logo-icon><ion-icon name=person></ion-icon></div><div class=logo-text>about</div></a></li><li style=--bg:#15c095><a href=https://hugotest-phi.vercel.app/search title="search (Alt + /)" accesskey=/><div class=logo-icon><ion-icon name=search></ion-icon></div><div class=logo-text>search</div></a></li></div><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt +T)"><li><div class=logo-icon id=moon><ion-icon name=moon-outline></ion-icon></div><div class=logo-icon id=sun><ion-icon name=sunny-outline></ion-icon></div></li></button></div></ul></div><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hugotest-phi.vercel.app/>Home</a>&nbsp;Â»&nbsp;<a href=https://hugotest-phi.vercel.app/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Python01 æ•°æ®æ¨¡å‹å’Œå¸¸ç”¨æ•°æ®ç»“æ„</h1><div class=post-meta><span title='2021-10-27 14:19:13 +0000 UTC'>October 27, 2021</span>&nbsp;Â·&nbsp;11 min&nbsp;Â·&nbsp;2268 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/python> Python</a>&nbsp;Â·&nbsp;<a href=/tags/langs> Langs</a>&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/Python.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://hugotest-phi.vercel.app/cover/cover21.jpeg alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e6%95%b0%e6%8d%ae%e6%a8%a1%e5%9e%8bpython%e7%bb%93%e6%9e%84%e7%9a%84%e9%80%9a%e7%94%a8%e8%8c%83%e5%bc%8f aria-label=æ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰>æ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰</a><ul class=header-level-2><ul class=header-level-2><li><a href=#%e5%9f%ba%e6%9c%ac%e5%91%bd%e5%90%8d%e8%a7%84%e8%8c%83 aria-label=åŸºæœ¬å‘½åè§„èŒƒ>åŸºæœ¬å‘½åè§„èŒƒ</a></li></ul></ul></li><li><a href=#%e5%8f%98%e9%87%8f%e8%b5%8b%e5%80%bc%e4%bc%a0%e9%80%92%e6%97%b6%e7%9a%84%e5%bc%95%e7%94%a8%e5%92%8c%e6%8b%b7%e8%b4%9d aria-label=å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´>å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´</a></li><li><a href=#%e7%b1%bb%e4%b8%8e%e5%87%bd%e6%95%b0 aria-label=ç±»ä¸å‡½æ•°>ç±»ä¸å‡½æ•°</a><ul class=header-level-1><li><a href=#%e5%8c%bf%e5%90%8d%e5%87%bd%e6%95%b0 aria-label=åŒ¿åå‡½æ•°>åŒ¿åå‡½æ•°</a></li><li><a href=#%e5%8d%95%e4%b8%8b%e5%88%92%e7%ba%bf aria-label=å•ä¸‹åˆ’çº¿>å•ä¸‹åˆ’çº¿</a></li><li><a href=#bool-and-or-not aria-label="Bool and or not">Bool and or not</a></li><li><a href=#argparse aria-label=Argparse>Argparse</a></li><li><a href=#random aria-label=Random>Random</a></li></ul></li><li><a href=#logging-system aria-label="Logging System">Logging System</a><ul class=header-level-1><li><a href=#%e5%9f%ba%e7%a1%80%e4%bd%bf%e7%94%a8 aria-label=åŸºç¡€ä½¿ç”¨>åŸºç¡€ä½¿ç”¨</a></li><li><a href=#%e8%bf%9b%e9%98%b6%e4%bd%bf%e7%94%a8 aria-label=è¿›é˜¶ä½¿ç”¨>è¿›é˜¶ä½¿ç”¨</a></li><li><a href=#logger%e4%b8%8e%e8%a3%85%e9%a5%b0%e5%99%a8%e7%9a%84%e7%bb%84%e5%90%88%e4%bd%bf%e7%94%a8 aria-label=Loggerä¸è£…é¥°å™¨çš„ç»„åˆä½¿ç”¨>Loggerä¸è£…é¥°å™¨çš„ç»„åˆä½¿ç”¨</a></li></ul></li><li><a href=#files-system aria-label="FIles System">FIles System</a><ul class=header-level-1><li><a href=#import-manage aria-label="Import manage">Import manage</a><ul class=header-level-2><li><a href=#__init__py-%e6%96%87%e4%bb%b6%e7%9a%84%e4%bd%9c%e7%94%a8 aria-label="init.py æ–‡ä»¶çš„ä½œç”¨"><strong>init</strong>.py æ–‡ä»¶çš„ä½œç”¨</a></li></ul></li><li><a href=#path-manage aria-label="Path Manage">Path Manage</a><ul class=header-level-2><li><a href=#%e8%b7%af%e5%be%84%e5%88%87%e5%88%86 aria-label=è·¯å¾„åˆ‡åˆ†>è·¯å¾„åˆ‡åˆ†</a></li></ul></li><li><a href=#%e6%96%87%e4%bb%b6%e9%81%8d%e5%8e%86 aria-label=æ–‡ä»¶éå†>æ–‡ä»¶éå†</a><ul class=header-level-2><li><a href=#oswalk aria-label=os.walk()>os.walk()</a></li><li><a href=#globglob aria-label=Glob.glob()>Glob.glob()</a></li></ul></li><li><a href=#%e6%96%87%e4%bb%b6%e8%af%bb%e5%86%99 aria-label=æ–‡ä»¶è¯»å†™>æ–‡ä»¶è¯»å†™</a></li></ul></li><li><a href=#data-structural aria-label="Data Structural">Data Structural</a><ul class=header-level-1><li><a href=#%e4%bd%8d%e8%bf%90%e7%ae%97 aria-label=ä½è¿ç®—>ä½è¿ç®—</a></li><li><a href=#%e4%ba%8c%e8%bf%9b%e5%88%b6%e6%93%8d%e4%bd%9c aria-label=äºŒè¿›åˆ¶æ“ä½œ>äºŒè¿›åˆ¶æ“ä½œ</a></li><li><a href=#%e5%ba%8f%e5%88%97%e6%9e%84%e6%88%90%e7%9a%84%e6%95%b0%e7%bb%84 aria-label=åºåˆ—æ„æˆçš„æ•°ç»„>åºåˆ—æ„æˆçš„æ•°ç»„</a><ul class=header-level-2><li><a href=#%e5%88%97%e8%a1%a8%e6%8e%a8%e5%af%bc%e5%bc%8f%e7%9a%84%e4%bd%bf%e7%94%a8 aria-label=åˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨>åˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%88%97%e8%a1%a8%e6%8e%a8%e5%af%bc%e5%bc%8f%e7%94%9f%e6%88%90%e7%ac%9b%e5%8d%a1%e5%b0%94%e7%a7%af aria-label=ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ç”Ÿæˆç¬›å¡å°”ç§¯>ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ç”Ÿæˆç¬›å¡å°”ç§¯</a></li><li><a href=#%e7%94%9f%e6%88%90%e5%99%a8%e8%a1%a8%e8%be%be%e5%bc%8f aria-label=ç”Ÿæˆå™¨è¡¨è¾¾å¼>ç”Ÿæˆå™¨è¡¨è¾¾å¼</a></li><li><a href=#%e5%85%83%e7%bb%84%e4%b8%8d%e4%bb%85%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84%e5%88%97%e8%a1%a8 aria-label=å…ƒç»„ä¸ä»…æ˜¯ä¸å¯å˜çš„åˆ—è¡¨>å…ƒç»„ä¸ä»…æ˜¯ä¸å¯å˜çš„åˆ—è¡¨</a></li></ul></li><li><a href=#%e5%88%97%e8%a1%a8%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c aria-label=åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ>åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ</a><ul class=header-level-2><li><a href=#%e5%88%97%e8%a1%a8%e7%9a%84%e6%9d%a1%e4%bb%b6%e5%8a%a0%e5%92%8c aria-label=åˆ—è¡¨çš„æ¡ä»¶åŠ å’Œ>åˆ—è¡¨çš„æ¡ä»¶åŠ å’Œ</a></li><li><a href=#%e5%88%97%e8%a1%a8%e7%9a%84%e6%95%b0%e4%b9%98 aria-label=åˆ—è¡¨çš„æ•°ä¹˜>åˆ—è¡¨çš„æ•°ä¹˜</a></li><li><a href=#range%e5%87%bd%e6%95%b0%e5%b8%b8%e7%94%a8%e6%93%8d%e4%bd%9c aria-label=rangeå‡½æ•°å¸¸ç”¨æ“ä½œ>rangeå‡½æ•°å¸¸ç”¨æ“ä½œ</a></li></ul></li><li><a href=#universal-method aria-label="Universal Method">Universal Method</a><ul class=header-level-2><li><a href=#sort%e5%af%b9%e5%88%97%e8%a1%a8%e8%bf%9b%e8%a1%8c%e6%8e%92%e5%ba%8f aria-label=Sortï¼ˆï¼‰å¯¹åˆ—è¡¨è¿›è¡Œæ’åº>Sortï¼ˆï¼‰å¯¹åˆ—è¡¨è¿›è¡Œæ’åº</a></li></ul></li><li><a href=#%e9%98%9f%e5%88%97queue--deque aria-label="é˜Ÿåˆ—queue & deque">é˜Ÿåˆ—queue & deque</a></li><li><a href=#set%e9%9b%86%e5%90%88 aria-label=SETé›†åˆ>SETé›†åˆ</a><ul class=header-level-2><li><a href=#%e5%88%a9%e7%94%a8set%e8%bf%9b%e8%a1%8c%e5%8e%bb%e9%87%8d aria-label=åˆ©ç”¨setè¿›è¡Œå»é‡>åˆ©ç”¨setè¿›è¡Œå»é‡</a></li></ul></li><li><a href=#dicthashmap aria-label=Dictï¼ŒHashmap>Dictï¼ŒHashmap</a><ul class=header-level-2><li><a href=#%e5%88%a4%e6%96%ad%e5%ad%97%e5%85%b8%e4%b8%ad%e7%9a%84key%e6%98%af%e5%90%a6%e5%ad%98%e5%9c%a8%e7%9a%84%e6%96%b9%e6%b3%95 aria-label=åˆ¤æ–­å­—å…¸ä¸­çš„keyæ˜¯å¦å­˜åœ¨çš„æ–¹æ³•>åˆ¤æ–­å­—å…¸ä¸­çš„keyæ˜¯å¦å­˜åœ¨çš„æ–¹æ³•</a></li><li><a href=#%e5%ad%97%e5%85%b8%e4%b8%ad%e7%9a%84%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95 aria-label=å­—å…¸ä¸­çš„å¸¸ç”¨æ–¹æ³•>å­—å…¸ä¸­çš„å¸¸ç”¨æ–¹æ³•</a></li><li><a href=#collectionsdefaultdict-%e6%8c%87%e5%ae%9adict%e4%b8%ad%e6%9c%aa%e5%ae%9a%e4%b9%89key%e7%9a%84value aria-label="collections.defaultdict æŒ‡å®šdictä¸­æœªå®šä¹‰keyçš„value">collections.defaultdict æŒ‡å®šdictä¸­æœªå®šä¹‰keyçš„value</a></li></ul></li><li><a href=#vars aria-label=Varsï¼ˆï¼‰>Varsï¼ˆï¼‰</a></li><li><a href=#python%e4%b8%ad%e7%9a%84%e6%95%b0%e5%ad%97%e6%97%a5%e6%9c%9f%e6%97%b6%e9%97%b4%e8%ae%a1%e7%ae%97 aria-label=Pythonä¸­çš„æ•°å­—æ—¥æœŸæ—¶é—´è®¡ç®—>Pythonä¸­çš„æ•°å­—æ—¥æœŸæ—¶é—´è®¡ç®—</a><ul class=header-level-2><li><a href=#%e8%8e%b7%e5%8f%96%e6%9c%ac%e6%9c%ba%e6%97%b6%e9%97%b4%e7%9a%84%e5%87%a0%e7%a7%8d%e6%96%b9%e6%b3%95 aria-label=è·å–æœ¬æœºæ—¶é—´çš„å‡ ç§æ–¹æ³•>è·å–æœ¬æœºæ—¶é—´çš„å‡ ç§æ–¹æ³•</a></li><li><a href=#%e7%b2%be%e7%a1%ae%e6%95%b0%e5%ad%97%e8%bf%90%e7%ae%97 aria-label=ç²¾ç¡®æ•°å­—è¿ç®—>ç²¾ç¡®æ•°å­—è¿ç®—</a></li><li><a href=#%e6%95%b0%e5%ad%97%e7%9a%84%e6%a0%bc%e5%bc%8f%e5%8c%96%e8%be%93%e5%87%ba aria-label=æ•°å­—çš„æ ¼å¼åŒ–è¾“å‡º>æ•°å­—çš„æ ¼å¼åŒ–è¾“å‡º</a></li></ul></li></ul></li><li><a href=#%e8%bf%ad%e4%bb%a3%e5%99%a8 aria-label=è¿­ä»£å™¨>è¿­ä»£å™¨</a><ul class=header-level-2><ul class=header-level-2><li><a href=#enumerate-itemszip aria-label="enumerate ã€itemsã€zip">enumerate ã€itemsã€zip</a></li></ul></ul></li><li><a href=#%e5%85%83%e7%bc%96%e7%a8%8b aria-label=å…ƒç¼–ç¨‹>å…ƒç¼–ç¨‹</a><ul class=header-level-1><li><a href=#some-rules aria-label="Some Rules">Some Rules</a></li><li><a href=#%e8%a3%85%e9%a5%b0%e5%99%a8%e6%a8%a1%e5%9d%97 aria-label=è£…é¥°å™¨æ¨¡å—>è£…é¥°å™¨æ¨¡å—</a><ul class=header-level-2><li><a href=#basic-type aria-label="Basic Type">Basic Type</a></li><li><a href=#%e6%8e%a5%e5%8f%97%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92 aria-label=æ¥å—å‚æ•°ä¼ é€’>æ¥å—å‚æ•°ä¼ é€’</a></li><li><a href=#%e4%bf%ae%e6%94%b9%e8%a3%85%e9%a5%b0%e5%99%a8%e5%8f%82%e6%95%b0 aria-label=ä¿®æ”¹è£…é¥°å™¨å‚æ•°>ä¿®æ”¹è£…é¥°å™¨å‚æ•°</a></li><li><a href=#%e5%b8%a6%e5%8f%af%e9%80%89%e5%8f%82%e6%95%b0%e7%9a%84%e4%bf%ae%e9%a5%b0%e5%99%a8 aria-label=å¸¦å¯é€‰å‚æ•°çš„ä¿®é¥°å™¨>å¸¦å¯é€‰å‚æ•°çš„ä¿®é¥°å™¨</a></li><li><a href=#property%e7%9a%84%e7%94%a8%e6%b3%95 aria-label=@propertyçš„ç”¨æ³•>@propertyçš„ç”¨æ³•</a></li></ul></li></ul></li><li><a href=#exception aria-label=Exception>Exception</a><ul class=header-level-1><li><a href=#python3-%e9%94%99%e8%af%af%e5%92%8c%e5%bc%82%e5%b8%b8 aria-label="Python3 é”™è¯¯å’Œå¼‚å¸¸">Python3 é”™è¯¯å’Œå¼‚å¸¸</a></li><li><a href=#%e5%bc%82%e5%b8%b8%e6%8d%95%e6%8d%89try-except aria-label="å¼‚å¸¸æ•æ‰try except">å¼‚å¸¸æ•æ‰try except</a><ul class=header-level-2><li><a href=#exception%e7%9a%84%e5%a4%9a%e7%a7%8d%e5%86%99%e6%b3%95%e5%92%8c%e5%a4%9a%e5%bc%82%e5%b8%b8%e5%88%86%e6%94%af aria-label=exceptionçš„å¤šç§å†™æ³•å’Œå¤šå¼‚å¸¸åˆ†æ”¯>exceptionçš„å¤šç§å†™æ³•å’Œå¤šå¼‚å¸¸åˆ†æ”¯</a></li></ul></li><li><a href=#%e6%8a%9b%e5%87%ba%e5%bc%82%e5%b8%b8-raise-exception aria-label="æŠ›å‡ºå¼‚å¸¸ Raise Exception">æŠ›å‡ºå¼‚å¸¸ Raise Exception</a></li></ul></li><li><a href=#numpy-tips aria-label="Numpy Tips">Numpy Tips</a><ul class=header-level-1><li><a href=#reshape aria-label=reshape>reshape</a></li><li><a href=#tolist aria-label=tolist>tolist</a></li><li><a href=#%e7%94%a8array%e7%bb%99list%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0%e8%b5%8b%e5%80%bc aria-label=ç”¨arrayç»™listä¸­çš„å…ƒç´ èµ‹å€¼>ç”¨arrayç»™listä¸­çš„å…ƒç´ èµ‹å€¼</a></li><li><a href=#flatten--flat-operation aria-label="flatten & flat operation">flatten & flat operation</a></li><li><a href=#numpypad aria-label=Numpy.pad>Numpy.pad</a></li><li><a href=#-numpy-%e7%b4%a2%e5%bc%95%e4%b8%ad%e5%8f%8c%e5%86%92%e5%8f%b7%e7%9a%84%e5%ae%9e%e9%99%85%e7%94%a8%e9%80%94 aria-label=":: Numpy ç´¢å¼•ä¸­åŒå†’å·çš„å®é™…ç”¨é€”">:: Numpy ç´¢å¼•ä¸­åŒå†’å·çš„å®é™…ç”¨é€”</a></li><li><a href=#argpartition aria-label=Argpartition()>Argpartition()</a></li><li><a href=#allclose aria-label=Allclose()>Allclose()</a></li><li><a href=#clip aria-label=Clip()>Clip()</a></li><li><a href=#extract aria-label=extract()>extract()</a></li><li><a href=#where aria-label=where()>where()</a></li></ul></li><li><a href=#debug aria-label=DEBUG>DEBUG</a><ul class=header-level-1><li><a href=#%e9%81%bf%e5%85%8d%e9%87%8d%e5%a4%8d%e5%86%b2%e7%aa%81%e7%9a%84import aria-label=é¿å…é‡å¤/å†²çªçš„import>é¿å…é‡å¤/å†²çªçš„import</a></li><li><a href=#%e5%86%85%e5%ad%98%e8%b0%83%e7%94%a8%e4%b8%8emethod%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label=å†…å­˜è°ƒç”¨ä¸Methodçš„å®šä¹‰>å†…å­˜è°ƒç”¨ä¸Methodçš„å®šä¹‰</a></li><li><a href=#typeerror aria-label=TypeErrorï¼š>TypeErrorï¼š</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;document.addEventListener("DOMContentLoaded",function(){if(checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),elements.length>0){activeElement=elements[0];const e=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${e}"]`).classList.add("active")}const t=document.getElementById("top-link");t&&t.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;if(e===0)return;elements&&elements.length>0&&(elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase(),n=document.querySelector(`.inner ul li a[href="#${t}"]`);n.classList.remove("read")}),activeElement=Array.from(elements).find(t=>{if(getOffsetTop(t)-e>0&&getOffsetTop(t)-e<window.innerHeight/2)return t})||activeElement,elements.forEach((t)=>{const o=encodeURI(t.getAttribute("id")).toLowerCase(),s=document.querySelector(`.inner ul li a[href="#${o}"]`);if(t===activeElement){s.classList.add("active");const e=document.querySelector(".toc .inner"),t=s.offsetTop,n=e.clientHeight,o=s.clientHeight,i=t-n/2+o/2;e.scrollTo({top:i,behavior:"smooth"})}else getOffsetTop(t)<e&&s.classList.add("read"),s.classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return!document.querySelector(".hugo-encryptor-prompt")&&elements.length!=0&&(elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),console.log("Elements re-queried:",elements)),0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>ä¸ªäººçš„ã€ŠPython Cookbookã€‹ && ã€ŠFluent Pythonã€‹é˜…è¯»ç¬”è®°ã€‚</p><h1 id=æ•°æ®æ¨¡å‹pythonç»“æ„çš„é€šç”¨èŒƒå¼>æ•°æ®æ¨¡å‹ï¼ˆPythonç»“æ„çš„é€šç”¨èŒƒå¼ï¼‰<a hidden class=anchor aria-hidden=true href=#æ•°æ®æ¨¡å‹pythonç»“æ„çš„é€šç”¨èŒƒå¼>#</a></h1><p>ï¼ˆMagic methodï¼‰dunder methodï¼šPythonç‰¹æœ‰çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•èƒ½å¤Ÿæ”¯æŒPythonè¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨ï¼Œå®ç°é€šç”¨æ–¹æ³•åœ¨æ–°å®šä¹‰çš„æ•°æ®ç»“æ„ä¸Šçš„ä½¿ç”¨ï¼Œæ¯”å¦‚æœ€å…¸å‹çš„:</p><ul><li><p><code>__len__()</code>åå¯ä»¥æ”¯æŒ<code>len()</code>ï¼Œè·å¾—ç»“æ„çš„é•¿åº¦</p></li><li><p><code>__getitem__()</code>åå¯ä»¥æ”¯æŒ<code>data[index]</code>æ¥è·å–ç›¸åº”çš„å…ƒç´ ï¼Œåˆ‡ç‰‡ï¼Œç­‰ç­‰æ•°ç»„çš„æ“ä½œï¼›</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ä¹Ÿå¯ä»¥æ”¯æŒç±»ä¼¼å¦‚ä¸‹çš„ä¸€äº›æ“ä½œ</span>
</span></span><span class=line><span class=cl><span class=c1># ä»æ•°æ®ç»“æ„ä¸­éšæœºé€‰å‡ºä¸€ä¸ªitems</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>random</span> <span class=kn>import</span> <span class=n>choice</span>
</span></span><span class=line><span class=cl><span class=n>choice</span><span class=p>(</span><span class=n>datas</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># ä¹Ÿå¯ä»¥æ”¯æŒè¿­ä»£æ–¹æ³•å’Œåè¿­ä»£æ–¹æ³•</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>data</span> <span class=ow>in</span> <span class=n>datas</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>data</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=n>datas</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=c1># ä¹Ÿå¯ä»¥æ”¯æŒsortå‡½æ•°</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>åˆ°è¿™é‡Œä¹Ÿå°±è¯´æ˜äº†ï¼Œåªè¦æˆ‘ä»¬åœ¨æ•°æ®ç»“æ„ï¼ˆclassï¼‰ä¸­å®šä¹‰äº†ç›¸åº”çš„dunder methodï¼Œè¯¥classå°±èƒ½æ”¯æŒç›¸åº”çš„ä¸€ç³»åˆ—æ“ä½œï¼Œgetitemså°±å¯ä»¥ç±»æ¯”ä¸ºåˆ—è¡¨ï¼Œç›¸åº”çš„æ“ä½œéƒ½èƒ½å¤Ÿåœ¨pythonè§£é‡Šå™¨ä¸‹è‡ªåŠ¨çš„èµ‹äºˆæ”¯æŒã€‚</p><p>è¿˜æœ‰ä¸€äº›å¥½ç”¨ä½†ä¸å¸¸ç”¨çš„æ–¹æ³•ï¼š</p><ul><li><code>__contain__</code>å®ç°çš„æ˜¯<code>in</code> ï¼Œå½“æ²¡æœ‰å®ç°containçš„æ–¹æ³•çš„æ—¶å€™ä¼šæŒ‰ç…§é¡ºåºåœ¨listä¸­è¿›è¡Œæœç´¢</li><li><code>__abs__</code></li><li><code>__repr__</code>å®ç°çš„æ˜¯è¾“å‡ºçš„formatè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯printçš„æ—¶å€™çš„è¾“å‡ºå½¢å¼</li><li><code>__eq__</code> å®ç°çš„æ˜¯ == å‘½ä»¤ï¼ŒåŒæ—¶inè°ƒç”¨çš„æ˜¯__eq__</li></ul><p>ä¸‹é¢é™„ä¸Šä¸€å¼ ç‰¹æ®Šæ–¹æ³•è¡¨ï¼š</p><h3 id=åŸºæœ¬å‘½åè§„èŒƒ>åŸºæœ¬å‘½åè§„èŒƒ<a hidden class=anchor aria-hidden=true href=#åŸºæœ¬å‘½åè§„èŒƒ>#</a></h3><p>ç›¸å…³çš„æ–‡ä»¶å’Œå‡½æ•°ç­‰å‘½åè§„åˆ™ã€‚</p><p><a href=Python%20Notebook%20ad3f0aafe5a54942bdcc3694a9a88976/%E5%91%BD%E5%90%8D%E6%A0%B7%E4%BE%8B%E8%A1%A8%2039d2a928f8bf4624afc2e0006ffcd528.csv>å‘½åæ ·ä¾‹è¡¨</a></p><h1 id=å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´>å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´<a hidden class=anchor aria-hidden=true href=#å˜é‡èµ‹å€¼ä¼ é€’æ—¶çš„å¼•ç”¨å’Œæ‹·è´>#</a></h1><p>Python å˜é‡çš„ä¼ é€’ç±»å‹ï¼šï¼ˆèµ‹å€¼è¿‡ç¨‹ï¼‰
<a href=https://www.runoob.com/w3cnote/python-variable-references-and-copies.html target=_blank rel=noopener>https://www.runoob.com/w3cnote/python-variable-references-and-copies.html</a></p><p>Python èµ‹å€¼è¿‡ç¨‹ä¸­ä¸æ˜ç¡®åŒºåˆ†æ‹·è´å’Œå¼•ç”¨ï¼Œä¸€èˆ¬å¯¹é™æ€å˜é‡çš„ä¼ é€’ä¸ºæ‹·è´ï¼Œå¯¹åŠ¨æ€å˜é‡çš„ä¼ é€’ä¸ºå¼•ç”¨ã€‚ï¼ˆæ³¨ï¼Œå¯¹é™æ€å˜é‡é¦–æ¬¡ä¼ é€’æ—¶ä¹Ÿæ˜¯å¼•ç”¨ï¼Œå½“éœ€è¦ä¿®æ”¹é™æ€å˜é‡æ—¶ï¼Œå› ä¸ºé™æ€å˜é‡ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„ç©ºé—´å­˜å‚¨æ•°æ®ï¼‰ã€‚</p><pre tabindex=0><code>â€¢  å­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå…ƒç»„ å‡ä¸ºé™æ€å˜é‡
â€¢ åˆ—è¡¨ï¼Œå­—å…¸ä¸ºåŠ¨æ€å˜é‡ã€‚
</code></pre><p>å¯ä»¥ç”¨idï¼ˆï¼‰æŸ¥çœ‹æŒ‡å‘çš„åœ°å€</p><p>åœ¨ä¿®æ”¹åˆ—è¡¨å€¼ä¹‹ç±»çš„æ—¶å€™è¦æ³¨æ„è¿™ä¸€ç‚¹ï¼Œä¸ç„¶å¯èƒ½ä¼šå½±å“åˆ°æºåˆ—è¡¨ï¼Œå¯èƒ½è¦ä½¿ç”¨æ·±æ‹·è´çš„æ–¹æ³•ï¼Œ
copy.deepcopy()</p><p>python å®šä¹‰æ–¹æ³•æ—¶å€™æŒ‡å®š<a href=https://www.cnblogs.com/xxpythonxx/p/12198876.html target=_blank rel=noopener>å‚æ•°ï¼Œè¿”å›å€¼å’Œå˜é‡çš„ç±»å‹</a>
ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=n>a</span><span class=p>:</span><span class=nb>int</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span><span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>1000</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>test</span><span class=p>(</span><span class=s1>&#39;test&#39;</span><span class=p>,</span> <span class=s1>&#39;abc&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=ç±»ä¸å‡½æ•°>ç±»ä¸å‡½æ•°<a hidden class=anchor aria-hidden=true href=#ç±»ä¸å‡½æ•°>#</a></h1><p>argsï¼Œkwargsçš„ç”¨æ³•å’Œè§£åŒ…ï¼Œä¸»è¦å°†å­—å…¸ä½œä¸ºå‚æ•°æ•´ä½“ä¼ å…¥çš„è¿™ç§æ–¹æ³•å€¼å¾—å­¦ä¹ </p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>å¯ä»¥ç”¨</span><span class=o>*</span><span class=err>ï¼Œ</span><span class=o>**</span><span class=n>å®šä¹‰å’Œè§£åŒ…</span>
</span></span></code></pre></td></tr></table></div></div><p>id()å¯ä»¥è·å–å˜é‡çš„åœ°å€ï¼Œtypeï¼ˆï¼‰æŸ¥çœ‹æ•°æ®ç±»å‹ï¼Œisinstanceåˆ¤æ–­ç±»å‹</p><p>locals().keys() è·å¾—å½“å‰å·²ç»å£°æ˜çš„å˜é‡åˆ—è¡¨</p><p>sys.argv[0] å¯è·å–å½“å‰å·¥ä½œåŒºçš„åœ°å€</p><h2 id=åŒ¿åå‡½æ•°>åŒ¿åå‡½æ•°<a hidden class=anchor aria-hidden=true href=#åŒ¿åå‡½æ•°>#</a></h2><h2 id=å•ä¸‹åˆ’çº¿>å•ä¸‹åˆ’çº¿<a hidden class=anchor aria-hidden=true href=#å•ä¸‹åˆ’çº¿>#</a></h2><p>å®šä¹‰çš„å‡½æ•°ï¼Œå±æ€§ï¼Œæˆ–è€…æ–¹æ³• è¿™è¡¨æ˜è¿™ä¸ªmemberæ˜¯å—ä¿æŠ¤çš„ï¼š</p><ul><li>æ˜¯ç”¨æ¥æŒ‡å®šç§æœ‰å˜é‡å’Œæ–¹æ³•çš„æ–¹å¼ï¼ˆåªæ˜¯ä¸€ç§çº¦å®šä¹ æƒ¯ï¼‰,ä¸å¸Œæœ›è¢«ä¸‹æ¸¸çš„ç¨‹åºå‘˜ç›´æ¥è®¿é—®çš„å‡½æ•°ã€‚</li><li>å¦‚æœä½¿ç”¨<code>from a_module import</code>å¯¼å…¥æ—¶ï¼Œè¿™éƒ¨åˆ†å˜é‡å’Œå‡½æ•°ä¸ä¼šè¢«å¯¼å…¥</li><li>ä½†æ˜¯å¦‚æœä½¿ç”¨ <code>import a_module</code>è¿™æ ·å¯¼å…¥æ¨¡å—ï¼Œä»ç„¶å¯ä»¥ç”¨<code>a_module._pythonPoint</code>è¿™æ ·çš„å½¢å¼è®¿é—®åˆ°è¿™æ ·çš„å¯¹è±¡ã€‚</li></ul><h2 id=bool-and-or-not>Bool and or not<a hidden class=anchor aria-hidden=true href=#bool-and-or-not>#</a></h2><p>åŸºæœ¬çš„å°±ä¸ç”¨daaaaaaaaaaaaaaaaaaaè¯´äº†ï¼Œä¸»è¦æ˜¯ä¸€äº›ç‰¹æ®Šçš„ç”¨æ³•ä¸¾ä¾‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># not ä¼šå…ˆäº and æ‰§è¡Œ</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=ow>not</span> <span class=n>flag1</span> <span class=ow>and</span> <span class=n>flag2</span> <span class=o>==</span> <span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><p>ç”¨é€»è¾‘è¿ç®—ç¬¦åšå‚æ•°é€‰æ‹©</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>judge</span> <span class=o>=</span> <span class=n>index</span> <span class=o>==</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>num1</span> <span class=ow>or</span> <span class=n>num2</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=argparse>Argparse<a hidden class=anchor aria-hidden=true href=#argparse>#</a></h2><p>åŸºæœ¬çš„ç”¨æ³•ï¼šå‚è€ƒuniversal frameworkå³å¯ï¼Œä¸»è¦æ˜¯boolç±»å‹æ— æ³•é€šè¿‡å‘½ä»¤è¡Œä¼ å…¥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ä½¿ç”¨store_trueå±æ€§ï¼Œå°±å¯ä»¥æ‰§è¡Œé»˜è®¤çš„True or False</span>
</span></span><span class=line><span class=cl><span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s2>&#34;--bool_chose&#34;</span><span class=p>,</span><span class=n>default</span><span class=o>=</span><span class=kc>False</span> <span class=p>,</span><span class=n>action</span><span class=o>=</span><span class=s1>&#39;store_true&#39;</span><span class=p>,</span><span class=n>help</span><span class=o>=</span><span class=s1>&#39;a switch of bool variable&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># ğŸ‘‡é€‰æ‹©ä¸Šä¸åŸæœ¬å®Œå…¨æ˜¯ç›¸åçš„</span>
</span></span><span class=line><span class=cl><span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s2>&#34;--bool_chose&#34;</span><span class=p>,</span><span class=n>default</span><span class=o>=</span><span class=kc>True</span> <span class=p>,</span><span class=n>action</span><span class=o>=</span><span class=s1>&#39;store_true&#39;</span><span class=p>,</span><span class=n>help</span><span class=o>=</span><span class=s1>&#39;a switch of bool variable&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=random>Random<a hidden class=anchor aria-hidden=true href=#random>#</a></h2><p>ä½¿ç”¨<strong>sample</strong>ä¸é‡å¤çš„é€‰å–å­—å…¸æˆ–è€…åˆ—è¡¨ä¸­çš„æŒ‡å®šé¡¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>choose</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>sample</span><span class=p>(</span><span class=nb>list</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>ä½¿ç”¨<strong>choice</strong>è¿›è¡Œå¯é‡å¤çš„é€‰å–</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>c_r</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>c_i</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>(</span><span class=n>c_r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>c_i</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>æ‰“ä¹±åˆ—è¡¨æ’åº</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1># å¾—åˆ°indexçš„åˆ—è¡¨</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>A</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># å¯¹è¯¥åˆ—è¡¨è¿›è¡Œæ‰“ä¹±ï¼Œé€šè¿‡æ‰“ä¹±çš„åˆ—è¡¨è¿›è¡Œç´¢å¼•</span>
</span></span><span class=line><span class=cl><span class=n>random</span><span class=o>.</span><span class=n>shuffle</span><span class=p>(</span><span class=n>B</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>B</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=logging-system>Logging System<a hidden class=anchor aria-hidden=true href=#logging-system>#</a></h1><p><a href=https://docs.python.org/zh-cn/3.9/howto/logging.html#logging-basic-tutorial target=_blank rel=noopener>æ—¥å¿— HOWTO â€” Python 3.9.4 æ–‡æ¡£</a>
ï¼›<a href=https://docs.python.org/zh-cn/3.9/howto/logging-cookbook.html#logging-cookbook target=_blank rel=noopener>æ—¥å¿—æ“ä½œæ‰‹å†Œ â€” Python 3.9.4 æ–‡æ¡£</a></p><p><a href=https://www.cnblogs.com/yyds/p/6901864.html target=_blank rel=noopener>Python loggingæ¨¡å—</a>
ï¼›<a href=https://blog.csdn.net/hunt_ing/article/details/82080923 target=_blank rel=noopener>loggingæ¨¡å—çš„ç®€å•ä½¿ç”¨</a></p><h2 id=åŸºç¡€ä½¿ç”¨>åŸºç¡€ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#åŸºç¡€ä½¿ç”¨>#</a></h2><p>ä»ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­å¼€å§‹ï¼Œé»˜è®¤çš„å‘½ä»¤è¡Œè¾“å‡ºç­‰çº§æ˜¯warning</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl><span class=n>logging</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s1>&#39;this message should only show up in log file&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s1>&#39;so do this one &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>logging</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s1>&#39;this one will also show up in the console&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>logging</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s1>&#39;And non-ASCII stuff, too, like resund and Malm&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>å‡å¦‚æˆ‘ä»¬è®¾ç½®logæ–‡ä»¶çš„å­˜å‚¨ä»¥åŠè¾“å‡ºçš„æ ¼å¼ï¼ˆåŒ…æ‹¬ç®—æ³•è¿è¡Œçš„æ—¶é—´ï¼‰</p><ul><li>ä½†æ˜¯æ³¨æ„è¿™ä¸ªconfigæ˜¯ä¸€æ¬¡æ€§è®¾ç½®ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è®¾ç½®æ˜¯æœ‰æ•ˆçš„</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span><span class=nb>format</span><span class=o>=</span><span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> </span><span class=si>%(levelname)s</span><span class=s1> </span><span class=si>%(message)s</span><span class=s1> &#39;</span><span class=p>,</span> <span class=n>datefmt</span><span class=o>=</span><span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1> %I:%M:%S %p&#39;</span><span class=p>,</span>   <span class=n>filename</span><span class=o>=</span><span class=s2>&#34;exampleFile.log&#34;</span><span class=p>,</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># è¿™é‡Œè®¾ç½®äº†æ–‡ä»¶çš„è¾“å‡ºåç§°å’Œè¾“å‡ºçš„æ ¼å¼ï¼Œä»¥åŠç›¸åº”çš„è®°å½•åˆ°æ–‡ä»¶ä¸­çš„ç­‰çº§</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¹Ÿå¯ä»¥ä»å‘½ä»¤è¡Œè®¾ç½®æ—¥å¿—ç­‰çº§,å¯ä»¥è·å–å½“å‰çš„ç­‰çº§</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>--log <span class=o>=</span> INFO
</span></span><span class=line><span class=cl><span class=c1># getattr è¿™ä¸ªæ–¹æ³•ç›®å‰å¥½åƒè¿˜æœ‰ç‚¹é—®é¢˜ï¼Œ</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=è¿›é˜¶ä½¿ç”¨>è¿›é˜¶ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#è¿›é˜¶ä½¿ç”¨>#</a></h2><p>é€šè¿‡4ä¸ªmoduleçš„ç»„åˆæ¥å®ç°record logçš„åŠŸèƒ½ï¼Œé€šè¿‡Loggerè½½å…¥å¤šä¸ªHandlerï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ ‡å‡†å’Œæ–¹å¼åœ¨å¤šä¸ªFileä»¥åŠæ§åˆ¶å°è¾“å‡ºä¸åŒLevelçš„ä¸œè¥¿ï¼Œè¿™å°±æ˜¯ä¸»è¦çš„åŠŸèƒ½ã€‚</p><p><a href=Python%20Notebook%20ad3f0aafe5a54942bdcc3694a9a88976/Untitled%20Database%209ccf70326eeb44a0b8e876f6a26ea12c.csv>Untitled</a></p><p>å…·ä½“çš„å®ç°æ ·ä¾‹å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># create logger to record log messages</span>
</span></span><span class=line><span class=cl><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;textlogger&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># é¿å…ç­‰çº§c</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>propagate</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># create file handler which logs even debug messages</span>
</span></span><span class=line><span class=cl><span class=n>fh</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=s1>&#39;exampleFile.log&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>fh</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>WARNING</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># creatr console handler...</span>
</span></span><span class=line><span class=cl><span class=n>ch</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>ch</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># create output format  for all the handler</span>
</span></span><span class=line><span class=cl><span class=n>formatter</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> </span><span class=si>%(levelname)s</span><span class=s1> </span><span class=si>%(message)s</span><span class=s1> &#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>datefmt</span><span class=o>=</span><span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1> %I:%M:%S %p&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ch</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>formatter</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>fh</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>formatter</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># add handler to logger</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>fh</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># record logs</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s1>&#39;this message should only show up in log file </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s1>&#39;test is&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s1>&#39;so do this one &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s1>&#39;this one will also show up in the console&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s1>&#39;show up twice&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>ä½†æ˜¯è¿™ç§æ ¼å¼çš„æ—¶å€™æ€ä¹ˆå®ç°è·¨æ–‡ä»¶ä¼ è¾“å‘¢ï¼Ÿ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>å†åŒä¸ªæ–‡ä»¶ä¸­æˆ‘ä»¬åªéœ€è¦è¿›è¡Œgetloggerä½¿ç”¨åŒä¸€ä¸ªåå­—å³å¯è·å¾—åŒä¸€ä¸ªlogger</span><span class=err>ï¼Œ</span><span class=n>ä½†æ˜¯è·¨æ–‡ä»¶çš„è¯å¯èƒ½è¿˜æ˜¯éœ€è¦ä¼ é€’loggeræŠŠ</span><span class=err>ã€‚</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘è®¤ä¸ºåº”è¯¥ä¼ é€’è¯¥<code>logger</code>,ç„¶åé€šè¿‡è¯¥Loggerè¿›è¡Œç»Ÿä¸€çš„è¾“å‡ºï¼Œé‡åˆ°ä¸åŒçš„è¾“å‡ºè¦æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹handlerè¿›è¡Œä¸ä¸€æ ·çš„å¤„ç†ä»è€Œèƒ½å¤Ÿå¾—åˆ°å¤šæ ·åŒ–çš„loggerè¾“å‡º</p><h2 id=loggerä¸è£…é¥°å™¨çš„ç»„åˆä½¿ç”¨>Loggerä¸è£…é¥°å™¨çš„ç»„åˆä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#loggerä¸è£…é¥°å™¨çš„ç»„åˆä½¿ç”¨>#</a></h2><p>å‚è§åç»­çš„è£…é¥°å™¨è§£è¯»æ¨¡å—</p><h1 id=files-system>FIles System<a hidden class=anchor aria-hidden=true href=#files-system>#</a></h1><h2 id=import-manage>Import manage<a hidden class=anchor aria-hidden=true href=#import-manage>#</a></h2><h3 id=__init__py-æ–‡ä»¶çš„ä½œç”¨><strong>init</strong>.py æ–‡ä»¶çš„ä½œç”¨<a hidden class=anchor aria-hidden=true href=#__init__py-æ–‡ä»¶çš„ä½œç”¨>#</a></h3><p><a href=https://www.cnblogs.com/BlueSkyyj/p/9415087.html target=_blank rel=noopener><strong>init</strong>.py æ–‡ä»¶ä½¿ç”¨</a></p><p>å…¶å®ä¸»è¦å°±æ˜¯æ§åˆ¶ç€åŒ…çš„å¯¼å…¥åŠŸèƒ½ï¼Œä½¿ç”¨<code>__all__</code>æ¥å¯¹åº”<code>from package import *</code>çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>init</code>ä¸­æ‰¹é‡çš„å¯¼å…¥æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸åœ¨éœ€è¦ä¸€ä¸ªä¸ªçš„è¿›è¡Œå¯¼å…¥äº†ï¼ŒåŸºäºè¿™ç§ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç¼–å†™ä¸€ä¸ªmanage fuctionï¼Œé€šè¿‡configæ¥è¿›è¡Œé€‰æ‹©æ€§çš„å¯¼å…¥ã€‚</p><ul><li>ä¸»è¦çš„å·¦å³æ˜¯pythonä¸­packageçš„æ ‡è¯†ï¼Œä¸èƒ½åˆ é™¤</li><li>å®šä¹‰<code>__all__</code>ç”¨æ¥è¿›è¡Œæ¨¡ç³Šå¯¼å…¥</li><li>ç¼–å†™pythonä»£ç ï¼Œä¼šåœ¨import packageçš„æ—¶å€™åŒæ—¶importï¼Œä½†æ˜¯æ¨èåœ¨åŒ…ä¸­åˆ›å»ºå¦å¤–çš„æ¨¡å—æ¥å†™ï¼Œå°½é‡ä¿è¯è¯¥æ–‡ä»¶ç®€å•</li></ul><h2 id=path-manage>Path Manage<a hidden class=anchor aria-hidden=true href=#path-manage>#</a></h2><h3 id=è·¯å¾„åˆ‡åˆ†>è·¯å¾„åˆ‡åˆ†<a hidden class=anchor aria-hidden=true href=#è·¯å¾„åˆ‡åˆ†>#</a></h3><p>å°†è·¯å¾„åˆ‡åˆ†æˆåœ°å€å’Œæ–‡ä»¶ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=p>,</span><span class=n>f</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=n>origin</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;path == &#34;</span><span class=p>,</span><span class=n>p</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;file == &#34;</span><span class=p>,</span><span class=n>f</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>åˆ‡åˆ†å‡ºæ–‡ä»¶çš„ç›˜ç¬¦å’Œæ–‡ä»¶å</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>dev</span><span class=p>,</span><span class=n>left</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitdrive</span><span class=p>(</span><span class=n>origin</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>åˆ‡åˆ†å‡ºæ–‡ä»¶å’Œæ‹“å±•å</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>f</span><span class=p>,</span><span class=n>ext</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splittext</span><span class=p>(</span><span class=n>origin</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=æ–‡ä»¶éå†>æ–‡ä»¶éå†<a hidden class=anchor aria-hidden=true href=#æ–‡ä»¶éå†>#</a></h2><h3 id=oswalk>os.walk()<a hidden class=anchor aria-hidden=true href=#oswalk>#</a></h3><p>ç®€å•å¥½ç”¨çš„<strong>ç›®å½•éå†å™¨</strong>ç”¨äºåœ¨ç›®å½•æ ‘ä¸­æ¸¸èµ°è¾“å‡ºç›®å½•ä¸­çš„æ–‡ä»¶åï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>walk</span><span class=p>(</span><span class=n>top</span><span class=p>,</span><span class=n>topdown</span><span class=p>,</span><span class=n>onerror</span><span class=p>,</span><span class=n>followlinks</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>topï¼šéå†çš„ç›®å½•åœ°å€</li><li>ï¼ˆoptionï¼‰topdownï¼šTrueçš„è¯ä¼˜å…ˆéå†topç›®å½•ï¼Œå¦åˆ™ä¼šä¼˜å…ˆéå†å­ç›®å½•</li><li>ï¼ˆoptionï¼‰onerrorï¼šå½“éœ€è¦å¼‚å¸¸çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨</li><li>ï¼ˆoptionï¼‰followlinksï¼šæ˜¯å¦è¦è·³è½¬åˆ°å¿«æ·æ–¹å¼ï¼ˆæˆ–è€…è½¯è¿æ¥éå†ï¼‰</li></ul><p><strong>RETURNï¼šï¼ˆrootï¼Œdirsï¼Œfilesï¼‰</strong></p><ol><li>rootï¼šæ ¹ç›®å½•</li><li>dirsï¼šæ–‡ä»¶å¤¹ä¸­æ‰€æœ‰ç›®å½•çš„åå­—ï¼ˆå­æ–‡ä»¶å¤¹ï¼‰</li><li>filesï¼šç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„åå­—</li></ol><p><strong>å±‚åºéå†æ¯æ¬¡æ˜¯è¯¥å±‚çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•çš„åå­—</strong></p><h3 id=globglob>Glob.glob()<a hidden class=anchor aria-hidden=true href=#globglob>#</a></h3><p>æ–‡ä»¶éå†æ–¹æ³•</p><h2 id=æ–‡ä»¶è¯»å†™>æ–‡ä»¶è¯»å†™<a hidden class=anchor aria-hidden=true href=#æ–‡ä»¶è¯»å†™>#</a></h2><h1 id=data-structural>Data Structural<a hidden class=anchor aria-hidden=true href=#data-structural>#</a></h1><h2 id=ä½è¿ç®—>ä½è¿ç®—<a hidden class=anchor aria-hidden=true href=#ä½è¿ç®—>#</a></h2><p>ä½è¿ç®—åˆ¤æ–­å¥‡å¶ä¸€è‡´æ€§</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Tï¼šå¥‡å¶æ€§ä¸ä¸€è‡´ Fï¼šå¥‡å¶æ€§ä¸€è‡´</span>
</span></span><span class=line><span class=cl><span class=o>(</span>a ^ b<span class=o>)</span> <span class=p>&amp;</span> <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=äºŒè¿›åˆ¶æ“ä½œ>äºŒè¿›åˆ¶æ“ä½œ<a hidden class=anchor aria-hidden=true href=#äºŒè¿›åˆ¶æ“ä½œ>#</a></h2><p>ä¸æˆ–éå°±ä¸ç”¨å¤šè¯´ï¼Œä¸»è¦æ˜¯ä»‹ç»ä¸€ä¸ªmodule bitarray</p><h2 id=åºåˆ—æ„æˆçš„æ•°ç»„>åºåˆ—æ„æˆçš„æ•°ç»„<a hidden class=anchor aria-hidden=true href=#åºåˆ—æ„æˆçš„æ•°ç»„>#</a></h2><p>è¿™ä¸€éƒ¨åˆ†ä¸»è¦æœ‰å‡ ä¸ªé‡ç‚¹ï¼š<strong>åˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨</strong>ã€<strong>å…ƒç»„ç‰¹æ€§å’Œä½¿ç”¨</strong></p><h3 id=åˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨>åˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#åˆ—è¡¨æ¨å¯¼å¼çš„ä½¿ç”¨>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># å°†å­—ç¬¦ä¸²å˜æˆUnicodeç ä½</span>
</span></span><span class=line><span class=cl><span class=n>symbols</span> <span class=o>=</span> <span class=s1>&#39;sdac@#&#39;</span>
</span></span><span class=line><span class=cl><span class=n>codes</span> <span class=o>=</span> <span class=p>[</span><span class=nb>ord</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span> <span class=k>for</span> <span class=n>symbol</span> <span class=ow>in</span> <span class=n>symbols</span> <span class=k>if</span> <span class=nb>ord</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span> <span class=o>&gt;</span><span class=mi>127</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1># ä¸mapå’Œfilterçš„æ¯”è¾ƒ</span>
</span></span><span class=line><span class=cl><span class=n>lists</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=k>lambda</span> <span class=n>c</span><span class=p>:</span><span class=n>c</span><span class=o>&gt;</span><span class=mi>127</span><span class=p>,</span> <span class=nb>map</span><span class=p>(</span><span class=nb>ord</span><span class=p>,</span><span class=n>symbols</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹å‡ºåˆ—è¡¨æ¨å¯¼å¼çš„è¡¨è¾¾æ›´ä¸ºç®€æ´æ˜“æ‡‚ï¼Œè€Œä¸”å®é™…ä¸Šè¿è¡Œçš„æ•ˆç‡ä¹Ÿä¸ä½</p><h3 id=ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ç”Ÿæˆç¬›å¡å°”ç§¯>ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ç”Ÿæˆç¬›å¡å°”ç§¯<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ç”Ÿæˆç¬›å¡å°”ç§¯>#</a></h3><p>ä¸¾ä¾‹ï¼šæ¯ä¸ªsizeæœ‰ä¸åŒçš„é¢œè‰²</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>colors</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;black&#39;</span><span class=p>,</span><span class=s1>&#39;blue&#39;</span><span class=p>,</span><span class=s1>&#39;red&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>sizes</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;S&#39;</span><span class=p>,</span><span class=s1>&#39;M&#39;</span><span class=p>,</span><span class=s1>&#39;L&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1># å…ˆæŒ‰é¢œè‰²å¾ªç¯å†æŒ‰sizeå¾ªç¯ï¼Œå†…å¤–å±‚å¾ªç¯çš„å…³ç³»</span>
</span></span><span class=line><span class=cl><span class=n>tshirts</span> <span class=o>=</span> <span class=p>[(</span><span class=n>color</span><span class=p>,</span><span class=n>size</span><span class=p>)</span> <span class=k>for</span> <span class=n>color</span> <span class=ow>in</span> <span class=n>colors</span> <span class=k>for</span> <span class=n>size</span> <span class=ow>in</span> <span class=n>sizes</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ç”Ÿæˆå™¨è¡¨è¾¾å¼>ç”Ÿæˆå™¨è¡¨è¾¾å¼<a hidden class=anchor aria-hidden=true href=#ç”Ÿæˆå™¨è¡¨è¾¾å¼>#</a></h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æ¥åˆå§‹åŒ–å…ƒç»„ã€æ•°ç»„ã€æˆ–è€…å…¶ä»–çš„æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ç”Ÿæˆå™¨è¡¨è¾¾å¼ç¬¦åˆäº†è¿­ä»£å™¨çš„åè®®ï¼Œå¯ä»¥é€ä¸ªçš„äº§å‡ºå…ƒç´ ï¼Œè€Œä¸æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼Œèƒ½å¤ŸèŠ‚çœå†…å­˜</p><p><strong>è¯­æ³•ä¸Šå’Œåˆ—è¡¨æ¨å¯¼å·®ä¸å¤šï¼Œåªä¸è¿‡æŠŠæ–¹æ‹¬å·æ¢æˆåœ†æ‹¬å·è€Œå·²</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>tuple</span><span class=p>(</span><span class=nb>ord</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span> <span class=k>for</span> <span class=n>symbol</span> <span class=ow>in</span> <span class=n>symbols</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>array</span>
</span></span><span class=line><span class=cl><span class=n>array</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=s1>&#39;I&#39;</span><span class=p>,</span><span class=nb>ord</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span> <span class=k>for</span> <span class=n>symbol</span> <span class=ow>in</span> <span class=n>symbols</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>åˆ©ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼æ¥è®¡ç®—ç¬›å¡å°”ç§¯</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># è¿™æ ·å¯ä»¥æ›´å¥½çš„ä½“ç°é€ä¸ªç”Ÿæˆçš„ç‰¹æ€§ï¼Ÿä½†æ˜¯å®é™…ä¸Šåˆ—è¡¨æ¨å¯¼å¼ä¹Ÿå¯ä»¥æŠŠï¼Ÿ</span>
</span></span><span class=line><span class=cl><span class=c1># ä½†æ˜¯æ€»ä¹‹æ˜¯ç”±è¿™æ ·çš„ç‰¹æ€§çš„ï¼Œèƒ½å¤Ÿé¿å…é¢å¤–çš„å†…å­˜å ç”¨</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>tshirt</span> <span class=ow>in</span> <span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span><span class=p>(</span><span class=n>c</span><span class=p>,</span><span class=n>s</span><span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>colors</span> <span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>sizes</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>tshirt</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å…ƒç»„ä¸ä»…æ˜¯ä¸å¯å˜çš„åˆ—è¡¨>å…ƒç»„ä¸ä»…æ˜¯ä¸å¯å˜çš„åˆ—è¡¨<a hidden class=anchor aria-hidden=true href=#å…ƒç»„ä¸ä»…æ˜¯ä¸å¯å˜çš„åˆ—è¡¨>#</a></h3><h2 id=åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ>åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ<a hidden class=anchor aria-hidden=true href=#åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ>#</a></h2><h3 id=åˆ—è¡¨çš„æ¡ä»¶åŠ å’Œ>åˆ—è¡¨çš„æ¡ä»¶åŠ å’Œ<a hidden class=anchor aria-hidden=true href=#åˆ—è¡¨çš„æ¡ä»¶åŠ å’Œ>#</a></h3><p>æœ‰ä¸å°‘ç±»ä¼¼å’Œæ¡ä»¶è¯­å¥ç›¸å…³çš„æ“ä½œï¼Œåˆ—ä¸¾ä¸€äº›åŸºæœ¬å®ä¾‹å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># np.random.randint?</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;origin Aã€€is </span><span class=si>{}</span><span class=s1> </span><span class=se>\n</span><span class=s1> And B is </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>A</span><span class=p>,</span><span class=n>B</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># style 1 ç›¸å½“äºè½¬æ¢æˆä¸€ä¸ªToFçš„listï¼Œç„¶åå¯¹è¿™æ ·çš„listç›´æ¥è¿›è¡Œsum</span>
</span></span><span class=line><span class=cl><span class=n>same</span> <span class=o>=</span> <span class=p>(</span><span class=n>A</span> <span class=o>==</span> <span class=n>B</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>the num of same element in same posi is&#39;</span><span class=p>,</span> <span class=n>same</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;åˆ—è¡¨çš„+=ï¼Œä¹Ÿå°±æ˜¯ç®€å•æ‹¼æ¥æ“ä½œ&#39;&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span><span class=o>+</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=åˆ—è¡¨çš„æ•°ä¹˜>åˆ—è¡¨çš„æ•°ä¹˜<a hidden class=anchor aria-hidden=true href=#åˆ—è¡¨çš„æ•°ä¹˜>#</a></h3><p>åˆ—è¡¨çš„æ•°ä¹˜æ˜¯å¯¹åˆ—è¡¨çš„é¡¹æ•°è¿›è¡Œä¸€ä¸ªé‡å¤æ€§çš„æ‰©å……ï¼Œä½†æ˜¯æ³¨æ„è¿™ç§é‡å¤ä¸èƒ½é’ˆå¯¹é‚£ç§ç‰¹æ®Šç±»å‹ï¼ˆä¹Ÿå°±æ˜¯èµ‹å€¼ä¼šç›´æ¥åŸºäºåœ°å€çš„ï¼šå¼•ç”¨ï¼Ÿï¼‰
æ‰€ä»¥è¿™æ˜¯å¯¹äº<strong>é¡¹æ•°çš„æ“ä½œ</strong>è€Œä¸æ˜¯å¯¹åˆ—è¡¨ä¸­æ•°å€¼çš„ç›´æ¥æ“ä½œï¼Œå‚è€ƒå˜é‡èµ‹å€¼çš„éƒ¨åˆ†</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>value</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>unlist</span> <span class=o>=</span> <span class=p>[</span><span class=n>value</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>outlist</span> <span class=o>=</span> <span class=n>unlist</span> <span class=o>*</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;the output is like that : </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>outlist</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=rangeå‡½æ•°å¸¸ç”¨æ“ä½œ>rangeå‡½æ•°å¸¸ç”¨æ“ä½œ<a hidden class=anchor aria-hidden=true href=#rangeå‡½æ•°å¸¸ç”¨æ“ä½œ>#</a></h3><ul><li><a href="https://docs.python.org/zh-cn/3.7/library/stdtypes.html?highlight=range#range" target=_blank rel=noopener>https://docs.python.org/zh-cn/3.7/library/stdtypes.html?highlight=range#range</a></li><li>rangeç”Ÿæˆçš„å¹¶ä¸æ˜¯åˆ—è¡¨ï¼Œè€Œæ˜¯ä¸€ä¸ªrangeç»„è€Œå·²</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>reallist</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># rangeçš„æ­¥é•¿è®¾ç½®</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>5</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=universal-method>Universal Method<a hidden class=anchor aria-hidden=true href=#universal-method>#</a></h2><h3 id=sortå¯¹åˆ—è¡¨è¿›è¡Œæ’åº>Sortï¼ˆï¼‰å¯¹åˆ—è¡¨è¿›è¡Œæ’åº<a hidden class=anchor aria-hidden=true href=#sortå¯¹åˆ—è¡¨è¿›è¡Œæ’åº>#</a></h3><p>sortç”¨äºå¯¹æºåˆ—è¡¨è¿›è¡Œæ’åºï¼Œå¦‚æœæŒ‡å®šå‚æ•°ï¼Œåˆ™ä½¿ç”¨æŒ‡å®šçš„æ¯”è¾ƒå‡½æ•°
å‚è€ƒèµ„æ–™ï¼šhttps://www.runoob.com/python/att-list-sort.html</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># çº¯æ•°å­—çš„æƒ…å†µå°±æŒ‰åŸºæœ¬æ–¹å¼è¿›è¡Œæ’åˆ—</span>
</span></span><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>23</span><span class=p>,</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>list1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç±»ä¼¼çš„stringå°±æŒ‰æ‰¾å­—æ¯è¡¨è¿›è¡Œé€é¡¹æ’åºå§ï¼Œæˆ‘æ˜¯è¿™æ ·ç†è§£çš„</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=é˜Ÿåˆ—queue--deque>é˜Ÿåˆ—queue & deque<a hidden class=anchor aria-hidden=true href=#é˜Ÿåˆ—queue--deque>#</a></h2><h2 id=seté›†åˆ>SETé›†åˆ<a hidden class=anchor aria-hidden=true href=#seté›†åˆ>#</a></h2><p><a href=https://www.runoob.com/python3/python3-set.html target=_blank rel=noopener>https://www.runoob.com/python3/python3-set.html</a></p><p>{}å¯ä»¥å®šä¹‰å­—å…¸ï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºé›†åˆ
ä½†æ˜¯ç©ºçš„é›†åˆåªèƒ½ç”¨set()å®šä¹‰ï¼ˆå› ä¸º{}å®šä¹‰çš„æ˜¯ç©ºå­—å…¸ï¼‰
åŸºæœ¬çš„methodï¼š</p><ol><li>addã€removeã€discardï¼ˆä¹Ÿæ˜¯ç§»é™¤ï¼Œä½†æ˜¯å‡å¦‚å…ƒç´ ä¸å­˜åœ¨çš„è¯ä¹Ÿä¸ä¼šæŠ¥é”™ï¼‰</li><li>lenï¼Œclear</li></ol><p>ä¸»è¦æ˜¯å¯ä»¥åˆ©ç”¨å…¶ä¸­ä¸ä¼šé‡å¤çš„å…ƒç´ çš„ç‰¹æ€§æ¥è¿›è¡Œç‰¹æ®Šçš„æ“ä½œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>basker</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;organge&#39;</span><span class=p>,</span> <span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;pear&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;basker:&#39;</span><span class=p>,</span> <span class=n>basker</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;orange&#39;</span> <span class=ow>in</span> <span class=n>basker</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=s1>&#39;go straight forward&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å¯ä»¥åœ¨é›†åˆä¸­åšäº¤å¹¶ç­‰ç­‰é›†åˆçš„æ“ä½œ</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=åˆ©ç”¨setè¿›è¡Œå»é‡>åˆ©ç”¨setè¿›è¡Œå»é‡<a hidden class=anchor aria-hidden=true href=#åˆ©ç”¨setè¿›è¡Œå»é‡>#</a></h3><p>å¦‚ä½•åˆ©ç”¨setå¯¹unhashableçš„data structureè¿›è¡Œå»é‡ï¼Œè¿™é‡Œé‡‡å–çš„æ–¹å¼æ˜¯ä½¿ç”¨tupleå¯¹æ•°ç»„è¿›è¡Œå˜æ¢ï¼›</p><p>å®é™…ä¸Šunhashableçš„åŸå› åœ¨äºå¯¹è±¡æ˜¯å¯å˜å¯¹è±¡ï¼šæ¯”å¦‚np.arrayï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºä¸å¯å˜çš„tupleä¹‹åå°±å¯ä»¥è¿›è¡Œhashçš„è®¡ç®—ä»è€Œè¿›è¡Œå»é‡äº†ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># äºŒç»´æ•°ç»„ä¸ºä¾‹</span>
</span></span><span class=line><span class=cl><span class=n>array1</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>array1_t</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>tuple</span><span class=p>,</span><span class=n>array1</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>resume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>array1_t</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># è¿›è¡Œè½¬æ¢çš„æ—¶å€™æ³¨æ„ä¸è¦è¿›è¡Œè¿‡åº¦çš„æ‹†åˆ†ï¼Œä¸Šè¿°çš„æ–¹æ³•åªé€‚ç”¨äºäºŒç»´æ•°ç»„çš„æƒ…å†µï¼Œ</span>
</span></span><span class=line><span class=cl><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;abcsd&#39;</span><span class=p>,</span><span class=s1>&#39;dsdc&#39;</span><span class=p>,</span><span class=s1>&#39;cdsda&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>text</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å³å¯ï¼Œä¸ç„¶å¯èƒ½ä¼šå°†å…¶ä¸­çš„æ–‡æœ¬å…¨éƒ¨æ‹†åˆ†å‡ºæ¥</span>
</span></span><span class=line><span class=cl><span class=c1># åç»­è¡¥å……ä¸€ä¸‹mapçš„å…¶ä»–ç”¨æ³•ã€‚[func,iterator?]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=dicthashmap>Dictï¼ŒHashmap<a hidden class=anchor aria-hidden=true href=#dicthashmap>#</a></h2><p>å®é™…ä¸Špythonä¸­çš„å­—å…¸å°±æ˜¯hashmapçš„å…·ä½“å®ç°ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„ç»“æ„</p><h3 id=åˆ¤æ–­å­—å…¸ä¸­çš„keyæ˜¯å¦å­˜åœ¨çš„æ–¹æ³•>åˆ¤æ–­å­—å…¸ä¸­çš„keyæ˜¯å¦å­˜åœ¨çš„æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#åˆ¤æ–­å­—å…¸ä¸­çš„keyæ˜¯å¦å­˜åœ¨çš„æ–¹æ³•>#</a></h3><p><strong>é¦–å…ˆå¦‚æœæˆ‘ä»¬è°ƒç”¨çš„keyä¸å­˜åœ¨çš„è¯</strong>ï¼š <code>keyerror</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;key1&#39;</span> <span class=ow>in</span> <span class=n>dict1</span>
</span></span><span class=line><span class=cl><span class=n>false</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ–è€…ä½¿ç”¨getæ–¹æ³•ï¼Œèƒ½ç»™ä¸å­˜åœ¨çš„keyèµ‹äºˆé»˜è®¤çš„value,åœ¨è¿™ä¸ªæ—¶å€™å‡ºç°çš„åˆ™æ˜¯<code>nameerror</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>d</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;key1&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>d</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;key1&#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å­—å…¸ä¸­çš„å¸¸ç”¨æ–¹æ³•>å­—å…¸ä¸­çš„å¸¸ç”¨æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#å­—å…¸ä¸­çš„å¸¸ç”¨æ–¹æ³•>#</a></h3><p>â€¦</p><h3 id=collectionsdefaultdict-æŒ‡å®šdictä¸­æœªå®šä¹‰keyçš„value>collections.defaultdict æŒ‡å®šdictä¸­æœªå®šä¹‰keyçš„value<a hidden class=anchor aria-hidden=true href=#collectionsdefaultdict-æŒ‡å®šdictä¸­æœªå®šä¹‰keyçš„value>#</a></h3><ul><li>é€šè¿‡æŒ‡å®šçš„é»˜è®¤å€¼ï¼Œåœ¨ä¸€äº›ä½¿ç”¨åœºæ™¯ä¸‹å¯ä»¥å¯¹dictè¿›è¡Œç®€åŒ–çš„å®šä¹‰</li><li>åŒæ—¶ä¹Ÿèƒ½é’ˆå¯¹ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µï¼Œæ¯”å¦‚è¯´æœªè§æ•°æ®çš„æƒ…å†µï¼Œè¿›è¡Œå®šä¹‰</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># æŒ‡å®šlistç±»å‹ç”¨äºæœªå®šä¹‰ç±»åˆ«çš„å¡«å……</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>defaultdict</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>dict2</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;dict1 print key error&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;dict2 is like &#39;</span><span class=p>,</span> <span class=n>dict2</span><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><pre tabindex=0><code>dict1 print key error
dict2 is like  []
</code></pre><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ç”¨æ³•2ï¼Œé¿å…keyerroræ›´å®¹æ˜“å¯¹å…¶è¿›è¡Œèµ‹å€¼</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>defaultdict</span>
</span></span><span class=line><span class=cl><span class=n>bags</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;orange&#39;</span><span class=p>,</span> <span class=s1>&#39;cherry&#39;</span><span class=p>,</span> <span class=s1>&#39;apple&#39;</span><span class=p>,</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;cherry&#39;</span><span class=p>,</span> <span class=s1>&#39;blueberry&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>count</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>fruit</span> <span class=ow>in</span> <span class=n>bags</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span><span class=p>[</span><span class=n>fruit</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;the count output is like </span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>count</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># print(locals().keys())</span>
</span></span></code></pre></td></tr></table></div></div><pre tabindex=0><code>the count output is like
 defaultdict(&lt;class &#39;int&#39;&gt;, {&#39;apple&#39;: 3, &#39;orange&#39;: 1, &#39;cherry&#39;: 2, &#39;blueberry&#39;: 1})
</code></pre><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ç”¨æ³•3ï¼šå¯ä»¥è‡ªå®šä¹‰å‡½æ•°ä½œä¸ºåˆå§‹åŒ–çš„å‡½æ•°å‚æ•°</span>
</span></span><span class=line><span class=cl><span class=c1># åŸºäºè¿™æ ·çš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥å®šä¹‰å„ç§å„æ ·çš„é»˜è®¤å€¼</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>defaultdict</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>defaultvalue</span><span class=p>(</span><span class=n>value</span><span class=o>=</span><span class=mi>2</span><span class=p>):</span> <span class=k>return</span> <span class=n>value</span>
</span></span><span class=line><span class=cl><span class=n>dict3</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=n>defaultvalue</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>dict3</span><span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=vars>Varsï¼ˆï¼‰<a hidden class=anchor aria-hidden=true href=#vars>#</a></h2><p><strong>vars()</strong> å‡½æ•°è¿”å›å¯¹è±¡objectçš„å±æ€§å’Œå±æ€§å€¼çš„å­—å…¸å¯¹è±¡ã€‚</p><h2 id=pythonä¸­çš„æ•°å­—æ—¥æœŸæ—¶é—´è®¡ç®—>Pythonä¸­çš„æ•°å­—æ—¥æœŸæ—¶é—´è®¡ç®—<a hidden class=anchor aria-hidden=true href=#pythonä¸­çš„æ•°å­—æ—¥æœŸæ—¶é—´è®¡ç®—>#</a></h2><p>@Aiken 2020</p><p>@Sourceï¼šã€ŠPython Cookbookã€‹ Chapter3 æ•°å­—æ—¥æœŸå’Œæ—¶é—´</p><p>ä¸»è¦é’ˆå¯¹Pythonä¸­çš„æ•°å­—æ•°å­—è¿ç®—çš„è¿ç®—åšä¸€ä¸ªç¬”è®°</p><h3 id=è·å–æœ¬æœºæ—¶é—´çš„å‡ ç§æ–¹æ³•>è·å–æœ¬æœºæ—¶é—´çš„å‡ ç§æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#è·å–æœ¬æœºæ—¶é—´çš„å‡ ç§æ–¹æ³•>#</a></h3><p>ä¸»è¦ä¸ºäº†<strong>æ–¹ä¾¿æ ¼å¼åŒ–æ—¶é—´</strong>è¾“å‡ºï¼Œæˆ‘ä»¬éœ€è¦å°†æœºå™¨æ—¶é—´è½¬æ¢æˆæŒ‡å®šçš„å¹´æœˆæ—¥ä¹‹ç±»çš„ã€‚
åˆ†åˆ«æ¥è‡ªäºtime å’Œ datatimeï¼Œè¿™ä¸¤ç§æ–¹å¼çš„æ—¶é—´å¤æ‚åº¦å¥½åƒå®é™…ä¸Šå¹¶æ²¡æœ‰å¤ªå¤§çš„å·®åˆ«ï¼Œå§‘ä¸”ç”¨ç€æŠŠæš‚æ—¶ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_time</span><span class=p>(</span><span class=nb>type</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>type</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span> <span class=n>now</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s1>&#39;%m/</span><span class=si>%d</span><span class=s1>:%H:%M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span> <span class=n>now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s1>&#39;%m/</span><span class=si>%d</span><span class=s1>:%H:%M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>now</span>
</span></span><span class=line><span class=cl><span class=n>get_time</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ç²¾ç¡®æ•°å­—è¿ç®—>ç²¾ç¡®æ•°å­—è¿ç®—<a hidden class=anchor aria-hidden=true href=#ç²¾ç¡®æ•°å­—è¿ç®—>#</a></h3><p>æˆ‘ä»¬çŸ¥é“pythonä¸­çš„è®¡ç®—ä¸æ˜¯ç»å¯¹ç²¾å‡†çš„ï¼Œ æµ®ç‚¹çš„ç²¾åº¦æ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œé‡‘èé¢†åŸŸæˆ–è€…æ•°å­¦é¢†åŸŸçš„ä¸€äº›é«˜ç²¾åº¦è¦æ±‚çš„è®¡ç®—ï¼Œå¯ä»¥ä¸ºå…¶ç‰ºç‰²ä¸€å®šçš„å¤æ‚åº¦çš„æ—¶å€™ğŸ‘‰decimalæ¨¡å—</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>decimal</span> <span class=kn>import</span> <span class=n>Decimal</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>Decimal</span><span class=p>(</span><span class=s1>&#39;4.2&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>Decimal</span><span class=p>(</span><span class=s1>&#39;2.1&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=o>+</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span><span class=o>+</span><span class=n>b</span><span class=o>==</span><span class=n>Decimal</span><span class=p>(</span><span class=s1>&#39;6.3&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># æ³¨æ„æ•°æ®çš„ç±»å‹å®é™…ä¸Šä¹Ÿæ˜¯Decimal</span>
</span></span><span class=line><span class=cl><span class=c1># èƒ½æ§åˆ¶è®¡ç®—çš„æ¯ä¸€æ–¹é¢ï¼ŒåŒ…æ‹¬æ•°å­—ä½æ•°å’Œå››èˆäº”å…¥ä¹‹ç±»çš„ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„ä¸Šä¸‹æ–‡</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>decimal</span> <span class=kn>import</span> <span class=n>localcontext</span>
</span></span><span class=line><span class=cl><span class=c1># ç²¾ç¡®åº¦æ§åˆ¶</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>localcontext</span><span class=p>()</span> <span class=k>as</span> <span class=n>ctx</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>ctx</span><span class=o>.</span><span class=n>prec</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=o>/</span><span class=n>b</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>è®¡ç®—æ–¹æ³•ä¸­çš„å¤§æ•°åƒå°æ•°çš„æƒ…å†µ</strong></p><p>(è¿ç®—ä¸­çš„é‡çº²å·®å¼‚è¶…è¿‡17ä½çš„æµ®ç‚¹æ•°ç²¾åº¦çš„æƒ…å†µ)ä½¿ç”¨math.fsum()å‡½æ•°</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl><span class=n>nums</span> <span class=o>=</span> <span class=p>[</span><span class=mf>1.23e+18</span><span class=err>ï¼Œ</span><span class=mi>1</span><span class=err>ï¼Œ</span><span class=o>-</span><span class=mf>1.23e+18</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>assert</span> <span class=nb>sum</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>!=</span> <span class=n>math</span><span class=o>.</span><span class=n>fsum</span><span class=p>(</span><span class=n>nums</span><span class=p>),</span> <span class=s1>&#39;the correct ans is fsum </span><span class=si>{}</span><span class=s1>, error ans is sum </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>math</span><span class=o>.</span><span class=n>fsum</span><span class=p>(</span><span class=n>nums</span><span class=p>),</span><span class=nb>sum</span><span class=p>(</span><span class=n>nums</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># we can find it what we meet and waht we want.</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ•°å­—çš„æ ¼å¼åŒ–è¾“å‡º>æ•°å­—çš„æ ¼å¼åŒ–è¾“å‡º<a hidden class=anchor aria-hidden=true href=#æ•°å­—çš„æ ¼å¼åŒ–è¾“å‡º>#</a></h3><p>æ§åˆ¶è¾“å‡ºçš„æ ¼å¼ï¼ˆç²¾ç¡®åº¦ï¼Œå¯¹é½ï¼Œåƒåˆ†ä½åˆ†å‰²ç¬¦ï¼‰<code>format</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mf>1234.56789</span>
</span></span><span class=line><span class=cl><span class=n>anslist</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>value</span> <span class=o>=</span> <span class=nb>format</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=s1>&#39;0.2f&#39;</span><span class=p>)</span>   <span class=c1># ğŸ‘ˆ ä¸¤ä½å°æ•°</span>
</span></span><span class=line><span class=cl><span class=n>anslist</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a href=Python%20Notebook%20ad3f0aafe5a54942bdcc3694a9a88976/Untitled%20Database%20400b9d461cf240e18dd2268ce561adf1.csv>Untitled</a></p><p><strong>è¿›åˆ¶è½¬æ¢ï¼š</strong></p><blockquote><p>2,8,16 -> binï¼ˆï¼‰ octï¼ˆï¼‰ hexï¼ˆï¼‰ OR format(x, â€˜bâ€™) format(x, â€˜oâ€™) format(x, â€˜hâ€™)</p></blockquote><p><strong>å¤æ•°è¿ç®—</strong></p><blockquote><p><code>complex(real, imag)``numpy</code>å¥½åƒèƒ½å¤„ç†å¤æ•°<code>cmath</code>ä¸€äº›mathæ— æ³•å¤„ç†çš„å¤æ•°è¿ç®—</p></blockquote><p><strong>æ­£è´Ÿæ— ç©·äºNaNï¼ˆéæ•°å­—ï¼‰</strong></p><blockquote><p>infï¼Œ-infï¼Œnanï¼Œ å¯ä»¥ä½¿ç”¨float(â€˜infâ€™)åˆ›å»ºéªŒè¯ <code>math.isinf()</code></p></blockquote><p><strong>åˆ†æ•°è¿ç®—</strong></p><blockquote><p>Fractionsï¼ˆ5ï¼Œ4ï¼‰==5/4.numerator åˆ†å­ .denominator åˆ†æ¯</p></blockquote><h1 id=è¿­ä»£å™¨>è¿­ä»£å™¨<a hidden class=anchor aria-hidden=true href=#è¿­ä»£å™¨>#</a></h1><p>ä¸»è¦åŒ…æ‹¬è¿­ä»£çš„æ¨¡å—å’Œè§£åŒ…çš„ä¸€äº›ç›¸å…³æ“ä½œï¼š</p><h3 id=enumerate-itemszip>enumerate ã€itemsã€zip<a hidden class=anchor aria-hidden=true href=#enumerate-itemszip>#</a></h3><ol><li><p><code>enumerate</code>å¯ä»¥å°†å¯è¿­ä»£å¯¹è±¡ï¼Œé™¤äº†dictï¼Œè§£å‹å‡ºæ¥ï¼Œå¹¶è‡ªå¸¦åºå·ï¼ˆå¤šåŠ å…¥ä¸€ä¸ªç»´åº¦ï¼‰ã€‚</p></li><li><p>å­—å…¸çš„è§£åŒ…ä¸»è¦é <code>itemsï¼ˆï¼‰</code></p></li><li><p><code>zip</code>å°†å¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ï¼ŒæŠŠæ¯ä¸€é¡¹å¯è¿­ä»£å¯¹è±¡ä¸­å–å‡ºä¸€ä¸ªå€¼ï¼Œç»„åˆæˆä¸€ä¸ªä¸ªå…ƒç»„ï¼Œï¼Œç„¶åè¿”å›ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>A</span><span class=p>,</span><span class=n>B</span><span class=p>,</span><span class=n>C</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h1 id=å…ƒç¼–ç¨‹>å…ƒç¼–ç¨‹<a hidden class=anchor aria-hidden=true href=#å…ƒç¼–ç¨‹>#</a></h1><h2 id=some-rules>Some Rules<a hidden class=anchor aria-hidden=true href=#some-rules>#</a></h2><ul><li><p><code>-></code>in python: å¸¸å¸¸å‡ºç°åœ¨pythonå‡½æ•°å®šä¹‰çš„å‡½æ•°ååé¢ï¼Œä¸ºå‡½æ•°æ·»åŠ å…ƒæ•°æ®ï¼Œæè¿°å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œä»è€Œæ–¹é¢å¼€å‘äººå‘˜ä½¿ç”¨ã€‚</p></li><li><p>æ‹“å±•ï¼šè¿›è¡Œå‡½æ•°å†…çš„å‚æ•°å®šä¹‰çš„æ—¶å€™ä¹Ÿå¯ä»¥ç”¨å†’å·æŒ‡å®šç±»å‹ï¼Œä»¥åŠé»˜è®¤å€¼</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>func</span><span class=p>(</span><span class=n>isPre</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>):</span> <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>-</p><h2 id=è£…é¥°å™¨æ¨¡å—>è£…é¥°å™¨æ¨¡å—<a hidden class=anchor aria-hidden=true href=#è£…é¥°å™¨æ¨¡å—>#</a></h2><p>è£…é¥°å™¨åœ¨æˆ‘ä¸ªäººçš„ç†è§£é‡Œé¢æ›´åƒæ˜¯ä¸€ä¸ªåµŒå¥—çš„å‡½æ•°ç»“æ„ï¼Œç¼–å†™è£…é¥°å™¨å®é™…ä¸Šæ˜¯ä¸ºäº†ç»™å‡½æ•°<strong>å¥—å£³</strong>ï¼Œæœ€æ ¹æœ¬çš„ç›®çš„ä»ç„¶æ˜¯ä¸ºäº†repeat codingï¼Œè€Œè¿™æ ·çš„å†™æ³•æœ€ç›´æ¥é€‚ç”¨çš„æœ‰ä»¥ä¸‹çš„å‡ ç§æƒ…å†µï¼š</p><ul><li>Timing or Logging</li><li>å½“æˆå‡½æ•°æŒ‡é’ˆè¿›è¡Œå‡½æ•°çš„ä¼ é€’ï¼ˆä½†æ˜¯è¿™ç‚¹ä¸Šå®é™…ä¸Šç”¨ç±»ä¼ é€’çš„æ–¹å¼å¯èƒ½ä¼šæ›´å¸¸è§ä¸€ç‚¹ï¼‰</li></ul><h3 id=basic-type>Basic Type<a hidden class=anchor aria-hidden=true href=#basic-type>#</a></h3><p>æœ€åŸºæœ¬çš„ç¼–å†™æ ·ä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functional</span> <span class=kn>import</span> <span class=n>wraps</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>timethis</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;&#39;&#39;Decorator that report the execution time.
</span></span></span><span class=line><span class=cl><span class=s1>    this Decorator can not accept parameters&#39;&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=c1># é€šè¿‡ä¸‹é¢è¿™ä¸ªå†…ç½®çš„è£…é¥°å™¨æ¥ä¿ç•™funcçš„å…ƒä¿¡æ¯ __name__ __doc___ä¹‹ç±»çš„</span>
</span></span><span class=line><span class=cl>    <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span><span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># * ** æ¥ä¿è¯å¯ä»¥å¯¹funcä¼ å…¥å„ç§å‚æ•°</span>
</span></span><span class=line><span class=cl>        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¥å—å‚æ•°ä¼ é€’>æ¥å—å‚æ•°ä¼ é€’<a hidden class=anchor aria-hidden=true href=#æ¥å—å‚æ•°ä¼ é€’>#</a></h3><p>ä½†æ˜¯è¿™ä¸ªè£…é¥°å™¨å®é™…ä¸Šä¸æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¸Œæœ›è£…é¥°å™¨èƒ½<strong>æ¥å—ä¼ å…¥çš„å‚æ•°</strong>ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬æ‰èƒ½æ›´å¥½çš„è¿›è¡Œprintæˆ–è€…æ˜¯ä½¿ç”¨loggingè¿™ä¸ªæ¨¡å—ã€‚</p><p>Then we can write it like this :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># å®é™…ä¸Šç›´è§‚çš„ç†è§£çš„è¯ï¼Œå°±æ˜¯åœ¨å¤–é¢å†å¤šåµŒå¥—ä¸€å±‚å‡½æ•°ï¼Œé€šè¿‡è¿™ä¸ªå‡½æ•°æ¥å¯¹æˆ‘ä»¬çš„decoratorä¼ é€’éœ€è¦çš„å‚æ•°</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functional</span> <span class=kn>import</span> <span class=n>wraps</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å®ç°å¯¹è£…é¥°å™¨çš„å‚æ•°ä¼ é€’ï¼ŒåŒæ—¶å’Œ</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>logged</span><span class=p>(</span><span class=n>level</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span><span class=n>message</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;&#39;&#39;é€šè¿‡æœ€å¤–å±‚æ¥å—å‚æ•°å¹¶å°†å…¶ä¼ é€’åˆ°å†…å±‚çš„è£…é¥°å™¨ä¸­&#39;&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decorate</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># setting paramter we passing here</span>
</span></span><span class=line><span class=cl>        <span class=n>logname</span> <span class=o>=</span> <span class=n>name</span> <span class=k>if</span> <span class=n>name</span> <span class=k>else</span> <span class=n>func</span><span class=o>.</span><span class=n>__moudule__</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=n>logname</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>logmsg</span> <span class=o>=</span> <span class=n>message</span> <span class=k>if</span> <span class=n>message</span> <span class=k>else</span> <span class=n>func</span><span class=o>.</span><span class=vm>__name__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span><span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>log</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>level</span><span class=p>,</span><span class=n>logmsg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>decorate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬è¦ä¼ é€’çš„å°±æ˜¯ä¸€äº›è¾“å‡ºç»“æœï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦ç”¨åˆ°è¿™ä¸€ç‚¹ï¼Œåªè¦å†å†…éƒ¨èµ‹äºˆloggingå°±è¡Œäº†ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è®¾å®šçš„å°±æ˜¯åŸºæœ¬çš„levelå’Œlogger_nanme</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¿®æ”¹è£…é¥°å™¨å‚æ•°>ä¿®æ”¹è£…é¥°å™¨å‚æ•°<a hidden class=anchor aria-hidden=true href=#ä¿®æ”¹è£…é¥°å™¨å‚æ•°>#</a></h3><p>å¯¹ä¸Šé¢è¿™ä¸ªè£…é¥°å™¨æ¨¡å—è¿›è¡Œç®€å•çš„æ”¹è¿›ï¼Œ<strong>å°±èƒ½ä½¿å¾—ç”¨åŒ…è£…å™¨åŒ…è£…çš„å‡½æ•°ï¼Œèƒ½å¤Ÿè°ƒç”¨é™„åŠ å‡½æ•°æ¥ä¿®æ”¹è£…é¥°å™¨çš„å‚æ•°</strong></p><p>ï¼ˆç›¸å½“äºèµ‹äºˆè¢«è£…é¥°æ–¹æ³•ä¸€ä¸ªå¯¹è£…é¥°å™¨çš„ç±»å¤–è®¿é—®å‡½æ•°ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># è¿™é‡Œæœ‰ä¸ªæ¨¡å—å°±æ¯”è¾ƒçŒå¥‡äº†ï¼Œä»¥å‰å€’æ˜¯æ²¡è§è¿‡</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functional</span> <span class=kn>import</span> <span class=n>wraps</span><span class=p>,</span><span class=n>partial</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># utility decorator to attach a functional as an attribute of obj</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>attach_wrapper</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>func</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>partial</span><span class=p>(</span><span class=n>attach_wrapper</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>setattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>func</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#åŸæœ‰è£…é¥°å™¨ä¸Šé¢æ·»åŠ ä¸œè¥¿å³å¯</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>logged</span><span class=p>(</span><span class=n>level</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span><span class=n>message</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;&#39;&#39;é€šè¿‡æœ€å¤–å±‚æ¥å—å‚æ•°å¹¶å°†å…¶ä¼ é€’åˆ°å†…å±‚çš„è£…é¥°å™¨ä¸­&#39;&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decorate</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># setting paramter we passing here</span>
</span></span><span class=line><span class=cl>        <span class=n>logname</span> <span class=o>=</span> <span class=n>name</span> <span class=k>if</span> <span class=n>name</span> <span class=k>else</span> <span class=n>func</span><span class=o>.</span><span class=n>__moudule__</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=n>logname</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>logmsg</span> <span class=o>=</span> <span class=n>message</span> <span class=k>if</span> <span class=n>message</span> <span class=k>else</span> <span class=n>func</span><span class=o>.</span><span class=vm>__name__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span><span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>log</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>level</span><span class=p>,</span><span class=n>logmsg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;&#39;&#39;ä½¿ç”¨nonlocalæ·»åŠ å±æ€§ä¿®æ”¹çš„æ¨¡å—&#39;&#39;&#39;</span>
</span></span><span class=line><span class=cl>        <span class=nd>@attach_wrapper</span><span class=p>(</span><span class=n>wrapper</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>set_level</span><span class=p>(</span><span class=n>newlevel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>level</span>
</span></span><span class=line><span class=cl>            <span class=n>level</span> <span class=o>=</span> <span class=n>newlevel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nd>@attach_wrapper</span><span class=p>(</span><span class=n>wrapper</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>set_message</span><span class=p>(</span><span class=n>newmsg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>logmsg</span>
</span></span><span class=line><span class=cl>            <span class=n>logmsg</span> <span class=o>=</span> <span class=n>newmsg</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>decorate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@logged</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@logged</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>CRITICAL</span><span class=p>,</span><span class=s1>&#39;example&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>spam</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Spam&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä½¿ç”¨èŒƒä¾‹:å¯ä»¥å†ç±»å¤–è°ƒç”¨å†…å†…çš„å±æ€§è®¾ç½®äº†</span>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=o>.</span><span class=n>set_message</span><span class=p>(</span><span class=s1>&#39;add called&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=o>.</span><span class=n>set_level</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>WARNING</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å¸¦å¯é€‰å‚æ•°çš„ä¿®é¥°å™¨>å¸¦å¯é€‰å‚æ•°çš„ä¿®é¥°å™¨<a hidden class=anchor aria-hidden=true href=#å¸¦å¯é€‰å‚æ•°çš„ä¿®é¥°å™¨>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># æ„Ÿè§‰æ²¡å¤ªç†è§£è¿™ä¸ªæ–‡ç« ä¸­è¯´åˆ°çš„ä¸å¸¦å‚æ•°çš„æ„æ€ï¼Œéš¾é“å¯ä»¥ä¸ä¼ å…¥å‡½æ•°å—</span>
</span></span><span class=line><span class=cl><span class=c1># å…ˆæŠŠæ¨¡æ¿æ”¾åœ¨è¿™</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>logged</span><span class=p>(</span><span class=n>func</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>,</span><span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>message</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>partial</span><span class=p>(</span><span class=n>logged</span><span class=p>,</span><span class=n>level</span><span class=o>=</span><span class=n>level</span><span class=p>,</span><span class=n>name</span><span class=o>=</span><span class=n>name</span><span class=p>,</span><span class=n>message</span><span class=o>=</span><span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>logname</span> <span class=o>=</span> <span class=n>name</span> <span class=k>if</span> <span class=n>name</span> <span class=k>else</span> <span class=n>func</span><span class=o>.</span><span class=n>__moudule__</span>
</span></span><span class=line><span class=cl>    <span class=n>log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=n>logname</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>logmsg</span> <span class=o>=</span> <span class=n>message</span> <span class=k>if</span> <span class=n>message</span> <span class=k>else</span> <span class=n>func</span><span class=o>.</span><span class=vm>__name__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span><span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>level</span><span class=p>,</span><span class=n>logmsg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=propertyçš„ç”¨æ³•>@propertyçš„ç”¨æ³•<a hidden class=anchor aria-hidden=true href=#propertyçš„ç”¨æ³•>#</a></h3><p>å°†ç±»åˆ«æ–¹æ³•è½¬æ¢ä¸ºç±»åˆ«å±æ€§ï¼Œå¯ä»¥ç›´æ¥ç”¨.è·å–å±æ€§å€¼æˆ–è€…å¯¹å±æ€§è¿›è¡Œèµ‹å€¼ã€‚</p><p><strong>å…·ä½“çš„å®ç°å’Œè¦æ±‚åœ¨åé¢å†çœ‹çœ‹</strong></p><h1 id=exception>Exception<a hidden class=anchor aria-hidden=true href=#exception>#</a></h1><p>@Aiken 2020</p><p>Pythonçš„å¼‚å¸¸å¤„ç†æ“ä½œï¼šä¸»è¦å†…å®¹åŒ…æ‹¬æ•æ‰å¼‚å¸¸ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼ŒåŸºäºå¼‚å¸¸è¿›è¡Œåˆ¤æ–­å¤„ç†ç­‰ã€‚
åŸºæœ¬åŸç†:</p><p>å‚è€ƒèµ„æ–™ï¼š <a href=https://www.runoob.com/python3/python3-errors-execptions.html target=_blank rel=noopener>python3_é”™è¯¯å’Œå¼‚å¸¸</a>
ã€ <a href=https://www.runoob.com/python/python-exceptions.html target=_blank rel=noopener>python3_é”™è¯¯å’Œå¼‚å¸¸2</a></p><h2 id=python3-é”™è¯¯å’Œå¼‚å¸¸>Python3 é”™è¯¯å’Œå¼‚å¸¸<a hidden class=anchor aria-hidden=true href=#python3-é”™è¯¯å’Œå¼‚å¸¸>#</a></h2><p>**é”™è¯¯ï¼š**ä¸€èˆ¬è¯­æ³•è§£æå™¨çš„è§£æé”™è¯¯ï¼Œæ¢å¥è¯è¯´ä¹Ÿå°±æ˜¯åŸºæœ¬çš„è¯­æ³•é”™è¯¯ã€‚
**å¼‚å¸¸ï¼š**è¯­æ³•æ­£ç¡®ï¼Œä½†æ˜¯è¿è¡ŒæœŸé—´å‡ºç°çš„é”™è¯¯ï¼Œ</p><p>å¼‚å¸¸æœ‰å¾ˆå¤šç§ç±»ï¼šæœªå®šä¹‰ï¼Œç±»å‹å¼‚å¸¸ï¼Œé™¤æ•°0å¼‚å¸¸ï¼Œetc.
&mldr;åœ¨é™„å½•é™„åŠ å¸¸ç”¨å¸¸è§çš„é”™è¯¯ç±»å‹</p><h2 id=å¼‚å¸¸æ•æ‰try-except>å¼‚å¸¸æ•æ‰try except<a hidden class=anchor aria-hidden=true href=#å¼‚å¸¸æ•æ‰try-except>#</a></h2><p>é€šè¿‡try exception æ•æ‰å¯èƒ½ä¼šå‡ºç°çš„å¼‚å¸¸ï¼Œç„¶åç”¨exceptï¼ŒæŒ‡å®šå½“è¯¥å¼‚å¸¸å‡ºç°æ—¶å€™è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥æŒ‡å®šå¤šç§å¼‚å¸¸ã€‚</p><p>åŸºæœ¬çš„ç®—æ³•æµç¨‹æ˜¯ï¼š</p><ul><li>é¦–å…ˆï¼Œæ‰§è¡Œ try å­å¥ï¼ˆåœ¨å…³é”®å­— try å’Œå…³é”®å­— except ä¹‹é—´çš„è¯­å¥ï¼‰ã€‚</li><li>å¦‚æœæ²¡æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œå¿½ç•¥ except å­å¥ï¼Œtry å­å¥æ‰§è¡Œåç»“æŸã€‚</li><li>å¦‚æœåœ¨æ‰§è¡Œ try å­å¥çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆ try å­å¥ä½™ä¸‹çš„éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚å¦‚æœå¼‚å¸¸çš„ç±»å‹å’Œ except ä¹‹åçš„åç§°ç›¸ç¬¦ï¼Œé‚£ä¹ˆå¯¹åº”çš„ except å­å¥å°†è¢«æ‰§è¡Œã€‚</li></ul><p>å¦‚æœä¸€ä¸ªå¼‚å¸¸æ²¡æœ‰ä¸ä»»ä½•çš„ except åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å°†ä¼šä¼ é€’ç»™ä¸Šå±‚çš„ try ä¸­ã€‚
å®Œæ•´çš„ç®—æ³•é€»è¾‘å¦‚å›¾æ‰€ç¤ºğŸ‘‡ï¼Œé€šå¸¸å¯ä»¥æŒ‡ä½¿ç”¨t-eéƒ¨åˆ†å³å¯</p><p><div class=post-img-view><a data-fancybox=gallery href=https://raw.githubusercontent.com/AikenH/md-image/master/img/try_except_else_finally.png><img alt=https://raw.githubusercontent.com/AikenH/md-image/master/img/try_except_else_finally.png loading=lazy src=https://raw.githubusercontent.com/AikenH/md-image/master/img/try_except_else_finally.png class=responsive-image src=https://raw.githubusercontent.com/AikenH/md-image/master/img/try_except_else_finally.png style="display:block;margin:0 auto" alt=https://raw.githubusercontent.com/AikenH/md-image/master/img/try_except_else_finally.png></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>Image1</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#ä¸»è¦ä¾èµ–æ¨¡å—</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>å†™æ³•çš„ä¼˜ç‚¹</strong></p><ul><li>åœ¨å¯é¢„è§çš„Exceptionå‡ºç°çš„æ—¶å€™ä¸ä¼šä¸­æ–­ç¨‹åºçš„è¿›è¡Œï¼Œ å¯ä»¥ä»¥æŒ‡å®šçš„æ–¹å¼è¿›è¡Œè§„é¿ï¼Œæˆ–è€…é’ˆå¯¹è¯¥æƒ…å†µè¿›è¡Œç‰¹å®šçš„å¼‚å¸¸å¤„ç†ã€‚</li></ul><p><strong>elseçš„ä¼˜åŠ¿</strong></p><ul><li>å¦‚æœtryä¸­å‡ºç°äº†å¤šä¸ªå¼‚å¸¸ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¿½è§†å…¶ä¸­çš„ä¸€äº›å¼‚å¸¸ã€‚</li><li>å¯ä»¥é’ˆå¯¹æ€§çš„è¿›è¡Œå¼‚å¸¸ç®—æ³•è®¾è®¡ï¼Œè¿™æ ·ä¼šä½¿å¾—å¯è¯»æ€§å’Œä¾¿äºåˆ†æã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ç”¨try exceptçš„æ–¹å¼æœ€å¥½çš„ä¸€ç‚¹åœ¨äºï¼Œä»–ä¸ä¼šç»ˆç«¯ç¨‹åºçš„æ‰§è¡Œã€‚</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;please type in NUMBER &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;your input is not NUMBER&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># if we donot use t-e</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;repeat you input&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># é€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è¿™æ ·æ‰§è¡Œçš„å¥½å¤„ï¼Œåœ¨ä¸€äº›æ— å…³ç´§è¦çš„åœ°æ–¹ï¼Œ</span>
</span></span><span class=line><span class=cl><span class=c1># å¯ä»¥è®©ç¨‹åºç»§ç»­è¿è¡Œè€Œä¸å¿…å› ä¸ºè¿™äº›è€Œä¸­æ–­ã€‚</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=exceptionçš„å¤šç§å†™æ³•å’Œå¤šå¼‚å¸¸åˆ†æ”¯>exceptionçš„å¤šç§å†™æ³•å’Œå¤šå¼‚å¸¸åˆ†æ”¯<a hidden class=anchor aria-hidden=true href=#exceptionçš„å¤šç§å†™æ³•å’Œå¤šå¼‚å¸¸åˆ†æ”¯>#</a></h3><p>tryä¸­çš„è¯­å¥å¯èƒ½æœ‰<strong>å¤šç§å¼‚å¸¸æŠ›å‡º</strong>çš„æƒ…å†µï¼š</p><ol><li>é’ˆå¯¹ä¸åŒçš„å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</li><li>ç»Ÿä¸€å¤„ç†ä¸åŒå¼‚å¸¸ã€‚</li><li>ç»Ÿä¸€å¤„ç†æ‰€æœ‰ç±»å‹</li></ol><p>ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹ï¼š</p><ol><li>try except except &mldr;</li><li>EXCEPT (TUPLE)</li><li>exceptä¸å¸¦ä»»ä½•å‚æ•°</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># type 1</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>123</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span> <span class=o>=</span> <span class=mi>123</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>TypeError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span> <span class=o>=</span> <span class=mi>123</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># type 2</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;please type in NUMBER &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=p>(</span><span class=ne>ValueError</span><span class=p>,</span><span class=ne>TypeError</span><span class=p>,</span><span class=ne>NameError</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;your input is not NUMBER&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Try Import</strong> ä½¿ç”¨tryçš„ç»“æ„æ¥é¿å…importè¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜ï¼š</p><p><a href="https://www.programcreek.com/python/?CodeExample=try+import" target=_blank rel=noopener>Python try import (programcreek.com)</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>try_import</span><span class=p>(</span><span class=n>package</span><span class=p>,</span> <span class=n>message</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>__import__</span><span class=p>(</span><span class=n>package</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>ImportError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>message</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>e</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ImportError</span><span class=p>(</span><span class=n>m</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=æŠ›å‡ºå¼‚å¸¸-raise-exception>æŠ›å‡ºå¼‚å¸¸ Raise Exception<a hidden class=anchor aria-hidden=true href=#æŠ›å‡ºå¼‚å¸¸-raise-exception>#</a></h2><p>ä½¿ç”¨raise è¯­å¥èƒ½å¤ŸæŠ›å‡ºæŒ‡å®šç±»å‹çš„å¼‚å¸¸ï¼Œä»è€Œç»ˆæ­¢ç¨‹åºçš„è¿è¡Œï¼Œå’Œassertæ–­è¨€èµ·åˆ°ç›¸ä¼¼çš„ä½œç”¨ã€‚</p><p>**å…³é”®ç”¨æ³•ï¼š**è®¾ç½®å¼‚å¸¸æŠ›å‡ºï¼Œç„¶åç”¨try exceptæ•æ‰ï¼Œç„¶åè¿›è¡ŒæŒ‡å®šçš„åˆ†æ”¯æ“ä½œã€‚
<code>raise [Exception [, args [, traceback]]]</code></p><p><div class=post-img-view><a data-fancybox=gallery href=https://raw.githubusercontent.com/AikenH/md-image/master/img/raise.png><img alt=https://raw.githubusercontent.com/AikenH/md-image/master/img/raise.png loading=lazy src=https://raw.githubusercontent.com/AikenH/md-image/master/img/raise.png class=responsive-image src=https://raw.githubusercontent.com/AikenH/md-image/master/img/raise.png style="display:block;margin:0 auto" alt=https://raw.githubusercontent.com/AikenH/md-image/master/img/raise.png></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>raise_exception</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=mi>5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s1>&#39;x ä¸èƒ½å¤§äº5ï¼Œå½“å‰å€¼ä¸º </span><span class=si>{}</span><span class=s1> &#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=numpy-tips>Numpy Tips<a hidden class=anchor aria-hidden=true href=#numpy-tips>#</a></h1><h2 id=reshape>reshape<a hidden class=anchor aria-hidden=true href=#reshape>#</a></h2><p>å’Œnumpyæ ¼å¼çš„reshapeçš„ç›¸å…³å†…å®¹æ•´åˆ</p><ol><li>åŸºæœ¬reshapeçš„ä½¿ç”¨</li><li>reshapeä¸æ”¹å˜åŸæ•°æ®</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>bk1_a</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>bk1_b</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>],[</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>]])</span>
</span></span><span class=line><span class=cl><span class=n>bk1_c</span> <span class=o>=</span> <span class=n>bk1_a</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=n>bk1_b</span><span class=o>.</span><span class=n>shape</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;b&#39;s datashpe is </span><span class=si>{}</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>bk1_b</span><span class=o>.</span><span class=n>shape</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;reshape by bã€‚shape is â†“ </span><span class=se>\n</span><span class=s2> </span><span class=si>{}</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>bk1_c</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># æµ‹è¯•æ˜¯å¦æ”¹å˜åŸæ•°æ®</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;b&#39;s shape is </span><span class=si>{}</span><span class=s2> &#34;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>bk1_b</span><span class=o>.</span><span class=n>shape</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>assert</span> <span class=n>bk1_a</span> <span class=o>==</span>  <span class=n>bk1_c</span><span class=p>,</span> <span class=s1>&#39;do not change the origin data, a is like </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>bk1_a</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=tolist>tolist<a hidden class=anchor aria-hidden=true href=#tolist>#</a></h2><p>numpy array å’Œlistä¹‹é—´çš„äº’ç›¸è½¬æ¢ï¼Œåœ¨å¤§è§„æ¨¡ç¼–ç¨‹ä¸­æœ‰æ¯”è¾ƒå¹¿æ³›çš„åº”ç”¨åœºæ™¯ã€‚</p><ul><li>**æœ‰^æ¬¡æ–¹çš„æ„æ€</li><li>arange åŒ…å«ä¸‹é™ï¼Œä¸åŒ…å«ä¸Šçº¿</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>bk2_a</span><span class=o>=</span> <span class=p>(</span><span class=mi>2</span> <span class=o>**</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=mi>6</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># bk2_a</span>
</span></span><span class=line><span class=cl><span class=n>bk2_b</span> <span class=o>=</span> <span class=n>bk2_a</span><span class=o>.</span><span class=n>tolist</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1># bk2_b</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=ç”¨arrayç»™listä¸­çš„å…ƒç´ èµ‹å€¼>ç”¨arrayç»™listä¸­çš„å…ƒç´ èµ‹å€¼<a hidden class=anchor aria-hidden=true href=#ç”¨arrayç»™listä¸­çš„å…ƒç´ èµ‹å€¼>#</a></h2><p>ä»¥ä¸‹æ˜¯è¿™ç§æ–¹å¼å»ºç«‹ä¸€ä¸ªç±»ä¼¼one-hotçš„å‡½æ•°ä»‹ç»
å¯ä»¥å¾ˆå®¹æ˜“çš„ä»è¾“å‡ºçœ‹å‡ºè§„å¾‹ï¼Œè€Œä¸”æœ€å¤–å±‚ä»ç„¶æ˜¯åˆ—è¡¨ï¼Œä¹Ÿå°±æ˜¯å…¶ä¸­çš„å…ƒç´ æ˜¯array</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>list1</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>    <span class=n>temp</span> <span class=o>=</span> <span class=n>list1</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>list1</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>(</span><span class=mi>13</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>list1</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>temp</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>list1</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=flatten--flat-operation>flatten & flat operation<a hidden class=anchor aria-hidden=true href=#flatten--flat-operation>#</a></h2><p>flattenï¼šå°†æ•°æ®æ‘Šå¼€é™ç»´æˆä¸€ç»´çš„æ•°ç»„/çŸ©é˜µï¼Œä»¥å‰¯æœ¬å½¢å¼ç”Ÿæˆï¼Œä¸å½±å“åŸæ•°æ®
flatï¼Œç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‰è¡Œçš„å½¢å¼è¿­ä»£</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># A:flatten function B:flat function</span>
</span></span><span class=line><span class=cl><span class=n>bk3_a</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;A is just like</span><span class=se>\n</span><span class=s1> </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>bk3_a</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>bk3_a2</span> <span class=o>=</span> <span class=n>bk3_a</span><span class=o>.</span><span class=n>flatten</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;A2 is just like</span><span class=se>\n</span><span class=s1> </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>bk3_a2</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>printz</span><span class=p>(</span><span class=s1>&#39;********************clip*************************&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>bk3_b</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;B is just like </span><span class=se>\n</span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>bk3_b</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>bk3_b</span><span class=o>.</span><span class=n>flat</span><span class=p>,</span> <span class=s1>&#39;as we can see, this is a iter&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>bk3_b</span><span class=o>.</span><span class=n>flat</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=numpypad>Numpy.pad<a hidden class=anchor aria-hidden=true href=#numpypad>#</a></h2><p>padï¼Œå°±æ˜¯æ‹“å±•åŸæœ¬æ•°æ®çš„ç»´åº¦ï¼Œæ–¹ä¾¿åé¢æœºå™¨å­¦ä¹ ä¸­çš„å…¶ä»–æ­¥éª¤ï¼Œä¸»è¦ç”¨å¤„åŒ…æ‹¬ï¼š</p><ol><li>ç»´åº¦ä¿æŒ</li><li>å¢åŠ å¯¹å›¾åƒè¾¹ç•Œçš„é‡è§†</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>## numpy.pad</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>5</span><span class=p>,(</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>4</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>pad</span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>shape</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>h</span><span class=p>,</span><span class=n>w</span> <span class=o>=</span> <span class=n>x</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=n>new_h</span><span class=p>,</span><span class=n>new_w</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span><span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>top</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=n>h</span><span class=o>-</span><span class=n>new_h</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>left</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=n>w</span><span class=o>-</span><span class=n>new_w</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>x</span><span class=p>[:,</span><span class=n>top</span><span class=p>:</span> <span class=n>top</span><span class=o>+</span><span class=n>new_h</span><span class=p>,</span><span class=n>left</span><span class=p>:</span><span class=n>left</span><span class=o>+</span><span class=n>new_w</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=o>.</span><span class=n>shape</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=-numpy-ç´¢å¼•ä¸­åŒå†’å·çš„å®é™…ç”¨é€”>:: Numpy ç´¢å¼•ä¸­åŒå†’å·çš„å®é™…ç”¨é€”<a hidden class=anchor aria-hidden=true href=#-numpy-ç´¢å¼•ä¸­åŒå†’å·çš„å®é™…ç”¨é€”>#</a></h2><p>å‚ç…§è¯¥æ–‡ç« è¿›è¡Œåˆ†æï¼Œä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼šå¯¹å›¾åƒè¿›è¡Œåè½¬ç­‰æ“ä½œ
<a href=https://blog.csdn.net/GracePro/article/details/102079331 target=_blank rel=noopener>https://blog.csdn.net/GracePro/article/details/102079331</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;----------------------------&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>a</span><span class=p>[:,::</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=argpartition>Argpartition()<a hidden class=anchor aria-hidden=true href=#argpartition>#</a></h2><p>å€ŸåŠ©äº argpartition()ï¼ŒNumpy å¯ä»¥æ‰¾å‡º N ä¸ªæœ€å¤§æ•°å€¼çš„ç´¢å¼•ï¼Œä¹Ÿä¼šå°†æ‰¾åˆ°çš„è¿™äº›ç´¢å¼•è¾“å‡ºã€‚<br>ç„¶åæˆ‘ä»¬æ ¹æ®éœ€è¦å¯¹æ•°å€¼è¿›è¡Œæ’åºã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>12</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>index_val</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>argpartition</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=o>-</span><span class=mi>5</span><span class=p>)[</span><span class=o>-</span><span class=mi>5</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=n>index2</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>argmin</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>index2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>index_val</span>
</span></span></code></pre></td></tr></table></div></div><p>åŸºäºnumpyçš„sortå‡½æ•°ï¼Œè¾“å‡ºæ‰¾å‡ºçš„æœ€å¤§çš„å‡ ä¸ªæ•°ï¼Œè¦å…¨ä½“æ’åºçš„è¯ï¼Œè¿˜æ˜¯è€ƒsort</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>np</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>x</span><span class=p>[</span><span class=n>index_val</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=allclose>Allclose()<a hidden class=anchor aria-hidden=true href=#allclose>#</a></h2><p>allclose() ç”¨äºåŒ¹é…ä¸¤ä¸ªæ•°ç»„ï¼Œå¹¶å¾—åˆ°å¸ƒå°”å€¼è¡¨ç¤ºçš„è¾“å‡ºã€‚å¦‚æœåœ¨ä¸€ä¸ªå…¬å·®èŒƒå›´å†…ï¼ˆwithin a toleranceï¼‰ä¸¤ä¸ªæ•°ç»„ä¸ç­‰åŒï¼Œ<br>åˆ™ allclose() è¿”å› Falseã€‚è¯¥å‡½æ•°å¯¹äºæ£€æŸ¥ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ä¼¼éå¸¸æœ‰ç”¨ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>array1</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>0.12</span><span class=p>,</span><span class=mf>0.17</span><span class=p>,</span><span class=mf>0.24</span><span class=p>,</span><span class=mf>0.29</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>array2</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>0.13</span><span class=p>,</span><span class=mf>0.19</span><span class=p>,</span><span class=mf>0.26</span><span class=p>,</span><span class=mf>0.31</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=c1># with a tolerance of 0.1, it should return False:</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>allclose</span><span class=p>(</span><span class=n>array1</span><span class=p>,</span><span class=n>array2</span><span class=p>,</span><span class=mf>0.1</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># with a tolerance of 0.2, it should return True:</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>allclose</span><span class=p>(</span><span class=n>array1</span><span class=p>,</span><span class=n>array2</span><span class=p>,</span><span class=mf>0.2</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=clip>Clip()<a hidden class=anchor aria-hidden=true href=#clip>#</a></h2><p>ä½¿å¾—ä¸€ä¸ªæ•°ç»„ä¸­çš„æ•°å€¼ä¿æŒåœ¨ä¸€ä¸ªåŒºé—´å†…ã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯æ•°å€¼åœ¨ä¸Šä¸‹é™èŒƒå›´å†…ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© Numpy çš„ clip()<br>å‡½æ•°å®ç°è¯¥ç›®çš„ã€‚ç»™å®šä¸€ä¸ªåŒºé—´ï¼Œåˆ™åŒºé—´å¤–çš„æ•°å€¼è¢«å‰ªåˆ‡è‡³åŒºé—´ä¸Šä¸‹é™ï¼ˆinterval edgeï¼‰ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span> <span class=mi>17</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mi>23</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>np</span><span class=o>.</span><span class=n>clip</span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>5</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=extract>extract()<a hidden class=anchor aria-hidden=true href=#extract>#</a></h2><p>é¡¾åæ€ä¹‰ï¼Œextract() æ˜¯åœ¨ç‰¹å®šæ¡ä»¶ä¸‹ä»ä¸€ä¸ªæ•°ç»„ä¸­æå–ç‰¹å®šå…ƒç´ ã€‚
å€ŸåŠ©äº extract()ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ and å’Œ or ç­‰æ¡ä»¶ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>array</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=mi>12</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;basic array is </span><span class=si>{}</span><span class=s1> &#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>array</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1>#  Divide by 2 and check if remainder is 1</span>
</span></span><span class=line><span class=cl><span class=n>cond</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>mod</span><span class=p>(</span><span class=n>array</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>==</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;æ˜¯å¦ç¬¦åˆæ¡ä»¶çš„listï¼Œæ¡ä»¶list</span><span class=se>\n</span><span class=s1>  </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>cond</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># Use extract to get the values</span>
</span></span><span class=line><span class=cl><span class=c1># æå–å‡ºè¡¨ç°ä¸ºTrueçš„å“ªäº›å…ƒç´ </span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;æŒ‰ç…§æ¡ä»¶æå–å‡ºå…ƒç´ :</span><span class=se>\n</span><span class=s1> </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>extract</span><span class=p>(</span><span class=n>cond</span><span class=p>,</span> <span class=n>array</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Apply condition on extract directly</span>
</span></span><span class=line><span class=cl><span class=c1># æ›´ç›´æ¥çš„æŒ‡å®šæ¡ä»¶</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;å¤æ‚æ¡ä»¶ä¸‹çš„è¡¨ç°æƒ…å†µ&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>extract</span><span class=p>(((</span><span class=n>array</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>)</span> <span class=o>|</span> <span class=p>(</span><span class=n>array</span> <span class=o>&gt;</span> <span class=mi>15</span><span class=p>)),</span> <span class=n>array</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=where>where()<a hidden class=anchor aria-hidden=true href=#where>#</a></h2><p>Where() ç”¨äºä»ä¸€ä¸ªæ•°ç»„ä¸­è¿”å›æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ ã€‚æ¯”å¦‚ï¼Œå®ƒä¼šè¿”å›æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æ•°å€¼çš„ç´¢å¼•ä½
Where() ä¸ SQL ä¸­ä½¿ç”¨çš„ where condition ç±»ä¼¼ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>9</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=c1># Where y is greater than 5, returns index position</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span><span class=n>y</span><span class=o>&gt;</span><span class=mi>5</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># First will replace the values that match the condition,</span>
</span></span><span class=line><span class=cl><span class=c1># second will replace the values that does not</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span><span class=n>y</span><span class=o>&gt;</span><span class=mi>5</span><span class=p>,</span> <span class=s2>&#34;Hit&#34;</span><span class=p>,</span> <span class=s2>&#34;Miss&#34;</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=debug>DEBUG<a hidden class=anchor aria-hidden=true href=#debug>#</a></h1><p>è®°å½•ä¸€äº›å…¸å‹é”™è¯¯ï¼Œä¾¿äºåç»­Debugçš„æ—¶å€™æŸ¥æ‰¾åŸå› </p><h2 id=é¿å…é‡å¤å†²çªçš„import>é¿å…é‡å¤/å†²çªçš„import<a hidden class=anchor aria-hidden=true href=#é¿å…é‡å¤å†²çªçš„import>#</a></h2><p>åœ¨å·¥ç¨‹å®ç°ä¸­ï¼Œå¯¹äºåŒä¸€ä¸ªmoduleã€‚æœ€å¥½èƒ½åšåˆ°<strong>ä¸éœ€è¦é‡å¤çš„import</strong>ï¼Œä½†æ˜¯åœ¨è·¨æ–‡ä»¶çš„å·¥ç¨‹é¡¹ç›®ä¸­ï¼Œæˆ–è€…è¯´æ˜¯ä¸€äº›è·¨æ–‡ä»¶è°ƒç”¨çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½æœ‰ä¸€äº›åŸºæœ¬çš„moduleä¼šéœ€è¦è¿™æ ·çš„æ—¶å€™ï¼Œé‚£æˆ‘ä»¬æœ€å¥½åšåˆ°<strong>ä¸å†²çª</strong>ï¼Œä»¥åŒæ ·çš„å½¢å¼æ¥è¿›è¡Œimportï¼Œä¸ç„¶æœ‰æ—¶å€™è¿™æ ·çš„é‡å®šä¹‰æ–¹å¼ä¼šå‡ºç°ä¸€å®šçš„é—®é¢˜æˆ–è€…bugã€‚
for example <code>from time import time</code> å’Œ <code>import time</code>åŒæ—¶å‡ºç°çš„æƒ…å†µã€‚</p><h2 id=å†…å­˜è°ƒç”¨ä¸methodçš„å®šä¹‰>å†…å­˜è°ƒç”¨ä¸Methodçš„å®šä¹‰<a hidden class=anchor aria-hidden=true href=#å†…å­˜è°ƒç”¨ä¸methodçš„å®šä¹‰>#</a></h2><p>åœ¨è¾ƒä¸ºå¤æ‚çš„å·¥ç¨‹é¡¹ç›®ä¸­ï¼Œåº”è¯¥ä½¿ç”¨Methodï¼ˆFunctionï¼‰æ¨¡å—åŒ–çš„è§£å†³é—®é¢˜ï¼›è¿™æ ·åšçš„ä¼˜åŠ¿å¯ä»¥ä»ä¸€ä¸‹å‡ ç‚¹æ¥çœ‹ï¼š</p><ol><li>æ˜“äºé˜…è¯»åˆ†æï¼Œå†™å¥½ç›¸å…³methodçš„Docï¼Œç„¶ååšå¥½æ³¨é‡Šï¼Œæ–¹ä¾¿é˜…è¯»å’Œåç»­ä¿®æ”¹</li><li>èƒ½å¤Ÿåœ¨è¿­ä»£è¿‡ç¨‹ä¸­æœ‰æ•ˆçš„é‡Šæ”¾æš‚æ€çš„å˜é‡ï¼ŒèŠ‚çº¦åœ¨ä¸»è¿›ç¨‹ä¸­æ— æ•ˆçš„å‚æ•°å­˜å‚¨ç©ºé—´ï¼ŒèŠ‚çœå†…å­˜æˆ–è€…æ˜¾å­˜ã€‚</li></ol><h2 id=typeerror>TypeErrorï¼š<a hidden class=anchor aria-hidden=true href=#typeerror>#</a></h2><p>ä¸€ï¼š<strong>cannnot unpack not-iterable NoneType object</strong>ï¼ˆæ— æ³•è§£åŒ…éè¿­ä»£ç±»å‹çš„NoneTypeå¯¹è±¡ï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>test</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>a</span><span class=o>=</span><span class=n>b</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>,</span><span class=n>b</span> <span class=o>=</span> <span class=n>test</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>åŸå› åˆ†æ</strong>ï¼Œå½“pythonå‡½æ•°æ²¡æœ‰ç¡®å®šçš„returnçš„æ—¶å€™é»˜è®¤çš„è¿”å›å€¼æ˜¯Noneï¼Œè¿™æ ·åœ¨è¿›è¡Œæ£€æŸ¥çš„æ—¶å€™ï¼Œå°±ä¼šåˆ°å¯¼è‡´ç¼–è¯‘çš„é”™è¯¯</p><p><strong>è§£å†³</strong>ï¼šæŒ‡å®šé»˜è®¤çš„returnï¼Œæˆ–è€…ä½¿ç”¨elseæ–¹æ³•å®Œå–„æ‰€æœ‰æƒ…å†µä¸‹çš„returnå€¼çš„ä¸ªæ•°æ˜¯ä¸€è‡´çš„</p><p>äºŒï¼š<strong>missing 1 required positional argumentï¼š â€œselfâ€</strong></p><p>å¯¹è±¡çš„å£°æ˜éœ€è¦æ‹¬å·ï¼Œæˆ‘ä»¬å¯èƒ½åœ¨è°ƒç”¨ç±»å†…å‡½æ•°çš„æ—¶å€™ï¼Œç”¨é”™äº†å˜é‡ï¼Œç”¨äº†<strong>ç±»è€Œä¸æ˜¯ç±»çš„å®ä¾‹</strong>å»è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¯¼è‡´æ‰§è¡Œå‡ºç°äº†é”™è¯¯ã€‚</p><p>ä¸‰ï¼š<strong>builtin_function_or_method error</strong></p><p>å¾ˆå¤šæ—¶å€™éƒ½æ˜¯ç”±äºå‰é¢çš„æ•°æ®æ“ä½œå°‘åŠ äº†<code>()</code>å¯¼è‡´çš„é—®é¢˜</p><p>å››ï¼š<strong>bad operand type for unary -: â€˜NoneTypeâ€™</strong></p><p>è¾“å…¥çš„æ•°æ®å­˜åœ¨ç€å€¼ä¸ºç©ºçš„æƒ…å†µï¼Œå¯èƒ½æ²¡å®šä¹‰ä¹‹ç±»çš„ï¼Œé—®é¢˜è¦æ ¹æ®åé¢çš„å…·ä½“æŠ¥é”™æ¥è¿›è¡Œåˆ†æã€‚</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://hugotest-phi.vercel.app/tags/python/>Python</a></li><li><a href=https://hugotest-phi.vercel.app/tags/langs/>Langs</a></li></ul><nav class=paginav><a class=prev href=https://hugotest-phi.vercel.app/posts/fluent_python/><span class=title>Â« Prev</span><br><span>Fluent Python 01 æ•°æ®æ¨¡å‹ä¸ç»“æ„</span>
</a><a class=next href=https://hugotest-phi.vercel.app/posts/vscode/><span class=title>Next Â»</span><br><span>VsCode's Configuration</span></a></nav></footer><div id=disqus_thread></div><script>function loadDisqus(){var e=document,t=e.createElement("script");t.src="https://aiken-hugo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t),window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href.substring(18)}}var runningOnBrowser=typeof window!="undefined",isBot=runningOnBrowser&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver(function(t){t[0].isIntersecting&&(loadDisqus(),e.disconnect())},{threshold:[0]});e.observe(document.getElementById("disqus_thread"))}else loadDisqus()},1)</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2024 <a href=https://hugotest-phi.vercel.app/>aiken's blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container>Visitors: <span id=busuanzi_value_site_uv></span>
Views: <span id=busuanzi_value_site_pv></span></span></footer><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),o=13863,i=16993;if(!e||!t){console.error("Busuanzi elements not found.");return}const n=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+o;break}}),s=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){s.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+i;break}});n.observe(e,{childList:!0}),s.observe(t,{childList:!0})})</script><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))}),document.getElementById("theme-toggle-nav").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("/js/pangu.js",function(){pangu.spacingPage()})</script></body></html>