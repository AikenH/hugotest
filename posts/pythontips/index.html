<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ï¼ˆè½¬ï¼‰What the Fuck Pythonï¼ ä¸€äº›pythonç‰¹æ€§ | aiken's blog</title>
<meta name=keywords content="Langs,Python"><meta name=description content="
What the f*ck Python! ğŸ
ä¸€äº›æœ‰è¶£ä¸”é²œä¸ºäººçŸ¥çš„ Python ç‰¹æ€§.

English
| ä¸­æ–‡

[![WTFPL 2.0][license-image]][license-url] [![Commit id][commit-image]][commit-url] [![996.icu][996.icu-image]][996.icu-url]
Python, æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜ç¾çš„è§£é‡Šå‹é«˜çº§è¯­è¨€, å®ƒæä¾›äº†å¾ˆå¤šèƒ½è®©ç¨‹åºå‘˜æ„Ÿåˆ°èˆ’é€‚çš„åŠŸèƒ½ç‰¹æ€§. ä½†æœ‰çš„æ—¶å€™, Python çš„ä¸€äº›è¾“å‡ºç»“æœå¯¹äºåˆå­¦è€…æ¥è¯´ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆä¸€ç›®äº†ç„¶.
è¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®æ„åœ¨æ”¶é›† Python ä¸­é‚£äº›éš¾ä»¥ç†è§£å’Œåäººç±»ç›´è§‰çš„ä¾‹å­ä»¥åŠé²œä¸ºäººçŸ¥çš„åŠŸèƒ½ç‰¹æ€§, å¹¶å°è¯•è®¨è®ºè¿™äº›ç°è±¡èƒŒåçœŸæ­£çš„åŸç†!
è™½ç„¶ä¸‹é¢çš„æœ‰äº›ä¾‹å­å¹¶ä¸ä¸€å®šä¼šè®©ä½ è§‰å¾— WTFs, ä½†å®ƒä»¬ä¾ç„¶æœ‰å¯èƒ½ä¼šå‘Šè¯‰ä½ ä¸€äº›ä½ æ‰€ä¸çŸ¥é“çš„ Python æœ‰è¶£ç‰¹æ€§.  æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å­¦ä¹ ç¼–ç¨‹è¯­è¨€å†…éƒ¨åŸç†çš„å¥½åŠæ³•, è€Œä¸”æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šä»ä¸­è·å¾—ä¹è¶£!
å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒæ¯”è¾ƒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, ä½ å¯ä»¥å°è¯•æŒ‘æˆ˜çœ‹æ˜¯å¦èƒ½ä¸€æ¬¡å°±æ‰¾åˆ°ä¾‹å­çš„æ­£ç¡®ç­”æ¡ˆ. ä½ å¯èƒ½å¯¹å…¶ä¸­çš„ä¸€äº›ä¾‹å­å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†, é‚£è¿™ä¹Ÿè®¸èƒ½å”¤èµ·ä½ å½“å¹´è¸©è¿™äº›å‘æ—¶çš„ç”œèœœå›å¿† :sweat_smile:
PS: å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯»äº†, ä½ å¯ä»¥åœ¨è¿™é‡Œ
è·å–å˜åŠ¨å†…å®¹.
é‚£ä¹ˆ, è®©æˆ‘ä»¬å¼€å§‹å§&mldr;

Table of Contents/ç›®å½•


Table of Contents/ç›®å½•

Structure of the Examples/ç¤ºä¾‹ç»“æ„

Usage/ç”¨æ³•

ğŸ‘€ Examples/ç¤ºä¾‹


Section: Strain your brain!/å¤§è„‘è¿åŠ¨!


> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *

> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!

> Return return everywhere!/åˆ°å¤„è¿”å›ï¼

> Deep down, we&rsquo;re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *

> For what?/ä¸ºä»€ä¹ˆ?

> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚

> is is not what it is!/å‡ºäººæ„æ–™çš„is!

> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!

> The sticky output function/éº»çƒ¦çš„è¾“å‡º

> is not ... is not is (not ...)/is not ... ä¸æ˜¯ is (not ...)

> The surprising comma/æ„å¤–çš„é€—å·

> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ 

> not knot!/åˆ«çº ç»“!

> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·

> Midnight time doesn&rsquo;t exist?/ä¸å­˜åœ¨çš„åˆå¤œ?

> What&rsquo;s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?

> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§

> yielding None/ç”Ÿæˆ None

> Mutating the immutable!/å¼ºäººæ‰€éš¾

> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡

> When True is actually False/çœŸäº¦å‡

> From filled to None in one instruction&mldr;/ä»æœ‰åˆ°æ— &mldr;

> Subclass relationships/å­ç±»å…³ç³» *

> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *

> Let&rsquo;s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?



Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!


> Skipping lines?/è·³è¿‡ä¸€è¡Œ?

> Teleportation/ç©ºé—´ç§»åŠ¨ *

> Well, something is fishy&mldr;/å—¯, æœ‰äº›å¯ç–‘&mldr;



Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!


> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹

> Stubborn del operator/åšå¼ºçš„ del *

> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ 

> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!

> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!

> Catching the Exceptions/æ•è·å¼‚å¸¸

> Same operands, different story!/åŒäººä¸åŒå‘½!

> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡

> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ

> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ

> Needle in a Haystack/å¤§æµ·æé’ˆ



Section: The Hidden treasures!/éšè—çš„å®è—!


> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *

> goto, but why?/goto, ä½†ä¸ºä»€ä¹ˆ? *

> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *

> Let&rsquo;s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *

> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *

> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!

> Inpinity/æ— é™ *

> Mangling time!ä¿®é¥°æ—¶é—´! *



Section: Miscellaneous/æ‚é¡¹


> += is faster/æ›´å¿«çš„ += 

> Let&rsquo;s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§!

> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢

> Minor Ones/å°çŸ¥è¯†ç‚¹





Contributing/è´¡çŒ®

Acknowledgements/è‡´è°¢

ğŸ“ License/è®¸å¯


Help/å¸®åŠ©

Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?

Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?

Follow Commit/è¿½è¸ªCommit

996.icu





Structure of the Examples/ç¤ºä¾‹ç»“æ„
æ‰€æœ‰ç¤ºä¾‹çš„ç»“æ„éƒ½å¦‚ä¸‹æ‰€ç¤º:"><meta name=author content="aikenhong"><link rel=canonical href=https://aikenh.cn/hugotest/posts/pythontips/><link crossorigin=anonymous href=/hugotest/assets/css/stylesheet.2f85ca17c12c62fa86b1e474b8a51aca4856f0d645debfe4922a4d5ddc6aa978.css integrity="sha256-L4XKF8EsYvqGseR0uKUaykhW8NZF3r/kkipNXdxqqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://aikenh.cn/favicon/ghost.ico><link rel=icon type=image/png sizes=16x16 href=https://aikenh.cn/favicon/ghost-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aikenh.cn/favicon/ghost-32x32.png><link rel=apple-touch-icon href=https://aikenh.cn/favicon/ghost-apple-touch-icon.png><link rel=mask-icon href=https://aikenh.cn/favicon/ghost-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://aikenh.cn/hugotest/posts/pythontips/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://cdn.jsdmirror.com/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.css><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.js></script><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel=stylesheet><meta property="og:url" content="https://aikenh.cn/hugotest/posts/pythontips/"><meta property="og:site_name" content="aiken's blog"><meta property="og:title" content="ï¼ˆè½¬ï¼‰What the Fuck Pythonï¼ ä¸€äº›pythonç‰¹æ€§"><meta property="og:description" content="
What the f*ck Python! ğŸä¸€äº›æœ‰è¶£ä¸”é²œä¸ºäººçŸ¥çš„ Python ç‰¹æ€§.
English| ä¸­æ–‡[![WTFPL 2.0][license-image]][license-url] [![Commit id][commit-image]][commit-url] [![996.icu][996.icu-image]][996.icu-url]Python, æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜ç¾çš„è§£é‡Šå‹é«˜çº§è¯­è¨€, å®ƒæä¾›äº†å¾ˆå¤šèƒ½è®©ç¨‹åºå‘˜æ„Ÿåˆ°èˆ’é€‚çš„åŠŸèƒ½ç‰¹æ€§. ä½†æœ‰çš„æ—¶å€™, Python çš„ä¸€äº›è¾“å‡ºç»“æœå¯¹äºåˆå­¦è€…æ¥è¯´ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆä¸€ç›®äº†ç„¶.
è¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®æ„åœ¨æ”¶é›† Python ä¸­é‚£äº›éš¾ä»¥ç†è§£å’Œåäººç±»ç›´è§‰çš„ä¾‹å­ä»¥åŠé²œä¸ºäººçŸ¥çš„åŠŸèƒ½ç‰¹æ€§, å¹¶å°è¯•è®¨è®ºè¿™äº›ç°è±¡èƒŒåçœŸæ­£çš„åŸç†!
è™½ç„¶ä¸‹é¢çš„æœ‰äº›ä¾‹å­å¹¶ä¸ä¸€å®šä¼šè®©ä½ è§‰å¾— WTFs, ä½†å®ƒä»¬ä¾ç„¶æœ‰å¯èƒ½ä¼šå‘Šè¯‰ä½ ä¸€äº›ä½ æ‰€ä¸çŸ¥é“çš„ Python æœ‰è¶£ç‰¹æ€§. æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å­¦ä¹ ç¼–ç¨‹è¯­è¨€å†…éƒ¨åŸç†çš„å¥½åŠæ³•, è€Œä¸”æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šä»ä¸­è·å¾—ä¹è¶£!
å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒæ¯”è¾ƒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, ä½ å¯ä»¥å°è¯•æŒ‘æˆ˜çœ‹æ˜¯å¦èƒ½ä¸€æ¬¡å°±æ‰¾åˆ°ä¾‹å­çš„æ­£ç¡®ç­”æ¡ˆ. ä½ å¯èƒ½å¯¹å…¶ä¸­çš„ä¸€äº›ä¾‹å­å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†, é‚£è¿™ä¹Ÿè®¸èƒ½å”¤èµ·ä½ å½“å¹´è¸©è¿™äº›å‘æ—¶çš„ç”œèœœå›å¿† :sweat_smile:
PS: å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯»äº†, ä½ å¯ä»¥åœ¨è¿™é‡Œ è·å–å˜åŠ¨å†…å®¹.
é‚£ä¹ˆ, è®©æˆ‘ä»¬å¼€å§‹å§â€¦
Table of Contents/ç›®å½• Table of Contents/ç›®å½• Structure of the Examples/ç¤ºä¾‹ç»“æ„ Usage/ç”¨æ³• ğŸ‘€ Examples/ç¤ºä¾‹ Section: Strain your brain!/å¤§è„‘è¿åŠ¨! > Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² * > Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†! > Return return everywhere!/åˆ°å¤„è¿”å›ï¼ > Deep down, weâ€™re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. * > For what?/ä¸ºä»€ä¹ˆ? > Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚ > is is not what it is!/å‡ºäººæ„æ–™çš„is! > A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³! > The sticky output function/éº»çƒ¦çš„è¾“å‡º > is not ... is not is (not ...)/is not ... ä¸æ˜¯ is (not ...) > The surprising comma/æ„å¤–çš„é€—å· > Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ  > not knot!/åˆ«çº ç»“! > Half triple-quoted strings/ä¸‰ä¸ªå¼•å· > Midnight time doesnâ€™t exist?/ä¸å­˜åœ¨çš„åˆå¤œ? > Whatâ€™s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†? > Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§ > yielding None/ç”Ÿæˆ None > Mutating the immutable!/å¼ºäººæ‰€éš¾ > The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡ > When True is actually False/çœŸäº¦å‡ > From filled to None in one instructionâ€¦/ä»æœ‰åˆ°æ— â€¦ > Subclass relationships/å­ç±»å…³ç³» * > The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ * > Letâ€™s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹? Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„! > Skipping lines?/è·³è¿‡ä¸€è¡Œ? > Teleportation/ç©ºé—´ç§»åŠ¨ * > Well, something is fishyâ€¦/å—¯, æœ‰äº›å¯ç–‘â€¦ Section: Watch out for the landmines!/å°å¿ƒåœ°é›·! > Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹ > Stubborn del operator/åšå¼ºçš„ del * > Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´  > Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼! > Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°! > Catching the Exceptions/æ•è·å¼‚å¸¸ > Same operands, different story!/åŒäººä¸åŒå‘½! > The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ > Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ > Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ > Needle in a Haystack/å¤§æµ·æé’ˆ Section: The Hidden treasures!/éšè—çš„å®è—! > Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? * > goto, but why?/goto, ä½†ä¸ºä»€ä¹ˆ? * > Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ * > Letâ€™s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ * > Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ * > Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨! > Inpinity/æ— é™ * > Mangling time!ä¿®é¥°æ—¶é—´! * Section: Miscellaneous/æ‚é¡¹ > += is faster/æ›´å¿«çš„ += > Letâ€™s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§! > Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢ > Minor Ones/å°çŸ¥è¯†ç‚¹ Contributing/è´¡çŒ® Acknowledgements/è‡´è°¢ ğŸ“ License/è®¸å¯ Help/å¸®åŠ© Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ? Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„? Follow Commit/è¿½è¸ªCommit 996.icu Structure of the Examples/ç¤ºä¾‹ç»“æ„ æ‰€æœ‰ç¤ºä¾‹çš„ç»“æ„éƒ½å¦‚ä¸‹æ‰€ç¤º:"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-28T06:24:23+00:00"><meta property="article:modified_time" content="2021-11-28T06:24:23+00:00"><meta property="article:tag" content="Langs"><meta property="article:tag" content="Python"><meta property="og:image" content="https://aikenh.cn/cover/cover5.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aikenh.cn/cover/cover5.jpeg"><meta name=twitter:title content="ï¼ˆè½¬ï¼‰What the Fuck Pythonï¼ ä¸€äº›pythonç‰¹æ€§"><meta name=twitter:description content="
What the f*ck Python! ğŸ
ä¸€äº›æœ‰è¶£ä¸”é²œä¸ºäººçŸ¥çš„ Python ç‰¹æ€§.

English
| ä¸­æ–‡

[![WTFPL 2.0][license-image]][license-url] [![Commit id][commit-image]][commit-url] [![996.icu][996.icu-image]][996.icu-url]
Python, æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜ç¾çš„è§£é‡Šå‹é«˜çº§è¯­è¨€, å®ƒæä¾›äº†å¾ˆå¤šèƒ½è®©ç¨‹åºå‘˜æ„Ÿåˆ°èˆ’é€‚çš„åŠŸèƒ½ç‰¹æ€§. ä½†æœ‰çš„æ—¶å€™, Python çš„ä¸€äº›è¾“å‡ºç»“æœå¯¹äºåˆå­¦è€…æ¥è¯´ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆä¸€ç›®äº†ç„¶.
è¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®æ„åœ¨æ”¶é›† Python ä¸­é‚£äº›éš¾ä»¥ç†è§£å’Œåäººç±»ç›´è§‰çš„ä¾‹å­ä»¥åŠé²œä¸ºäººçŸ¥çš„åŠŸèƒ½ç‰¹æ€§, å¹¶å°è¯•è®¨è®ºè¿™äº›ç°è±¡èƒŒåçœŸæ­£çš„åŸç†!
è™½ç„¶ä¸‹é¢çš„æœ‰äº›ä¾‹å­å¹¶ä¸ä¸€å®šä¼šè®©ä½ è§‰å¾— WTFs, ä½†å®ƒä»¬ä¾ç„¶æœ‰å¯èƒ½ä¼šå‘Šè¯‰ä½ ä¸€äº›ä½ æ‰€ä¸çŸ¥é“çš„ Python æœ‰è¶£ç‰¹æ€§.  æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å­¦ä¹ ç¼–ç¨‹è¯­è¨€å†…éƒ¨åŸç†çš„å¥½åŠæ³•, è€Œä¸”æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šä»ä¸­è·å¾—ä¹è¶£!
å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒæ¯”è¾ƒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, ä½ å¯ä»¥å°è¯•æŒ‘æˆ˜çœ‹æ˜¯å¦èƒ½ä¸€æ¬¡å°±æ‰¾åˆ°ä¾‹å­çš„æ­£ç¡®ç­”æ¡ˆ. ä½ å¯èƒ½å¯¹å…¶ä¸­çš„ä¸€äº›ä¾‹å­å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†, é‚£è¿™ä¹Ÿè®¸èƒ½å”¤èµ·ä½ å½“å¹´è¸©è¿™äº›å‘æ—¶çš„ç”œèœœå›å¿† :sweat_smile:
PS: å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯»äº†, ä½ å¯ä»¥åœ¨è¿™é‡Œ
è·å–å˜åŠ¨å†…å®¹.
é‚£ä¹ˆ, è®©æˆ‘ä»¬å¼€å§‹å§&mldr;

Table of Contents/ç›®å½•


Table of Contents/ç›®å½•

Structure of the Examples/ç¤ºä¾‹ç»“æ„

Usage/ç”¨æ³•

ğŸ‘€ Examples/ç¤ºä¾‹


Section: Strain your brain!/å¤§è„‘è¿åŠ¨!


> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *

> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!

> Return return everywhere!/åˆ°å¤„è¿”å›ï¼

> Deep down, we&rsquo;re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *

> For what?/ä¸ºä»€ä¹ˆ?

> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚

> is is not what it is!/å‡ºäººæ„æ–™çš„is!

> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!

> The sticky output function/éº»çƒ¦çš„è¾“å‡º

> is not ... is not is (not ...)/is not ... ä¸æ˜¯ is (not ...)

> The surprising comma/æ„å¤–çš„é€—å·

> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ 

> not knot!/åˆ«çº ç»“!

> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·

> Midnight time doesn&rsquo;t exist?/ä¸å­˜åœ¨çš„åˆå¤œ?

> What&rsquo;s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?

> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§

> yielding None/ç”Ÿæˆ None

> Mutating the immutable!/å¼ºäººæ‰€éš¾

> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡

> When True is actually False/çœŸäº¦å‡

> From filled to None in one instruction&mldr;/ä»æœ‰åˆ°æ— &mldr;

> Subclass relationships/å­ç±»å…³ç³» *

> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *

> Let&rsquo;s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?



Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!


> Skipping lines?/è·³è¿‡ä¸€è¡Œ?

> Teleportation/ç©ºé—´ç§»åŠ¨ *

> Well, something is fishy&mldr;/å—¯, æœ‰äº›å¯ç–‘&mldr;



Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!


> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹

> Stubborn del operator/åšå¼ºçš„ del *

> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ 

> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!

> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!

> Catching the Exceptions/æ•è·å¼‚å¸¸

> Same operands, different story!/åŒäººä¸åŒå‘½!

> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡

> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ

> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ

> Needle in a Haystack/å¤§æµ·æé’ˆ



Section: The Hidden treasures!/éšè—çš„å®è—!


> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *

> goto, but why?/goto, ä½†ä¸ºä»€ä¹ˆ? *

> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *

> Let&rsquo;s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *

> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *

> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!

> Inpinity/æ— é™ *

> Mangling time!ä¿®é¥°æ—¶é—´! *



Section: Miscellaneous/æ‚é¡¹


> += is faster/æ›´å¿«çš„ += 

> Let&rsquo;s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§!

> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢

> Minor Ones/å°çŸ¥è¯†ç‚¹





Contributing/è´¡çŒ®

Acknowledgements/è‡´è°¢

ğŸ“ License/è®¸å¯


Help/å¸®åŠ©

Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?

Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?

Follow Commit/è¿½è¸ªCommit

996.icu





Structure of the Examples/ç¤ºä¾‹ç»“æ„
æ‰€æœ‰ç¤ºä¾‹çš„ç»“æ„éƒ½å¦‚ä¸‹æ‰€ç¤º:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aikenh.cn/hugotest/posts/"},{"@type":"ListItem","position":2,"name":"ï¼ˆè½¬ï¼‰What the Fuck Pythonï¼ ä¸€äº›pythonç‰¹æ€§","item":"https://aikenh.cn/hugotest/posts/pythontips/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ï¼ˆè½¬ï¼‰What the Fuck Pythonï¼ ä¸€äº›pythonç‰¹æ€§","name":"ï¼ˆè½¬ï¼‰What the Fuck Pythonï¼ ä¸€äº›pythonç‰¹æ€§","description":"\nWhat the f*ck Python! ğŸ\rä¸€äº›æœ‰è¶£ä¸”é²œä¸ºäººçŸ¥çš„ Python ç‰¹æ€§.\nEnglish\r| ä¸­æ–‡\r[![WTFPL 2.0][license-image]][license-url] [![Commit id][commit-image]][commit-url] [![996.icu][996.icu-image]][996.icu-url]\rPython, æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜ç¾çš„è§£é‡Šå‹é«˜çº§è¯­è¨€, å®ƒæä¾›äº†å¾ˆå¤šèƒ½è®©ç¨‹åºå‘˜æ„Ÿåˆ°èˆ’é€‚çš„åŠŸèƒ½ç‰¹æ€§. ä½†æœ‰çš„æ—¶å€™, Python çš„ä¸€äº›è¾“å‡ºç»“æœå¯¹äºåˆå­¦è€…æ¥è¯´ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆä¸€ç›®äº†ç„¶.\nè¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®æ„åœ¨æ”¶é›† Python ä¸­é‚£äº›éš¾ä»¥ç†è§£å’Œåäººç±»ç›´è§‰çš„ä¾‹å­ä»¥åŠé²œä¸ºäººçŸ¥çš„åŠŸèƒ½ç‰¹æ€§, å¹¶å°è¯•è®¨è®ºè¿™äº›ç°è±¡èƒŒåçœŸæ­£çš„åŸç†!\nè™½ç„¶ä¸‹é¢çš„æœ‰äº›ä¾‹å­å¹¶ä¸ä¸€å®šä¼šè®©ä½ è§‰å¾— WTFs, ä½†å®ƒä»¬ä¾ç„¶æœ‰å¯èƒ½ä¼šå‘Šè¯‰ä½ ä¸€äº›ä½ æ‰€ä¸çŸ¥é“çš„ Python æœ‰è¶£ç‰¹æ€§. æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å­¦ä¹ ç¼–ç¨‹è¯­è¨€å†…éƒ¨åŸç†çš„å¥½åŠæ³•, è€Œä¸”æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šä»ä¸­è·å¾—ä¹è¶£!\nå¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒæ¯”è¾ƒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, ä½ å¯ä»¥å°è¯•æŒ‘æˆ˜çœ‹æ˜¯å¦èƒ½ä¸€æ¬¡å°±æ‰¾åˆ°ä¾‹å­çš„æ­£ç¡®ç­”æ¡ˆ. ä½ å¯èƒ½å¯¹å…¶ä¸­çš„ä¸€äº›ä¾‹å­å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†, é‚£è¿™ä¹Ÿè®¸èƒ½å”¤èµ·ä½ å½“å¹´è¸©è¿™äº›å‘æ—¶çš„ç”œèœœå›å¿† :sweat_smile:\nPS: å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯»äº†, ä½ å¯ä»¥åœ¨è¿™é‡Œ è·å–å˜åŠ¨å†…å®¹.\né‚£ä¹ˆ, è®©æˆ‘ä»¬å¼€å§‹å§\u0026hellip;\nTable of Contents/ç›®å½• Table of Contents/ç›®å½• Structure of the Examples/ç¤ºä¾‹ç»“æ„ Usage/ç”¨æ³• ğŸ‘€ Examples/ç¤ºä¾‹ Section: Strain your brain!/å¤§è„‘è¿åŠ¨! \u0026gt; Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² * \u0026gt; Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†! \u0026gt; Return return everywhere!/åˆ°å¤„è¿”å›ï¼ \u0026gt; Deep down, we\u0026rsquo;re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. * \u0026gt; For what?/ä¸ºä»€ä¹ˆ? \u0026gt; Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚ \u0026gt; is is not what it is!/å‡ºäººæ„æ–™çš„is! \u0026gt; A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³! \u0026gt; The sticky output function/éº»çƒ¦çš„è¾“å‡º \u0026gt; is not ... is not is (not ...)/is not ... ä¸æ˜¯ is (not ...) \u0026gt; The surprising comma/æ„å¤–çš„é€—å· \u0026gt; Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ  \u0026gt; not knot!/åˆ«çº ç»“! \u0026gt; Half triple-quoted strings/ä¸‰ä¸ªå¼•å· \u0026gt; Midnight time doesn\u0026rsquo;t exist?/ä¸å­˜åœ¨çš„åˆå¤œ? \u0026gt; What\u0026rsquo;s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†? \u0026gt; Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§ \u0026gt; yielding None/ç”Ÿæˆ None \u0026gt; Mutating the immutable!/å¼ºäººæ‰€éš¾ \u0026gt; The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡ \u0026gt; When True is actually False/çœŸäº¦å‡ \u0026gt; From filled to None in one instruction\u0026hellip;/ä»æœ‰åˆ°æ— \u0026hellip; \u0026gt; Subclass relationships/å­ç±»å…³ç³» * \u0026gt; The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ * \u0026gt; Let\u0026rsquo;s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹? Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„! \u0026gt; Skipping lines?/è·³è¿‡ä¸€è¡Œ? \u0026gt; Teleportation/ç©ºé—´ç§»åŠ¨ * \u0026gt; Well, something is fishy\u0026hellip;/å—¯, æœ‰äº›å¯ç–‘\u0026hellip; Section: Watch out for the landmines!/å°å¿ƒåœ°é›·! \u0026gt; Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹ \u0026gt; Stubborn del operator/åšå¼ºçš„ del * \u0026gt; Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´  \u0026gt; Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼! \u0026gt; Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°! \u0026gt; Catching the Exceptions/æ•è·å¼‚å¸¸ \u0026gt; Same operands, different story!/åŒäººä¸åŒå‘½! \u0026gt; The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ \u0026gt; Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ \u0026gt; Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ \u0026gt; Needle in a Haystack/å¤§æµ·æé’ˆ Section: The Hidden treasures!/éšè—çš„å®è—! \u0026gt; Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? * \u0026gt; goto, but why?/goto, ä½†ä¸ºä»€ä¹ˆ? * \u0026gt; Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ * \u0026gt; Let\u0026rsquo;s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ * \u0026gt; Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ * \u0026gt; Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨! \u0026gt; Inpinity/æ— é™ * \u0026gt; Mangling time!ä¿®é¥°æ—¶é—´! * Section: Miscellaneous/æ‚é¡¹ \u0026gt; += is faster/æ›´å¿«çš„ += \u0026gt; Let\u0026rsquo;s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§! \u0026gt; Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢ \u0026gt; Minor Ones/å°çŸ¥è¯†ç‚¹ Contributing/è´¡çŒ® Acknowledgements/è‡´è°¢ ğŸ“ License/è®¸å¯ Help/å¸®åŠ© Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ? Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„? Follow Commit/è¿½è¸ªCommit 996.icu Structure of the Examples/ç¤ºä¾‹ç»“æ„ æ‰€æœ‰ç¤ºä¾‹çš„ç»“æ„éƒ½å¦‚ä¸‹æ‰€ç¤º:\n","keywords":["Langs","Python"],"articleBody":"\nWhat the f*ck Python! ğŸ\rä¸€äº›æœ‰è¶£ä¸”é²œä¸ºäººçŸ¥çš„ Python ç‰¹æ€§.\nEnglish\r| ä¸­æ–‡\r[![WTFPL 2.0][license-image]][license-url] [![Commit id][commit-image]][commit-url] [![996.icu][996.icu-image]][996.icu-url]\rPython, æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜ç¾çš„è§£é‡Šå‹é«˜çº§è¯­è¨€, å®ƒæä¾›äº†å¾ˆå¤šèƒ½è®©ç¨‹åºå‘˜æ„Ÿåˆ°èˆ’é€‚çš„åŠŸèƒ½ç‰¹æ€§. ä½†æœ‰çš„æ—¶å€™, Python çš„ä¸€äº›è¾“å‡ºç»“æœå¯¹äºåˆå­¦è€…æ¥è¯´ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆä¸€ç›®äº†ç„¶.\nè¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®æ„åœ¨æ”¶é›† Python ä¸­é‚£äº›éš¾ä»¥ç†è§£å’Œåäººç±»ç›´è§‰çš„ä¾‹å­ä»¥åŠé²œä¸ºäººçŸ¥çš„åŠŸèƒ½ç‰¹æ€§, å¹¶å°è¯•è®¨è®ºè¿™äº›ç°è±¡èƒŒåçœŸæ­£çš„åŸç†!\nè™½ç„¶ä¸‹é¢çš„æœ‰äº›ä¾‹å­å¹¶ä¸ä¸€å®šä¼šè®©ä½ è§‰å¾— WTFs, ä½†å®ƒä»¬ä¾ç„¶æœ‰å¯èƒ½ä¼šå‘Šè¯‰ä½ ä¸€äº›ä½ æ‰€ä¸çŸ¥é“çš„ Python æœ‰è¶£ç‰¹æ€§. æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å­¦ä¹ ç¼–ç¨‹è¯­è¨€å†…éƒ¨åŸç†çš„å¥½åŠæ³•, è€Œä¸”æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šä»ä¸­è·å¾—ä¹è¶£!\nå¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒæ¯”è¾ƒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, ä½ å¯ä»¥å°è¯•æŒ‘æˆ˜çœ‹æ˜¯å¦èƒ½ä¸€æ¬¡å°±æ‰¾åˆ°ä¾‹å­çš„æ­£ç¡®ç­”æ¡ˆ. ä½ å¯èƒ½å¯¹å…¶ä¸­çš„ä¸€äº›ä¾‹å­å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†, é‚£è¿™ä¹Ÿè®¸èƒ½å”¤èµ·ä½ å½“å¹´è¸©è¿™äº›å‘æ—¶çš„ç”œèœœå›å¿† :sweat_smile:\nPS: å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯»äº†, ä½ å¯ä»¥åœ¨è¿™é‡Œ è·å–å˜åŠ¨å†…å®¹.\né‚£ä¹ˆ, è®©æˆ‘ä»¬å¼€å§‹å§â€¦\nTable of Contents/ç›®å½• Table of Contents/ç›®å½• Structure of the Examples/ç¤ºä¾‹ç»“æ„ Usage/ç”¨æ³• ğŸ‘€ Examples/ç¤ºä¾‹ Section: Strain your brain!/å¤§è„‘è¿åŠ¨! \u003e Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² * \u003e Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†! \u003e Return return everywhere!/åˆ°å¤„è¿”å›ï¼ \u003e Deep down, weâ€™re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. * \u003e For what?/ä¸ºä»€ä¹ˆ? \u003e Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚ \u003e is is not what it is!/å‡ºäººæ„æ–™çš„is! \u003e A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³! \u003e The sticky output function/éº»çƒ¦çš„è¾“å‡º \u003e is not ... is not is (not ...)/is not ... ä¸æ˜¯ is (not ...) \u003e The surprising comma/æ„å¤–çš„é€—å· \u003e Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ  \u003e not knot!/åˆ«çº ç»“! \u003e Half triple-quoted strings/ä¸‰ä¸ªå¼•å· \u003e Midnight time doesnâ€™t exist?/ä¸å­˜åœ¨çš„åˆå¤œ? \u003e Whatâ€™s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†? \u003e Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§ \u003e yielding None/ç”Ÿæˆ None \u003e Mutating the immutable!/å¼ºäººæ‰€éš¾ \u003e The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡ \u003e When True is actually False/çœŸäº¦å‡ \u003e From filled to None in one instructionâ€¦/ä»æœ‰åˆ°æ— â€¦ \u003e Subclass relationships/å­ç±»å…³ç³» * \u003e The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ * \u003e Letâ€™s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹? Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„! \u003e Skipping lines?/è·³è¿‡ä¸€è¡Œ? \u003e Teleportation/ç©ºé—´ç§»åŠ¨ * \u003e Well, something is fishyâ€¦/å—¯, æœ‰äº›å¯ç–‘â€¦ Section: Watch out for the landmines!/å°å¿ƒåœ°é›·! \u003e Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹ \u003e Stubborn del operator/åšå¼ºçš„ del * \u003e Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´  \u003e Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼! \u003e Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°! \u003e Catching the Exceptions/æ•è·å¼‚å¸¸ \u003e Same operands, different story!/åŒäººä¸åŒå‘½! \u003e The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ \u003e Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ \u003e Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ \u003e Needle in a Haystack/å¤§æµ·æé’ˆ Section: The Hidden treasures!/éšè—çš„å®è—! \u003e Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? * \u003e goto, but why?/goto, ä½†ä¸ºä»€ä¹ˆ? * \u003e Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ * \u003e Letâ€™s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ * \u003e Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ * \u003e Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨! \u003e Inpinity/æ— é™ * \u003e Mangling time!ä¿®é¥°æ—¶é—´! * Section: Miscellaneous/æ‚é¡¹ \u003e += is faster/æ›´å¿«çš„ += \u003e Letâ€™s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§! \u003e Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢ \u003e Minor Ones/å°çŸ¥è¯†ç‚¹ Contributing/è´¡çŒ® Acknowledgements/è‡´è°¢ ğŸ“ License/è®¸å¯ Help/å¸®åŠ© Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ? Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„? Follow Commit/è¿½è¸ªCommit 996.icu Structure of the Examples/ç¤ºä¾‹ç»“æ„ æ‰€æœ‰ç¤ºä¾‹çš„ç»“æ„éƒ½å¦‚ä¸‹æ‰€ç¤º:\n\u003e ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜ * æ ‡é¢˜æœ«å°¾çš„æ˜Ÿå·è¡¨ç¤ºè¯¥ç¤ºä¾‹åœ¨ç¬¬ä¸€ç‰ˆä¸­ä¸å­˜åœ¨ï¼Œæ˜¯æœ€è¿‘æ·»åŠ çš„.\n1 2 # å‡†å¤‡ä»£ç . # é‡Šæ”¾é­”æ³•... Output (Python version):\n1 2 \u003e\u003e\u003e è§¦å‘è¯­å¥ å‡ºä¹æ„æ–™çš„è¾“å‡ºç»“æœ (å¯é€‰): å¯¹æ„å¤–è¾“å‡ºç»“æœçš„ç®€çŸ­æè¿°.\nğŸ’¡ è¯´æ˜: ç®€è¦è¯´æ˜å‘ç”Ÿäº†ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆä¼šå‘ç”Ÿ. 1 å¦‚æœ‰å¿…è¦, ä¸¾ä¾‹è¯´æ˜ Output: 1 2 \u003e\u003e\u003e è§¦å‘è¯­å¥ # ä¸€äº›è®©é­”æ³•å˜å¾—å®¹æ˜“ç†è§£çš„ä¾‹å­ # ä¸€äº›æ­£å¸¸çš„è¾“å…¥ æ³¨æ„: æ‰€æœ‰çš„ç¤ºä¾‹éƒ½åœ¨ Python 3.5.2 ç‰ˆæœ¬çš„äº¤äº’è§£é‡Šå™¨ä¸Šæµ‹è¯•è¿‡, å¦‚æœä¸ç‰¹åˆ«è¯´æ˜åº”è¯¥é€‚ç”¨äºæ‰€æœ‰ Python ç‰ˆæœ¬.\nUsage/ç”¨æ³• æˆ‘ä¸ªäººå»ºè®®, æœ€å¥½ä¾æ¬¡é˜…è¯»ä¸‹é¢çš„ç¤ºä¾‹, å¹¶å¯¹æ¯ä¸ªç¤ºä¾‹:\nä»”ç»†é˜…è¯»è®¾ç½®ä¾‹å­æœ€å¼€å§‹çš„ä»£ç . å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, é‚£ä¹ˆå¤§å¤šæ•°æ—¶å€™æ‚¨éƒ½èƒ½æˆåŠŸé¢„æœŸåˆ°åé¢çš„ç»“æœ. é˜…è¯»è¾“å‡ºç»“æœ, ç¡®è®¤ç»“æœæ˜¯å¦å¦‚ä½ æ‰€æ–™. ç¡®è®¤ä½ æ˜¯å¦çŸ¥é“è¿™èƒŒåçš„åŸç†. å¦‚æœä¸çŸ¥é“, æ·±å‘¼å¸ç„¶åé˜…è¯»è¯´æ˜ (å¦‚æœä½ è¿˜æ˜¯çœ‹ä¸æ˜ç™½, åˆ«æ²‰é»˜! å¯ä»¥åœ¨è¿™ æä¸ª issue). å¦‚æœçŸ¥é“, ç»™è‡ªå·±ç‚¹å¥–åŠ±, ç„¶åå»çœ‹ä¸‹ä¸€ä¸ªä¾‹å­. PS: ä½ ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œé˜…è¯» WTFpython. æˆ‘ä»¬æœ‰ pypi åŒ… å’Œ npm åŒ…(æ”¯æŒä»£ç é«˜äº®).(è¯‘: è¿™ä¸¤ä¸ªéƒ½æ˜¯è‹±æ–‡ç‰ˆçš„)\nå®‰è£… npm åŒ… wtfpython 1 $ npm install -g wtfpython æˆ–è€…, å®‰è£… pypi åŒ… wtfpython 1 $ pip install wtfpython -U ç°åœ¨, åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ wtfpython, ä½ å°±å¯ä»¥å¼€å§‹æµè§ˆäº†.\nğŸ‘€ Examples/ç¤ºä¾‹ Section: Strain your brain!/å¤§è„‘è¿åŠ¨! \u003e Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² * 1.\n1 2 3 4 5 \u003e\u003e\u003e a = \"some_string\" \u003e\u003e\u003e id(a) 140420665652016 \u003e\u003e\u003e id(\"some\" + \"_\" + \"string\") # æ³¨æ„ä¸¤ä¸ªçš„idå€¼æ˜¯ç›¸åŒçš„. 140420665652016 2.\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u003e\u003e\u003e a = \"wtf\" \u003e\u003e\u003e b = \"wtf\" \u003e\u003e\u003e a is b True \u003e\u003e\u003e a = \"wtf!\" \u003e\u003e\u003e b = \"wtf!\" \u003e\u003e\u003e a is b False \u003e\u003e\u003e a, b = \"wtf!\", \"wtf!\" \u003e\u003e\u003e a is b True # 3.7 ç‰ˆæœ¬è¿”å›ç»“æœä¸º False. 3.\n1 2 3 4 \u003e\u003e\u003e 'a' * 20 is 'aaaaaaaaaaaaaaaaaaaa' True \u003e\u003e\u003e 'a' * 21 is 'aaaaaaaaaaaaaaaaaaaaa' False # 3.7 ç‰ˆæœ¬è¿”å›ç»“æœä¸º True å¾ˆå¥½ç†è§£, å¯¹å§?\nğŸ’¡ è¯´æ˜: è¿™äº›è¡Œä¸ºæ˜¯ç”±äº Cpython åœ¨ç¼–è¯‘ä¼˜åŒ–æ—¶, æŸäº›æƒ…å†µä¸‹ä¼šå°è¯•ä½¿ç”¨å·²ç»å­˜åœ¨çš„ä¸å¯å˜å¯¹è±¡è€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡. (è¿™ç§è¡Œä¸ºè¢«ç§°ä½œå­—ç¬¦ä¸²çš„é©»ç•™[string interning])\nå‘ç”Ÿé©»ç•™ä¹‹å, è®¸å¤šå˜é‡å¯èƒ½æŒ‡å‘å†…å­˜ä¸­çš„ç›¸åŒå­—ç¬¦ä¸²å¯¹è±¡. (ä»è€ŒèŠ‚çœå†…å­˜)\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­, å­—ç¬¦ä¸²æ˜¯éšå¼é©»ç•™çš„. ä½•æ—¶å‘ç”Ÿéšå¼é©»ç•™åˆ™å–å†³äºå…·ä½“çš„å®ç°. è¿™é‡Œæœ‰ä¸€äº›æ–¹æ³•å¯ä»¥ç”¨æ¥çŒœæµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¼šè¢«é©»ç•™:\næ‰€æœ‰é•¿åº¦ä¸º 0 å’Œé•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸²éƒ½è¢«é©»ç•™.\nå­—ç¬¦ä¸²åœ¨ç¼–è¯‘æ—¶è¢«å®ç° ('wtf' å°†è¢«é©»ç•™, ä½†æ˜¯ ''.join(['w', 't', 'f']) å°†ä¸ä¼šè¢«é©»ç•™)\nå­—ç¬¦ä¸²ä¸­åªåŒ…å«å­—æ¯ï¼Œæ•°å­—æˆ–ä¸‹åˆ’çº¿æ—¶å°†ä¼šé©»ç•™. æ‰€ä»¥ 'wtf!' ç”±äºåŒ…å« ! è€Œæœªè¢«é©»ç•™. å¯ä»¥åœ¨è¿™é‡Œ æ‰¾åˆ° CPython å¯¹æ­¤è§„åˆ™çš„å®ç°.\nå½“åœ¨åŒä¸€è¡Œå°† a å’Œ b çš„å€¼è®¾ç½®ä¸º \"wtf!\" çš„æ—¶å€™, Python è§£é‡Šå™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, ç„¶ååŒæ—¶å¼•ç”¨ç¬¬äºŒä¸ªå˜é‡(è¯‘: ä»…é€‚ç”¨äº3.7ä»¥ä¸‹, è¯¦ç»†æƒ…å†µè¯·çœ‹è¿™é‡Œ ). å¦‚æœä½ åœ¨ä¸åŒçš„è¡Œä¸Šè¿›è¡Œèµ‹å€¼æ“ä½œ, å®ƒå°±ä¸ä¼šâ€œçŸ¥é“â€å·²ç»æœ‰ä¸€ä¸ª wtfï¼ å¯¹è±¡ (å› ä¸º \"wtf!\" ä¸æ˜¯æŒ‰ç…§ä¸Šé¢æåˆ°çš„æ–¹å¼è¢«éšå¼é©»ç•™çš„). å®ƒæ˜¯ä¸€ç§ç¼–è¯‘å™¨ä¼˜åŒ–, ç‰¹åˆ«é€‚ç”¨äºäº¤äº’å¼ç¯å¢ƒ.\nå¸¸é‡æŠ˜å (constant folding) æ˜¯ Python ä¸­çš„ä¸€ç§ çª¥å­”ä¼˜åŒ–(peephole optimization) æŠ€æœ¯. è¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶è¡¨è¾¾å¼ 'a'*20 ä¼šè¢«æ›¿æ¢ä¸º 'aaaaaaaaaaaaaaaaaaaa' ä»¥å‡å°‘è¿è¡Œæ—¶çš„æ—¶é’Ÿå‘¨æœŸ. åªæœ‰é•¿åº¦å°äº 20 çš„å­—ç¬¦ä¸²æ‰ä¼šå‘ç”Ÿå¸¸é‡æŠ˜å . (ä¸ºå•¥? æƒ³è±¡ä¸€ä¸‹ç”±äºè¡¨è¾¾å¼ 'a'*10**10 è€Œç”Ÿæˆçš„ .pyc æ–‡ä»¶çš„å¤§å°). ç›¸å…³çš„æºç å®ç°åœ¨è¿™é‡Œ .\nå¦‚æœä½ æ˜¯ä½¿ç”¨ 3.7 ç‰ˆæœ¬ä¸­è¿è¡Œä¸Šè¿°ç¤ºä¾‹ä»£ç , ä¼šå‘ç°éƒ¨åˆ†ä»£ç çš„è¿è¡Œç»“æœä¸æ³¨é‡Šè¯´æ˜ç›¸åŒ. è¿™æ˜¯å› ä¸ºåœ¨ 3.7 ç‰ˆæœ¬ä¸­, å¸¸é‡æŠ˜å å·²ç»ä»çª¥å­”ä¼˜åŒ–å™¨è¿ç§»è‡³æ–°çš„ AST ä¼˜åŒ–å™¨, åè€…å¯ä»¥ä»¥æ›´é«˜çš„ä¸€è‡´æ€§æ¥æ‰§è¡Œä¼˜åŒ–. (ç”± Eugene Toder å’Œ INADA Naoki åœ¨ bpo-29469 å’Œ bpo-11549 ä¸­è´¡çŒ®.)\n(è¯‘: ä½†æ˜¯åœ¨æœ€æ–°çš„ 3.8 ç‰ˆæœ¬ä¸­, ç»“æœåˆå˜å›å»äº†. è™½ç„¶ 3.8 ç‰ˆæœ¬å’Œ 3.7 ç‰ˆæœ¬ä¸€æ ·, éƒ½æ˜¯ä½¿ç”¨ AST ä¼˜åŒ–å™¨. ç›®å‰ä¸ç¡®å®šå®˜æ–¹å¯¹ 3.8 ç‰ˆæœ¬çš„ AST åšäº†ä»€ä¹ˆè°ƒæ•´.)\n\u003e Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†! hash brownieæŒ‡ä¸€ç§å«æœ‰å¤§éº»æˆåˆ†çš„è›‹ç³•, æ‰€ä»¥è¿™é‡Œæ˜¯å¥åŒå…³ 1.\n1 2 3 4 some_dict = {} some_dict[5.5] = \"Ruby\" some_dict[5.0] = \"JavaScript\" some_dict[5] = \"Python\" Output:\n1 2 3 4 5 6 \u003e\u003e\u003e some_dict[5.5] \"Ruby\" \u003e\u003e\u003e some_dict[5.0] \"Python\" \u003e\u003e\u003e some_dict[5] \"Python\" â€œPythonâ€ æ¶ˆé™¤äº† â€œJavaScriptâ€ çš„å­˜åœ¨?\nğŸ’¡ è¯´æ˜: Python å­—å…¸é€šè¿‡æ£€æŸ¥é”®å€¼æ˜¯å¦ç›¸ç­‰å’Œæ¯”è¾ƒå“ˆå¸Œå€¼æ¥ç¡®å®šä¸¤ä¸ªé”®æ˜¯å¦ç›¸åŒ. å…·æœ‰ç›¸åŒå€¼çš„ä¸å¯å˜å¯¹è±¡åœ¨Pythonä¸­å§‹ç»ˆå…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼. 1 2 3 4 \u003e\u003e\u003e 5 == 5.0 True \u003e\u003e\u003e hash(5) == hash(5.0) True æ³¨æ„: å…·æœ‰ä¸åŒå€¼çš„å¯¹è±¡ä¹Ÿå¯èƒ½å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼ˆå“ˆå¸Œå†²çªï¼‰. å½“æ‰§è¡Œ some_dict[5] = \"Python\" è¯­å¥æ—¶, å› ä¸ºPythonå°† 5 å’Œ 5.0 è¯†åˆ«ä¸º some_dict çš„åŒä¸€ä¸ªé”®, æ‰€ä»¥å·²æœ‰å€¼ â€œJavaScriptâ€ å°±è¢« â€œPythonâ€ è¦†ç›–äº†. è¿™ä¸ª StackOverflowçš„ å›ç­” æ¼‚äº®åœ°è§£é‡Šäº†è¿™èƒŒåçš„åŸºæœ¬åŸç†. \u003e Return return everywhere!/åˆ°å¤„è¿”å›ï¼ 1 2 3 4 5 def some_func(): try: return 'from_try' finally: return 'from_finally' Output:\n1 2 \u003e\u003e\u003e some_func() 'from_finally' ğŸ’¡ è¯´æ˜: å½“åœ¨ â€œtryâ€¦finallyâ€ è¯­å¥çš„ try ä¸­æ‰§è¡Œ return, break æˆ– continue å, finally å­å¥ä¾ç„¶ä¼šæ‰§è¡Œ. å‡½æ•°çš„è¿”å›å€¼ç”±æœ€åæ‰§è¡Œçš„ return è¯­å¥å†³å®š. ç”±äº finally å­å¥ä¸€å®šä¼šæ‰§è¡Œ, æ‰€ä»¥ finally å­å¥ä¸­çš„ return å°†å§‹ç»ˆæ˜¯æœ€åæ‰§è¡Œçš„è¯­å¥. \u003e Deep down, weâ€™re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. * 1 2 class WTF: pass Output:\n1 2 3 4 5 6 7 8 \u003e\u003e\u003e WTF() == WTF() # ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡åº”è¯¥ä¸ç›¸ç­‰ False \u003e\u003e\u003e WTF() is WTF() # ä¹Ÿä¸ç›¸åŒ False \u003e\u003e\u003e hash(WTF()) == hash(WTF()) # å“ˆå¸Œå€¼ä¹Ÿåº”è¯¥ä¸åŒ True \u003e\u003e\u003e id(WTF()) == id(WTF()) True ğŸ’¡ è¯´æ˜: å½“è°ƒç”¨ id å‡½æ•°æ—¶, Python åˆ›å»ºäº†ä¸€ä¸ª WTF ç±»çš„å¯¹è±¡å¹¶ä¼ ç»™ id å‡½æ•°. ç„¶å id å‡½æ•°è·å–å…¶idå€¼ (ä¹Ÿå°±æ˜¯å†…å­˜åœ°å€), ç„¶åä¸¢å¼ƒè¯¥å¯¹è±¡. è¯¥å¯¹è±¡å°±è¢«é”€æ¯äº†.\nå½“æˆ‘ä»¬è¿ç»­ä¸¤æ¬¡è¿›è¡Œè¿™ä¸ªæ“ä½œæ—¶, Pythonä¼šå°†ç›¸åŒçš„å†…å­˜åœ°å€åˆ†é…ç»™ç¬¬äºŒä¸ªå¯¹è±¡. å› ä¸º (åœ¨CPythonä¸­) id å‡½æ•°ä½¿ç”¨å¯¹è±¡çš„å†…å­˜åœ°å€ä½œä¸ºå¯¹è±¡çš„idå€¼, æ‰€ä»¥ä¸¤ä¸ªå¯¹è±¡çš„idå€¼æ˜¯ç›¸åŒçš„.\nç»¼ä¸Š, å¯¹è±¡çš„idå€¼ä»…ä»…åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…å”¯ä¸€. åœ¨å¯¹è±¡è¢«é”€æ¯ä¹‹å, æˆ–è¢«åˆ›å»ºä¹‹å‰, å…¶ä»–å¯¹è±¡å¯ä»¥å…·æœ‰ç›¸åŒçš„idå€¼.\né‚£ä¸ºä»€ä¹ˆ is æ“ä½œçš„ç»“æœä¸º False å‘¢? è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ®µä»£ç .\n1 2 3 class WTF(object): def __init__(self): print(\"I\") def __del__(self): print(\"D\") Output:\n1 2 3 4 5 6 7 8 9 10 11 12 \u003e\u003e\u003e WTF() is WTF() I I D D False \u003e\u003e\u003e id(WTF()) == id(WTF()) I D I D True æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„, å¯¹è±¡é”€æ¯çš„é¡ºåºæ˜¯é€ æˆæ‰€æœ‰ä¸åŒä¹‹å¤„çš„åŸå› .\n\u003e For what?/ä¸ºä»€ä¹ˆ? 1 2 3 4 some_string = \"wtf\" some_dict = {} for i, some_dict[i] in enumerate(some_string): pass Output:\n1 2 \u003e\u003e\u003e some_dict # åˆ›å»ºäº†ç´¢å¼•å­—å…¸. {0: 'w', 1: 't', 2: 'f'} ğŸ’¡ è¯´æ˜: Python è¯­æ³• ä¸­å¯¹ for çš„å®šä¹‰æ˜¯:\nfor_stmt: 'for' exprlist 'in' testlist ':' suite ['else' ':' suite] å…¶ä¸­ exprlist æŒ‡åˆ†é…ç›®æ ‡. è¿™æ„å‘³ç€å¯¹å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸€é¡¹éƒ½ä¼šæ‰§è¡Œç±»ä¼¼ {exprlist} = {next_value} çš„æ“ä½œ.\nä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­è¯´æ˜äº†è¿™ä¸€ç‚¹:\n1 2 3 for i in range(4): print(i) i = 10 Output:\n0\r1\r2\r3 ä½ å¯æ›¾è§‰å¾—è¿™ä¸ªå¾ªç¯åªä¼šè¿è¡Œä¸€æ¬¡?\nğŸ’¡ è¯´æ˜:\nç”±äºå¾ªç¯åœ¨Pythonä¸­å·¥ä½œæ–¹å¼, èµ‹å€¼è¯­å¥ i = 10 å¹¶ä¸ä¼šå½±å“è¿­ä»£å¾ªç¯, åœ¨æ¯æ¬¡è¿­ä»£å¼€å§‹ä¹‹å‰, è¿­ä»£å™¨(è¿™é‡ŒæŒ‡ range(4)) ç”Ÿæˆçš„ä¸‹ä¸€ä¸ªå…ƒç´ å°±è¢«è§£åŒ…å¹¶èµ‹å€¼ç»™ç›®æ ‡åˆ—è¡¨çš„å˜é‡(è¿™é‡ŒæŒ‡ i)äº†. åœ¨æ¯ä¸€æ¬¡çš„è¿­ä»£ä¸­, enumerate(some_string) å‡½æ•°å°±ç”Ÿæˆä¸€ä¸ªæ–°å€¼ i (è®¡æ•°å™¨å¢åŠ ) å¹¶ä» some_string ä¸­è·å–ä¸€ä¸ªå­—ç¬¦. ç„¶åå°†å­—å…¸ some_dict é”® i (åˆšåˆšåˆ†é…çš„) çš„å€¼è®¾ä¸ºè¯¥å­—ç¬¦. æœ¬ä¾‹ä¸­å¾ªç¯çš„å±•å¼€å¯ä»¥ç®€åŒ–ä¸º:\n1 2 3 4 \u003e\u003e\u003e i, some_dict[i] = (0, 'w') \u003e\u003e\u003e i, some_dict[i] = (1, 't') \u003e\u003e\u003e i, some_dict[i] = (2, 'f') \u003e\u003e\u003e some_dict \u003e Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚ 1.\n1 2 3 array = [1, 8, 15] g = (x for x in array if array.count(x) \u003e 0) array = [2, 8, 22] Output:\n1 2 \u003e\u003e\u003e print(list(g)) [8] 2.\n1 2 3 4 5 6 7 array_1 = [1,2,3,4] g1 = (x for x in array_1) array_1 = [1,2,3,4,5] array_2 = [1,2,3,4] g2 = (x for x in array_2) array_2[:] = [1,2,3,4,5] Output:\n1 2 3 4 5 \u003e\u003e\u003e print(list(g1)) [1,2,3,4] \u003e\u003e\u003e print(list(g2)) [1,2,3,4,5] ğŸ’¡ è¯´æ˜ åœ¨ç”Ÿæˆå™¨ è¡¨è¾¾å¼ä¸­, in å­å¥åœ¨å£°æ˜æ—¶æ‰§è¡Œ, è€Œæ¡ä»¶å­å¥åˆ™æ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œ. æ‰€ä»¥åœ¨è¿è¡Œå‰, array å·²ç»è¢«é‡æ–°èµ‹å€¼ä¸º [2, 8, 22], å› æ­¤å¯¹äºä¹‹å‰çš„ 1, 8 å’Œ 15, åªæœ‰ count(8) çš„ç»“æœæ˜¯å¤§äº 0 çš„, æ‰€ä»¥ç”Ÿæˆå™¨åªä¼šç”Ÿæˆ 8. ç¬¬äºŒéƒ¨åˆ†ä¸­ g1 å’Œ g2 çš„è¾“å‡ºå·®å¼‚åˆ™æ˜¯ç”±äºå˜é‡ array_1 å’Œ array_2 è¢«é‡æ–°èµ‹å€¼çš„æ–¹å¼å¯¼è‡´çš„. åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹, array_1 è¢«ç»‘å®šåˆ°æ–°å¯¹è±¡ [1,2,3,4,5], å› ä¸º in å­å¥æ˜¯åœ¨å£°æ˜æ—¶è¢«æ‰§è¡Œçš„ï¼Œ æ‰€ä»¥å®ƒä»ç„¶å¼•ç”¨æ—§å¯¹è±¡ [1,2,3,4](å¹¶æ²¡æœ‰è¢«é”€æ¯). åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹, å¯¹ array_2 çš„åˆ‡ç‰‡èµ‹å€¼å°†ç›¸åŒçš„æ—§å¯¹è±¡ [1,2,3,4] åŸåœ°æ›´æ–°ä¸º [1,2,3,4,5]. å› æ­¤ g2 å’Œ array_2 ä»ç„¶å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡(è¿™ä¸ªå¯¹è±¡ç°åœ¨å·²ç»æ›´æ–°ä¸º [1,2,3,4,5]). \u003e is is not what it is!/å‡ºäººæ„æ–™çš„is! ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨äº’è”ç½‘ä¸Šéå¸¸æœ‰åçš„ä¾‹å­.\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u003e\u003e\u003e a = 256 \u003e\u003e\u003e b = 256 \u003e\u003e\u003e a is b True \u003e\u003e\u003e a = 257 \u003e\u003e\u003e b = 257 \u003e\u003e\u003e a is b False \u003e\u003e\u003e a = 257; b = 257 \u003e\u003e\u003e a is b True ğŸ’¡ è¯´æ˜: is å’Œ == çš„åŒºåˆ«\nis è¿ç®—ç¬¦æ£€æŸ¥ä¸¤ä¸ªè¿ç®—å¯¹è±¡æ˜¯å¦å¼•ç”¨è‡ªåŒä¸€å¯¹è±¡ (å³, å®ƒæ£€æŸ¥ä¸¤ä¸ªè¿ç®—å¯¹è±¡æ˜¯å¦ç›¸åŒ). == è¿ç®—ç¬¦æ¯”è¾ƒä¸¤ä¸ªè¿ç®—å¯¹è±¡çš„å€¼æ˜¯å¦ç›¸ç­‰. å› æ­¤ is ä»£è¡¨å¼•ç”¨ç›¸åŒ, == ä»£è¡¨å€¼ç›¸ç­‰. ä¸‹é¢çš„ä¾‹å­å¯ä»¥å¾ˆå¥½çš„è¯´æ˜è¿™ç‚¹, 1 2 3 4 \u003e\u003e\u003e [] == [] True \u003e\u003e\u003e [] is [] # è¿™ä¸¤ä¸ªç©ºåˆ—è¡¨ä½äºä¸åŒçš„å†…å­˜åœ°å€. False 256 æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡, è€Œ 257 ä¸æ˜¯\nå½“ä½ å¯åŠ¨Python çš„æ—¶å€™, æ•°å€¼ä¸º -5 åˆ° 256 çš„å¯¹è±¡å°±å·²ç»è¢«åˆ†é…å¥½äº†. è¿™äº›æ•°å­—å› ä¸ºç»å¸¸è¢«ä½¿ç”¨, æ‰€ä»¥ä¼šè¢«æå‰å‡†å¤‡å¥½.\nPython é€šè¿‡è¿™ç§åˆ›å»ºå°æ•´æ•°æ± çš„æ–¹å¼æ¥é¿å…å°æ•´æ•°é¢‘ç¹çš„ç”³è¯·å’Œé”€æ¯å†…å­˜ç©ºé—´.\nå¼•ç”¨è‡ª https://docs.python.org/3/c-api/long.html å½“å‰çš„å®ç°ä¸º-5åˆ°256ä¹‹é—´çš„æ‰€æœ‰æ•´æ•°ä¿ç•™ä¸€ä¸ªæ•´æ•°å¯¹è±¡æ•°ç»„, å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªè¯¥èŒƒå›´å†…çš„æ•´æ•°æ—¶, ä½ åªéœ€è¦è¿”å›ç°æœ‰å¯¹è±¡çš„å¼•ç”¨. æ‰€ä»¥æ”¹å˜1çš„å€¼æ˜¯æœ‰å¯èƒ½çš„. æˆ‘æ€€ç–‘è¿™ç§è¡Œä¸ºåœ¨Pythonä¸­æ˜¯æœªå®šä¹‰è¡Œä¸º. :-)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u003e\u003e\u003e id(256) 10922528 \u003e\u003e\u003e a = 256 \u003e\u003e\u003e b = 256 \u003e\u003e\u003e id(a) 10922528 \u003e\u003e\u003e id(b) 10922528 \u003e\u003e\u003e id(257) 140084850247312 \u003e\u003e\u003e x = 257 \u003e\u003e\u003e y = 257 \u003e\u003e\u003e id(x) 140084850247440 \u003e\u003e\u003e id(y) 140084850247344 è¿™é‡Œè§£é‡Šå™¨å¹¶æ²¡æœ‰æ™ºèƒ½åˆ°èƒ½åœ¨æ‰§è¡Œ y = 257 æ—¶æ„è¯†åˆ°æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ•´æ•° 257, æ‰€ä»¥å®ƒåœ¨å†…å­˜ä¸­åˆæ–°å»ºäº†å¦ä¸€ä¸ªå¯¹è±¡.\nå½“ a å’Œ b åœ¨åŒä¸€è¡Œä¸­ä½¿ç”¨ç›¸åŒçš„å€¼åˆå§‹åŒ–æ—¶ï¼Œä¼šæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡.\n1 2 3 4 5 6 7 8 9 10 11 \u003e\u003e\u003e a, b = 257, 257 \u003e\u003e\u003e id(a) 140640774013296 \u003e\u003e\u003e id(b) 140640774013296 \u003e\u003e\u003e a = 257 \u003e\u003e\u003e b = 257 \u003e\u003e\u003e id(a) 140640774013392 \u003e\u003e\u003e id(b) 140640774013488 å½“ a å’Œ b åœ¨åŒä¸€è¡Œä¸­è¢«è®¾ç½®ä¸º 257 æ—¶, Python è§£é‡Šå™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, ç„¶ååŒæ—¶å¼•ç”¨ç¬¬äºŒä¸ªå˜é‡. å¦‚æœä½ åœ¨ä¸åŒçš„è¡Œä¸Šè¿›è¡Œ, å®ƒå°±ä¸ä¼š â€œçŸ¥é“â€ å·²ç»å­˜åœ¨ä¸€ä¸ª 257 å¯¹è±¡äº†. è¿™æ˜¯ä¸€ç§ç‰¹åˆ«ä¸ºäº¤äº’å¼ç¯å¢ƒåšçš„ç¼–è¯‘å™¨ä¼˜åŒ–. å½“ä½ åœ¨å®æ—¶è§£é‡Šå™¨ä¸­è¾“å…¥ä¸¤è¡Œçš„æ—¶å€™, ä»–ä»¬ä¼šå•ç‹¬ç¼–è¯‘, å› æ­¤ä¹Ÿä¼šå•ç‹¬è¿›è¡Œä¼˜åŒ–. å¦‚æœä½ åœ¨ .py æ–‡ä»¶ä¸­å°è¯•è¿™ä¸ªä¾‹å­, åˆ™ä¸ä¼šçœ‹åˆ°ç›¸åŒçš„è¡Œä¸º, å› ä¸ºæ–‡ä»¶æ˜¯ä¸€æ¬¡æ€§ç¼–è¯‘çš„. \u003e A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³! 1 2 3 4 # æˆ‘ä»¬å…ˆåˆå§‹åŒ–ä¸€ä¸ªå˜é‡row row = [\"\"]*3 #row i['', '', ''] # å¹¶åˆ›å»ºä¸€ä¸ªå˜é‡board board = [row]*3 Output:\n1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e board [['', '', ''], ['', '', ''], ['', '', '']] \u003e\u003e\u003e board[0] ['', '', ''] \u003e\u003e\u003e board[0][0] '' \u003e\u003e\u003e board[0][0] = \"X\" \u003e\u003e\u003e board [['X', '', ''], ['X', '', ''], ['X', '', '']] æˆ‘ä»¬æœ‰æ²¡æœ‰èµ‹å€¼è¿‡3ä¸ª â€œXâ€ å‘¢ï¼Ÿ\nğŸ’¡ è¯´æ˜: å½“æˆ‘ä»¬åˆå§‹åŒ– row å˜é‡æ—¶, ä¸‹é¢è¿™å¼ å›¾å±•ç¤ºäº†å†…å­˜ä¸­çš„æƒ…å†µã€‚\nè€Œå½“é€šè¿‡å¯¹ row åšä¹˜æ³•æ¥åˆå§‹åŒ– board æ—¶, å†…å­˜ä¸­çš„æƒ…å†µåˆ™å¦‚ä¸‹å›¾æ‰€ç¤º (æ¯ä¸ªå…ƒç´  board[0], board[1] å’Œ board[2] éƒ½å’Œ row ä¸€æ ·å¼•ç”¨äº†åŒä¸€åˆ—è¡¨.)\næˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ä½¿ç”¨å˜é‡ row ç”Ÿæˆ board æ¥é¿å…è¿™ç§æƒ…å†µ. (è¿™ä¸ª issueæå‡ºäº†è¿™ä¸ªéœ€æ±‚.)\n1 2 3 4 \u003e\u003e\u003e board = [['']*3 for _ in range(3)] \u003e\u003e\u003e board[0][0] = \"X\" \u003e\u003e\u003e board [['X', '', ''], ['', '', ''], ['', '', '']] \u003e The sticky output function/éº»çƒ¦çš„è¾“å‡º 1 2 3 4 5 6 7 8 9 funcs = [] results = [] for x in range(7): def some_func(): return x funcs.append(some_func) results.append(some_func()) # æ³¨æ„è¿™é‡Œå‡½æ•°è¢«æ‰§è¡Œäº† funcs_results = [func() for func in funcs] Output:\n1 2 3 4 \u003e\u003e\u003e results [0, 1, 2, 3, 4, 5, 6] \u003e\u003e\u003e funcs_results [6, 6, 6, 6, 6, 6, 6] å³ä½¿æ¯æ¬¡åœ¨è¿­ä»£ä¸­å°† some_func åŠ å…¥ funcs å‰çš„ x å€¼éƒ½ä¸ç›¸åŒ, æ‰€æœ‰çš„å‡½æ•°è¿˜æ˜¯éƒ½è¿”å›6.\n// å†æ¢ä¸ªä¾‹å­\n1 2 3 \u003e\u003e\u003e powers_of_x = [lambda x: x**i for i in range(10)] \u003e\u003e\u003e [f(2) for f in powers_of_x] [512, 512, 512, 512, 512, 512, 512, 512, 512, 512] ğŸ’¡ è¯´æ˜: å½“åœ¨å¾ªç¯å†…éƒ¨å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶, å¦‚æœè¯¥å‡½æ•°åœ¨å…¶ä¸»ä½“ä¸­ä½¿ç”¨äº†å¾ªç¯å˜é‡, åˆ™é—­åŒ…å‡½æ•°å°†ä¸å¾ªç¯å˜é‡ç»‘å®š, è€Œä¸æ˜¯å®ƒçš„å€¼. å› æ­¤, æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯ä½¿ç”¨æœ€ååˆ†é…ç»™å˜é‡çš„å€¼æ¥è¿›è¡Œè®¡ç®—çš„.\nå¯ä»¥é€šè¿‡å°†å¾ªç¯å˜é‡ä½œä¸ºå‘½åå˜é‡ä¼ é€’ç»™å‡½æ•°æ¥è·å¾—é¢„æœŸçš„ç»“æœ. ä¸ºä»€ä¹ˆè¿™æ ·å¯è¡Œ? å› ä¸ºè¿™ä¼šåœ¨å‡½æ•°å†…å†æ¬¡å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡.\n1 2 3 4 5 funcs = [] for x in range(7): def some_func(x=x): return x funcs.append(some_func) Output:\n1 2 3 \u003e\u003e\u003e funcs_results = [func() for func in funcs] \u003e\u003e\u003e funcs_results [0, 1, 2, 3, 4, 5, 6] \u003e is not ... is not is (not ...)/is not ... ä¸æ˜¯ is (not ...) 1 2 3 4 \u003e\u003e\u003e 'something' is not None True \u003e\u003e\u003e 'something' is (not None) False ğŸ’¡ è¯´æ˜: is not æ˜¯ä¸ªå•ç‹¬çš„äºŒå…ƒè¿ç®—ç¬¦, ä¸åˆ†åˆ«ä½¿ç”¨ is å’Œ not ä¸åŒ. å¦‚æœæ“ä½œç¬¦ä¸¤ä¾§çš„å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, åˆ™ is not çš„ç»“æœä¸º False, å¦åˆ™ç»“æœä¸º True. \u003e The surprising comma/æ„å¤–çš„é€—å· Output:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u003e\u003e\u003e def f(x, y,): ... print(x, y) ... \u003e\u003e\u003e def g(x=4, y=5,): ... print(x, y) ... \u003e\u003e\u003e def h(x, **kwargs,): File \"\", line 1 def h(x, **kwargs,): ^ SyntaxError: invalid syntax \u003e\u003e\u003e def h(*args,): File \"\", line 1 def h(*args,): ^ SyntaxError: invalid syntax ğŸ’¡ è¯´æ˜: åœ¨Pythonå‡½æ•°çš„å½¢å¼å‚æ•°åˆ—è¡¨ä¸­, å°¾éšé€—å·å¹¶ä¸ä¸€å®šæ˜¯åˆæ³•çš„. åœ¨Pythonä¸­, å‚æ•°åˆ—è¡¨éƒ¨åˆ†ç”¨å‰ç½®é€—å·å®šä¹‰, éƒ¨åˆ†ç”¨å°¾éšé€—å·å®šä¹‰. è¿™ç§å†²çªå¯¼è‡´é€—å·è¢«å¤¹åœ¨ä¸­é—´, æ²¡æœ‰è§„åˆ™å®šä¹‰å®ƒ.(è¯‘:è¿™ä¸€å¥çœ‹å¾—æˆ‘ä¹Ÿå¾ˆæ‡µé€¼,åªèƒ½å¼ºç¿»äº†.è¯¦ç»†è§£é‡Šçœ‹ä¸‹é¢çš„è®¨è®ºå¸–ä¼šä¸€ç›®äº†ç„¶.) æ³¨æ„: å°¾éšé€—å·çš„é—®é¢˜å·²ç»åœ¨Python 3.6ä¸­è¢«ä¿®å¤ äº†. è€Œè¿™ç¯‡å¸–å­ ä¸­åˆ™ç®€è¦è®¨è®ºäº†Pythonä¸­å°¾éšé€—å·çš„ä¸åŒç”¨æ³•. \u003e Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ  Output:\n\u003e\u003e\u003e print(\"\\\\ C:\\\\\")\r\\ C:\\\r\u003e\u003e\u003e print(r\"\\ C:\")\r\\ C:\r\u003e\u003e\u003e print(r\"\\ C:\\\")\rFile \"\", line 1\rprint(r\"\\ C:\\\")\r^\rSyntaxError: EOL while scanning string literal ğŸ’¡ è¯´æ˜: åœ¨ä»¥ r å¼€å¤´çš„åŸå§‹å­—ç¬¦ä¸²ä¸­, åæ–œæ å¹¶æ²¡æœ‰ç‰¹æ®Šå«ä¹‰. 1 2 \u003e\u003e\u003e print(repr(r\"wt\\\"f\")) 'wt\\\\\"f' è§£é‡Šå™¨æ‰€åšçš„åªæ˜¯ç®€å•çš„æ”¹å˜äº†åæ–œæ çš„è¡Œä¸º, å› æ­¤ä¼šç›´æ¥æ”¾è¡Œåæ–œæ åŠåä¸€ä¸ªçš„å­—ç¬¦. è¿™å°±æ˜¯åæ–œæ åœ¨åŸå§‹å­—ç¬¦ä¸²æœ«å°¾ä¸èµ·ä½œç”¨çš„åŸå› . \u003e not knot!/åˆ«çº ç»“! 1 2 x = True y = False Output:\n1 2 3 4 5 6 7 \u003e\u003e\u003e not x == y True \u003e\u003e\u003e x == not y File \"\", line 1 x == not y ^ SyntaxError: invalid syntax ğŸ’¡ è¯´æ˜: è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¼šå½±å“è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåº, è€Œåœ¨ Python ä¸­ == è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§è¦é«˜äº not è¿ç®—ç¬¦. æ‰€ä»¥ not x == y ç›¸å½“äº not (x == y), åŒæ—¶ç­‰ä»·äº not (True == False), æœ€åçš„è¿ç®—ç»“æœå°±æ˜¯ True. ä¹‹æ‰€ä»¥ x == not y ä¼šæŠ›ä¸€ä¸ª SyntaxError å¼‚å¸¸, æ˜¯å› ä¸ºå®ƒä¼šè¢«è®¤ä¸ºç­‰ä»·äº (x == not) y, è€Œä¸æ˜¯ä½ ä¸€å¼€å§‹æœŸæœ›çš„ x == (not y). è§£é‡Šå™¨æœŸæœ› not æ ‡è®°æ˜¯ not in æ“ä½œç¬¦çš„ä¸€éƒ¨åˆ† (å› ä¸º == å’Œ not in æ“ä½œç¬¦å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§), ä½†æ˜¯å®ƒåœ¨ not æ ‡è®°åé¢æ‰¾ä¸åˆ° in æ ‡è®°, æ‰€ä»¥ä¼šæŠ›å‡º SyntaxError å¼‚å¸¸. \u003e Half triple-quoted strings/ä¸‰ä¸ªå¼•å· Output:\n1 2 3 4 5 6 7 \u003e\u003e\u003e print('wtfpython''') wtfpython \u003e\u003e\u003e print(\"wtfpython\"\"\") wtfpython \u003e\u003e\u003e # ä¸‹é¢çš„è¯­å¥ä¼šæŠ›å‡º `SyntaxError` å¼‚å¸¸ \u003e\u003e\u003e # print('''wtfpython') \u003e\u003e\u003e # print(\"\"\"wtfpython\") ğŸ’¡ è¯´æ˜: Python æä¾›éšå¼çš„å­—ç¬¦ä¸²è¿æ¥ , ä¾‹å¦‚, \u003e\u003e\u003e print(\"wtf\" \"python\")\rwtfpython\r\u003e\u003e\u003e print(\"wtf\" \"\") # or \"wtf\"\"\"\rwtf ''' å’Œ \"\"\" åœ¨ Pythonä¸­ä¹Ÿæ˜¯å­—ç¬¦ä¸²å®šç•Œç¬¦, Python è§£é‡Šå™¨åœ¨å…ˆé‡åˆ°ä¸‰ä¸ªå¼•å·çš„çš„æ—¶å€™ä¼šå°è¯•å†å¯»æ‰¾ä¸‰ä¸ªç»ˆæ­¢å¼•å·ä½œä¸ºå®šç•Œç¬¦, å¦‚æœä¸å­˜åœ¨åˆ™ä¼šå¯¼è‡´ SyntaxError å¼‚å¸¸. \u003e Midnight time doesnâ€™t exist?/ä¸å­˜åœ¨çš„åˆå¤œ? 1 2 3 4 5 6 7 8 9 10 11 12 13 from datetime import datetime midnight = datetime(2018, 1, 1, 0, 0) midnight_time = midnight.time() noon = datetime(2018, 1, 1, 12, 0) noon_time = noon.time() if midnight_time: print(\"Time at midnight is\", midnight_time) if noon_time: print(\"Time at noon is\", noon_time) Output:\n1 ('Time at noon is', datetime.time(12, 0)) midnight_time å¹¶æ²¡æœ‰è¢«è¾“å‡º.\nğŸ’¡ è¯´æ˜: åœ¨Python 3.5ä¹‹å‰, å¦‚æœ datetime.time å¯¹è±¡å­˜å‚¨çš„UTCçš„åˆå¤œæ—¶é—´(è¯‘: å°±æ˜¯ 00:00), é‚£ä¹ˆå®ƒçš„å¸ƒå°”å€¼ä¼šè¢«è®¤ä¸ºæ˜¯ False. å½“ä½¿ç”¨ if obj: è¯­å¥æ¥æ£€æŸ¥ obj æ˜¯å¦ä¸º null æˆ–è€…æŸäº›â€œç©ºâ€å€¼çš„æ—¶å€™, å¾ˆå®¹æ˜“å‡ºé”™.\n\u003e Whatâ€™s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†? 1.\n1 2 3 4 5 6 7 8 9 10 # ä¸€ä¸ªç®€å•çš„ä¾‹å­, ç»Ÿè®¡ä¸‹é¢å¯è¿­ä»£å¯¹è±¡ä¸­çš„å¸ƒå°”å‹å€¼çš„ä¸ªæ•°å’Œæ•´å‹å€¼çš„ä¸ªæ•° mixed_list = [False, 1.0, \"some_string\", 3, True, [], False] integers_found_so_far = 0 booleans_found_so_far = 0 for item in mixed_list: if isinstance(item, int): integers_found_so_far += 1 elif isinstance(item, bool): booleans_found_so_far += 1 Output:\n1 2 3 4 \u003e\u003e\u003e integers_found_so_far 4 \u003e\u003e\u003e booleans_found_so_far 0 2.\n1 2 3 4 another_dict = {} another_dict[True] = \"JavaScript\" another_dict[1] = \"Ruby\" another_dict[1.0] = \"Python\" Output:\n1 2 \u003e\u003e\u003e another_dict[True] \"Python\" 3.\n1 2 3 4 5 6 \u003e\u003e\u003e some_bool = True \u003e\u003e\u003e \"wtf\"*some_bool 'wtf' \u003e\u003e\u003e some_bool = False \u003e\u003e\u003e \"wtf\"*some_bool '' ğŸ’¡ è¯´æ˜: å¸ƒå°”å€¼æ˜¯ int çš„å­ç±»\n1 2 3 4 \u003e\u003e\u003e isinstance(True, int) True \u003e\u003e\u003e isinstance(False, int) True æ‰€ä»¥ True çš„æ•´æ•°å€¼æ˜¯ 1, è€Œ False çš„æ•´æ•°å€¼æ˜¯ 0.\n1 2 \u003e\u003e\u003e True == 1 == 1.0 and False == 0 == 0.0 True å…³äºå…¶èƒŒåçš„åŸç†, è¯·çœ‹è¿™ä¸ª StackOverflow çš„å›ç­” .\n\u003e Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§ 1.\n1 2 3 4 5 6 7 8 class A: x = 1 class B(A): pass class C(A): pass Output:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u003e\u003e\u003e A.x, B.x, C.x (1, 1, 1) \u003e\u003e\u003e B.x = 2 \u003e\u003e\u003e A.x, B.x, C.x (1, 2, 1) \u003e\u003e\u003e A.x = 3 \u003e\u003e\u003e A.x, B.x, C.x (3, 2, 3) \u003e\u003e\u003e a = A() \u003e\u003e\u003e a.x, A.x (3, 3) \u003e\u003e\u003e a.x += 1 \u003e\u003e\u003e a.x, A.x (4, 3) 2.\n1 2 3 4 5 6 7 8 class SomeClass: some_var = 15 some_list = [5] another_list = [5] def __init__(self, x): self.some_var = x + 1 self.some_list = self.some_list + [x] self.another_list += [x] Output:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u003e\u003e\u003e some_obj = SomeClass(420) \u003e\u003e\u003e some_obj.some_list [5, 420] \u003e\u003e\u003e some_obj.another_list [5, 420] \u003e\u003e\u003e another_obj = SomeClass(111) \u003e\u003e\u003e another_obj.some_list [5, 111] \u003e\u003e\u003e another_obj.another_list [5, 420, 111] \u003e\u003e\u003e another_obj.another_list is SomeClass.another_list True \u003e\u003e\u003e another_obj.another_list is some_obj.another_list True ğŸ’¡ è¯´æ˜: ç±»å˜é‡å’Œå®ä¾‹å˜é‡åœ¨å†…éƒ¨æ˜¯é€šè¿‡ç±»å¯¹è±¡çš„å­—å…¸æ¥å¤„ç†(è¯‘: å°±æ˜¯ __dict__ å±æ€§). å¦‚æœåœ¨å½“å‰ç±»çš„å­—å…¸ä¸­æ‰¾ä¸åˆ°çš„è¯å°±å»å®ƒçš„çˆ¶ç±»ä¸­å¯»æ‰¾. += è¿ç®—ç¬¦ä¼šåœ¨åŸåœ°ä¿®æ”¹å¯å˜å¯¹è±¡, è€Œä¸æ˜¯åˆ›å»ºæ–°å¯¹è±¡. å› æ­¤, åœ¨è¿™ç§æƒ…å†µä¸‹, ä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„å±æ€§ä¼šå½±å“å…¶ä»–å®ä¾‹å’Œç±»å±æ€§. \u003e yielding None/ç”Ÿæˆ None 1 2 3 4 some_iterable = ('a', 'b') def some_func(val): return \"something\" Output:\n1 2 3 4 5 6 7 8 9 10 \u003e\u003e\u003e [x for x in some_iterable] ['a', 'b'] \u003e\u003e\u003e [(yield x) for x in some_iterable] \u003cgenerator object \u003clistcomp\u003e at 0x7f70b0a4ad58\u003e \u003e\u003e\u003e list([(yield x) for x in some_iterable]) ['a', 'b'] \u003e\u003e\u003e list((yield x) for x in some_iterable) ['a', None, 'b', None] \u003e\u003e\u003e list(some_func((yield x)) for x in some_iterable) ['a', 'something', 'b', 'something'] ğŸ’¡ è¯´æ˜: æ¥æºå’Œè§£é‡Šå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°: https://stackoverflow.com/questions/32139885/yield-in-list-comprehensions-and-generator-expressions ç›¸å…³é”™è¯¯æŠ¥å‘Š: http://bugs.python.org/issue10544 è¿™ä¸ªbugåœ¨3.7ä»¥åçš„ç‰ˆæœ¬ä¸­ä¸è¢«æ¨èä½¿ç”¨, å¹¶åœ¨3.8ä¸­è¢«ä¿®å¤. å› æ­¤åœ¨3.8ä¸­å°è¯•åœ¨æ¨å¯¼å¼ä¸­ä½¿ç”¨ yield, åªä¼šå¾—åˆ°ä¸€ä¸ª SyntaxError. è¯¦ç»†å†…å®¹å¯ä»¥çœ‹3.7æ›´æ–°å†…å®¹ , 3.8æ›´æ–°å†…å®¹ . \u003e Mutating the immutable!/å¼ºäººæ‰€éš¾ 1 2 some_tuple = (\"A\", \"tuple\", \"with\", \"values\") another_tuple = ([1, 2], [3, 4], [5, 6]) Output:\n1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e some_tuple[2] = \"change this\" TypeError: 'tuple' object does not support item assignment \u003e\u003e\u003e another_tuple[2].append(1000) # è¿™é‡Œä¸å‡ºç°é”™è¯¯ \u003e\u003e\u003e another_tuple ([1, 2], [3, 4], [5, 6, 1000]) \u003e\u003e\u003e another_tuple[2] += [99, 999] TypeError: 'tuple' object does not support item assignment \u003e\u003e\u003e another_tuple ([1, 2], [3, 4], [5, 6, 1000, 99, 999]) æˆ‘è¿˜ä»¥ä¸ºå…ƒç»„æ˜¯ä¸å¯å˜çš„å‘¢â€¦\nğŸ’¡ è¯´æ˜: å¼•ç”¨ https://docs.python.org/2/reference/datamodel.html ä¸å¯å˜åºåˆ— ä¸å¯å˜åºåˆ—çš„å¯¹è±¡ä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½å†æ”¹å˜. (å¦‚æœå¯¹è±¡åŒ…å«å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œåˆ™è¿™äº›å…¶ä»–å¯¹è±¡å¯èƒ½æ˜¯å¯å˜çš„å¹¶ä¸”å¯èƒ½ä¼šè¢«ä¿®æ”¹; ä½†æ˜¯ï¼Œç”±ä¸å¯å˜å¯¹è±¡ç›´æ¥å¼•ç”¨çš„å¯¹è±¡é›†åˆä¸èƒ½æ›´æ”¹.)\n+= æ“ä½œç¬¦åœ¨åŸåœ°ä¿®æ”¹äº†åˆ—è¡¨. å…ƒç´ èµ‹å€¼æ“ä½œå¹¶ä¸å·¥ä½œ, ä½†æ˜¯å½“å¼‚å¸¸æŠ›å‡ºæ—¶, å…ƒç´ å·²ç»åœ¨åŸåœ°è¢«ä¿®æ”¹äº†.\n(è¯‘: å¯¹äºä¸å¯å˜å¯¹è±¡, è¿™é‡ŒæŒ‡tuple, += å¹¶ä¸æ˜¯åŸå­æ“ä½œ, è€Œæ˜¯ extend å’Œ = ä¸¤ä¸ªåŠ¨ä½œ, è¿™é‡Œ = æ“ä½œè™½ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸, ä½† extend æ“ä½œå·²ç»ä¿®æ”¹æˆåŠŸäº†. è¯¦ç»†è§£é‡Šå¯ä»¥çœ‹è¿™é‡Œ )\n\u003e The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡ 1 2 3 4 5 e = 7 try: raise Exception() except Exception as e: pass Output (Python 2.x):\n1 2 \u003e\u003e\u003e print(e) # prints nothing Output (Python 3.x):\n1 2 \u003e\u003e\u003e print(e) NameError: name 'e' is not defined ğŸ’¡ è¯´æ˜: å‡ºå¤„: https://docs.python.org/3/reference/compound_stmts.html#except å½“ä½¿ç”¨ as ä¸ºç›®æ ‡åˆ†é…å¼‚å¸¸çš„æ—¶å€™, å°†åœ¨exceptå­å¥çš„æœ«å°¾æ¸…é™¤è¯¥å¼‚å¸¸.\nè¿™å°±å¥½åƒ\n1 2 except E as N: foo ä¼šè¢«ç¿»è¯‘æˆ\n1 2 3 4 5 except E as N: try: foo finally: del N è¿™æ„å‘³ç€å¼‚å¸¸å¿…é¡»åœ¨è¢«èµ‹å€¼ç»™å…¶ä»–å˜é‡æ‰èƒ½åœ¨ except å­å¥ä¹‹åå¼•ç”¨å®ƒ. è€Œå¼‚å¸¸ä¹‹æ‰€ä»¥ä¼šè¢«æ¸…é™¤, åˆ™æ˜¯ç”±äºä¸Šé¢é™„åŠ çš„å›æº¯ä¿¡æ¯(trackback)ä¼šå’Œæ ˆå¸§(stack frame)å½¢æˆå¾ªç¯å¼•ç”¨, ä½¿å¾—è¯¥æ ˆå¸§ä¸­çš„æ‰€æœ‰æœ¬åœ°å˜é‡åœ¨ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶å‘ç”Ÿä¹‹å‰éƒ½å¤„äºæ´»åŠ¨çŠ¶æ€.(è¯‘: ä¹Ÿå°±æ˜¯è¯´ä¸ä¼šè¢«å›æ”¶)\nå­å¥åœ¨ Python ä¸­å¹¶æ²¡æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸ. ç¤ºä¾‹ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å¤„äºåŒä¸€ä½œç”¨åŸŸå†…, æ‰€ä»¥å˜é‡ e ä¼šç”±äºæ‰§è¡Œäº† except å­å¥è€Œè¢«åˆ é™¤. è€Œå¯¹äºæœ‰ç‹¬ç«‹çš„å†…éƒ¨ä½œç”¨åŸŸçš„å‡½æ•°æ¥è¯´æƒ…å†µå°±ä¸ä¸€æ ·äº†. ä¸‹é¢çš„ä¾‹å­è¯´æ˜äº†è¿™ä¸€ç‚¹:\n1 2 3 4 5 6 def f(x): del(x) print(x) x = 5 y = [5, 4, 3] Output:\n1 2 3 4 5 6 7 8 \u003e\u003e\u003ef(x) UnboundLocalError: local variable 'x' referenced before assignment \u003e\u003e\u003ef(y) UnboundLocalError: local variable 'x' referenced before assignment \u003e\u003e\u003e x 5 \u003e\u003e\u003e y [5, 4, 3] åœ¨ Python 2.x ä¸­, Exception() å®ä¾‹è¢«èµ‹å€¼ç»™äº†å˜é‡ e, æ‰€ä»¥å½“ä½ å°è¯•æ‰“å°ç»“æœçš„æ—¶å€™, å®ƒçš„è¾“å‡ºä¸ºç©º.ï¼ˆè¯‘: æ­£å¸¸çš„Exceptionå®ä¾‹æ‰“å°å‡ºæ¥å°±æ˜¯ç©ºï¼‰\nOutput (Python 2.x):\n1 2 3 4 \u003e\u003e\u003e e Exception() \u003e\u003e\u003e print e # æ²¡æœ‰æ‰“å°ä»»ä½•å†…å®¹! \u003e When True is actually False/çœŸäº¦å‡ 1 2 3 True = False if True == False: print(\"I've lost faith in truth!\") Output:\nI've lost faith in truth! ğŸ’¡ è¯´æ˜: æœ€åˆ, Python å¹¶æ²¡æœ‰ bool å‹ (äººä»¬ç”¨0è¡¨ç¤ºå‡å€¼, ç”¨éé›¶å€¼æ¯”å¦‚1ä½œä¸ºçœŸå€¼). åæ¥ä»–ä»¬æ·»åŠ äº† True, False, å’Œ bool å‹, ä½†æ˜¯, ä¸ºäº†å‘åå…¼å®¹, ä»–ä»¬æ²¡æ³•æŠŠ True å’Œ False è®¾ç½®ä¸ºå¸¸é‡, åªæ˜¯è®¾ç½®æˆäº†å†…ç½®å˜é‡. Python 3 ç”±äºä¸å†éœ€è¦å‘åå…¼å®¹, ç»ˆäºå¯ä»¥ä¿®å¤è¿™ä¸ªé—®é¢˜äº†, æ‰€ä»¥è¿™ä¸ªä¾‹å­æ— æ³•åœ¨ Python 3.x ä¸­æ‰§è¡Œ! \u003e From filled to None in one instructionâ€¦/ä»æœ‰åˆ°æ— â€¦ 1 2 3 4 5 6 7 8 9 some_list = [1, 2, 3] some_dict = { \"key_1\": 1, \"key_2\": 2, \"key_3\": 3 } some_list = some_list.append(4) some_dict = some_dict.update({\"key_4\": 4}) Output:\n1 2 3 4 \u003e\u003e\u003e print(some_list) None \u003e\u003e\u003e print(some_dict) None ğŸ’¡ è¯´æ˜: å¤§å¤šæ•°ä¿®æ”¹åºåˆ—/æ˜ å°„å¯¹è±¡çš„æ–¹æ³•, æ¯”å¦‚ list.append, dict.update, list.sort ç­‰ç­‰. éƒ½æ˜¯åŸåœ°ä¿®æ”¹å¯¹è±¡å¹¶è¿”å› None. è¿™æ ·åšçš„ç†ç”±æ˜¯, å¦‚æœæ“ä½œå¯ä»¥åŸåœ°å®Œæˆ, å°±å¯ä»¥é¿å…åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬æ¥æé«˜æ€§èƒ½. (å‚è€ƒè¿™é‡Œ )\n\u003e Subclass relationships/å­ç±»å…³ç³» * Output:\n1 2 3 4 5 6 7 \u003e\u003e\u003e from collections import Hashable \u003e\u003e\u003e issubclass(list, object) True \u003e\u003e\u003e issubclass(object, Hashable) True \u003e\u003e\u003e issubclass(list, Hashable) False å­ç±»å…³ç³»åº”è¯¥æ˜¯å¯ä¼ é€’çš„, å¯¹å§? (å³, å¦‚æœ A æ˜¯ B çš„å­ç±», B æ˜¯ C çš„å­ç±», é‚£ä¹ˆ A åº”è¯¥ æ˜¯ C çš„å­ç±».)\nğŸ’¡ è¯´æ˜: Python ä¸­çš„å­ç±»å…³ç³»å¹¶ä¸ä¸€å®šæ˜¯ä¼ é€’çš„. ä»»ä½•äººéƒ½å¯ä»¥åœ¨å…ƒç±»ä¸­éšæ„å®šä¹‰ __subclasscheck__. å½“ issubclass(cls, Hashable) è¢«è°ƒç”¨æ—¶, å®ƒåªæ˜¯åœ¨ cls ä¸­å¯»æ‰¾ __hash__ æ–¹æ³•æˆ–è€…ä»ç»§æ‰¿çš„çˆ¶ç±»ä¸­å¯»æ‰¾ __hash__ æ–¹æ³•. ç”±äº object is å¯æ•£åˆ—çš„(hashable), ä½†æ˜¯ list æ˜¯ä¸å¯æ•£åˆ—çš„, æ‰€ä»¥å®ƒæ‰“ç ´äº†è¿™ç§ä¼ é€’å…³ç³». åœ¨è¿™é‡Œ å¯ä»¥æ‰¾åˆ°æ›´è¯¦ç»†çš„è§£é‡Š. \u003e The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ * 1 2 3 4 class SomeClass(str): pass some_dict = {'s':42} Output:\n1 2 3 4 5 6 7 8 \u003e\u003e\u003e type(list(some_dict.keys())[0]) str \u003e\u003e\u003e s = SomeClass('s') \u003e\u003e\u003e some_dict[s] = 40 \u003e\u003e\u003e some_dict # é¢„æœŸ: ä¸¤ä¸ªä¸åŒçš„é”®å€¼å¯¹ {'s': 40} \u003e\u003e\u003e type(list(some_dict.keys())[0]) str ğŸ’¡ è¯´æ˜: ç”±äº SomeClass ä¼šä» str è‡ªåŠ¨ç»§æ‰¿ __hash__ æ–¹æ³•, æ‰€ä»¥ s å¯¹è±¡å’Œ \"s\" å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼æ˜¯ç›¸åŒçš„.\nè€Œ SomeClass(\"s\") == \"s\" ä¸º True æ˜¯å› ä¸º SomeClass ä¹Ÿç»§æ‰¿äº† str ç±» __eq__ æ–¹æ³•.\nç”±äºä¸¤è€…çš„å“ˆå¸Œå€¼ç›¸åŒä¸”ç›¸ç­‰, æ‰€ä»¥å®ƒä»¬åœ¨å­—å…¸ä¸­è¡¨ç¤ºç›¸åŒçš„é”®.\nå¦‚æœæƒ³è¦å®ç°æœŸæœ›çš„åŠŸèƒ½, æˆ‘ä»¬å¯ä»¥é‡å®šä¹‰ SomeClass çš„ __eq__ æ–¹æ³•.\n1 2 3 4 5 6 7 8 9 10 11 12 13 class SomeClass(str): def __eq__(self, other): return ( type(self) is SomeClass and type(other) is SomeClass and super().__eq__(other) ) # å½“æˆ‘ä»¬è‡ªå®šä¹‰ __eq__ æ–¹æ³•æ—¶, Python ä¸ä¼šå†è‡ªåŠ¨ç»§æ‰¿ __hash__ æ–¹æ³• # æ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦å®šä¹‰å®ƒ __hash__ = str.__hash__ some_dict = {'s':42} Output:\n1 2 3 4 5 6 7 \u003e\u003e\u003e s = SomeClass('s') \u003e\u003e\u003e some_dict[s] = 40 \u003e\u003e\u003e some_dict {'s': 40, 's': 42} \u003e\u003e\u003e keys = list(some_dict.keys()) \u003e\u003e\u003e type(keys[0]), type(keys[1]) (__main__.SomeClass, str) \u003e Letâ€™s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹? 1 a, b = a[b] = {}, 5 Output:\n1 2 \u003e\u003e\u003e a {5: ({...}, 5)} ğŸ’¡ è¯´æ˜: æ ¹æ® Python è¯­è¨€å‚è€ƒ , èµ‹å€¼è¯­å¥çš„å½¢å¼å¦‚ä¸‹\n(target_list \"=\")+ (expression_list | yield_expression) èµ‹å€¼è¯­å¥è®¡ç®—è¡¨è¾¾å¼åˆ—è¡¨(expression list)(ç‰¢è®° è¿™å¯ä»¥æ˜¯å•ä¸ªè¡¨è¾¾å¼æˆ–ä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨, åè€…è¿”å›å…ƒç»„)å¹¶å°†å•ä¸ªç»“æœå¯¹è±¡ä»å·¦åˆ°å³åˆ†é…ç»™ç›®æ ‡åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹.\n(target_list \"=\")+ ä¸­çš„ + æ„å‘³ç€å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç›®æ ‡åˆ—è¡¨. åœ¨è¿™ä¸ªä¾‹å­ä¸­, ç›®æ ‡åˆ—è¡¨æ˜¯ a, b å’Œ a[b] (æ³¨æ„è¡¨è¾¾å¼åˆ—è¡¨åªèƒ½æœ‰ä¸€ä¸ª, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯ {}, 5).\nè¡¨è¾¾å¼åˆ—è¡¨è®¡ç®—ç»“æŸå, å°†å…¶å€¼è‡ªåŠ¨è§£åŒ…åä»å·¦åˆ°å³åˆ†é…ç»™ç›®æ ‡åˆ—è¡¨(target list). å› æ­¤, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, é¦–å…ˆå°† {}, 5 å…ƒç»„å¹¶èµ‹å€¼ç»™ a, b, ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ° a = {} ä¸” b = 5.\na è¢«èµ‹å€¼çš„ {} æ˜¯å¯å˜å¯¹è±¡.\nç¬¬äºŒä¸ªç›®æ ‡åˆ—è¡¨æ˜¯ a[b] (ä½ å¯èƒ½è§‰å¾—è¿™é‡Œä¼šæŠ¥é”™, å› ä¸ºåœ¨ä¹‹å‰çš„è¯­å¥ä¸­ a å’Œ b éƒ½è¿˜æ²¡æœ‰è¢«å®šä¹‰. ä½†æ˜¯åˆ«å¿˜äº†, æˆ‘ä»¬åˆšåˆšå°† a èµ‹å€¼ {} ä¸”å°† b èµ‹å€¼ä¸º 5).\nç°åœ¨, æˆ‘ä»¬å°†é€šè¿‡å°†å­—å…¸ä¸­é”® 5 çš„å€¼è®¾ç½®ä¸ºå…ƒç»„ ({}, 5) æ¥åˆ›å»ºå¾ªç¯å¼•ç”¨ (è¾“å‡ºä¸­çš„ {...} æŒ‡ä¸ a å¼•ç”¨äº†ç›¸åŒçš„å¯¹è±¡). ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„å¾ªç¯å¼•ç”¨çš„ä¾‹å­\n1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e some_list = some_list[0] = [0] \u003e\u003e\u003e some_list [[...]] \u003e\u003e\u003e some_list[0] [[...]] \u003e\u003e\u003e some_list is some_list[0] True \u003e\u003e\u003e some_list[0][0][0][0][0][0] == some_list True æˆ‘ä»¬çš„ä¾‹å­å°±æ˜¯è¿™ç§æƒ…å†µ (a[b][0] ä¸ a æ˜¯ç›¸åŒçš„å¯¹è±¡)\næ€»ç»“ä¸€ä¸‹, ä½ ä¹Ÿå¯ä»¥æŠŠä¾‹å­æ‹†æˆ\n1 2 a, b = {}, 5 a[b] = a, b å¹¶ä¸”å¯ä»¥é€šè¿‡ a[b][0] ä¸ a æ˜¯ç›¸åŒçš„å¯¹è±¡æ¥è¯æ˜æ˜¯å¾ªç¯å¼•ç”¨\n1 2 \u003e\u003e\u003e a[b][0] is a True Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„! \u003e Skipping lines?/è·³è¿‡ä¸€è¡Œ? Output:\n1 2 3 4 \u003e\u003e\u003e value = 11 \u003e\u003e\u003e valuĞµ = 32 \u003e\u003e\u003e value 11 ä»€ä¹ˆé¬¼?\næ³¨æ„: å¦‚æœä½ æƒ³è¦é‡ç°çš„è¯æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥å¤åˆ¶ä¸Šé¢çš„ä»£ç ç‰‡æ®µåˆ°ä½ çš„æ–‡ä»¶æˆ–å‘½ä»¤è¡Œé‡Œ.\nğŸ’¡ è¯´æ˜: ä¸€äº›éè¥¿æ–¹å­—ç¬¦è™½ç„¶çœ‹èµ·æ¥å’Œè‹±è¯­å­—æ¯ç›¸åŒ, ä½†ä¼šè¢«è§£é‡Šå™¨è¯†åˆ«ä¸ºä¸åŒçš„å­—æ¯.\n1 2 3 4 5 6 7 8 9 10 11 \u003e\u003e\u003e ord('Ğµ') # è¥¿é‡Œå°”è¯­çš„ 'e' (Ye) 1077 \u003e\u003e\u003e ord('e') # æ‹‰ä¸è¯­çš„ 'e', ç”¨äºè‹±æ–‡å¹¶ä½¿ç”¨æ ‡å‡†é”®ç›˜è¾“å…¥ 101 \u003e\u003e\u003e 'Ğµ' == 'e' False \u003e\u003e\u003e value = 42 # æ‹‰ä¸è¯­ e \u003e\u003e\u003e valuĞµ = 23 # è¥¿é‡Œå°”è¯­ 'e', Python 2.x çš„è§£é‡Šå™¨åœ¨è¿™ä¼šæŠ›å‡º `SyntaxError` å¼‚å¸¸ \u003e\u003e\u003e value 42 å†…ç½®çš„ ord() å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå­—ç¬¦çš„ Unicode ä»£ç ç‚¹ , è¿™é‡Œè¥¿é‡Œå°”è¯­ â€™eâ€™ å’Œæ‹‰ä¸è¯­ â€™eâ€™ çš„ä»£ç ç‚¹ä¸åŒè¯å®äº†ä¸Šè¿°ä¾‹å­.\n\u003e Teleportation/ç©ºé—´ç§»åŠ¨ * 1 2 3 4 5 6 7 8 9 import numpy as np def energy_send(x): # åˆå§‹åŒ–ä¸€ä¸ª numpy æ•°ç»„ np.array([float(x)]) def energy_receive(): # è¿”å›ä¸€ä¸ªç©ºçš„ numpy æ•°ç»„ return np.empty((), dtype=np.float).tolist() Output:\n1 2 3 \u003e\u003e\u003e energy_send(123.456) \u003e\u003e\u003e energy_receive() 123.456 è°æ¥ç»™æˆ‘å‘ä¸ªè¯ºè´å°”å¥–?\nğŸ’¡ è¯´æ˜: æ³¨æ„åœ¨ energy_send å‡½æ•°ä¸­åˆ›å»ºçš„ numpy æ•°ç»„å¹¶æ²¡æœ‰è¿”å›, å› æ­¤å†…å­˜ç©ºé—´è¢«é‡Šæ”¾å¹¶å¯ä»¥è¢«é‡æ–°åˆ†é…. numpy.empty() ç›´æ¥è¿”å›ä¸‹ä¸€æ®µç©ºé—²å†…å­˜ï¼Œè€Œä¸é‡æ–°åˆå§‹åŒ–. è€Œè¿™ä¸ªå†…å­˜ç‚¹æ°å¥½å°±æ˜¯åˆšåˆšé‡Šæ”¾çš„é‚£ä¸ª(é€šå¸¸æƒ…å†µä¸‹, å¹¶ä¸ç»å¯¹). \u003e Well, something is fishyâ€¦/å—¯ï¼Œæœ‰äº›å¯ç–‘â€¦ 1 2 3 4 5 6 7 8 def square(x): \"\"\" ä¸€ä¸ªé€šè¿‡åŠ æ³•è®¡ç®—å¹³æ–¹çš„ç®€å•å‡½æ•°. \"\"\" sum_so_far = 0 for counter in range(x): sum_so_far = sum_so_far + x return sum_so_far Output (Python 2.x):\n1 2 \u003e\u003e\u003e square(10) 10 éš¾é“ä¸åº”è¯¥æ˜¯100å—?\næ³¨æ„: å¦‚æœä½ æ— æ³•é‡ç°, å¯ä»¥å°è¯•è¿è¡Œè¿™ä¸ªæ–‡ä»¶mixed_tabs_and_spaces.py .\nğŸ’¡ è¯´æ˜: ä¸è¦æ··ç”¨åˆ¶è¡¨ç¬¦(tab)å’Œç©ºæ ¼(space)! åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, return çš„å‰é¢æ˜¯\"1ä¸ªåˆ¶è¡¨ç¬¦\", è€Œå…¶ä»–éƒ¨åˆ†çš„ä»£ç å‰é¢æ˜¯ â€œ4ä¸ªç©ºæ ¼â€.\nPythonæ˜¯è¿™ä¹ˆå¤„ç†åˆ¶è¡¨ç¬¦çš„:\né¦–å…ˆ, åˆ¶è¡¨ç¬¦ä¼šä»å·¦åˆ°å³ä¾æ¬¡è¢«æ›¿æ¢æˆ8ä¸ªç©ºæ ¼, ç›´åˆ°è¢«æ›¿æ¢åçš„å­—ç¬¦æ€»æ•°æ˜¯å…«çš„å€æ•° \u003câ€¦\u003e\nå› æ­¤, square å‡½æ•°æœ€åä¸€è¡Œçš„åˆ¶è¡¨ç¬¦ä¼šè¢«æ›¿æ¢æˆ8ä¸ªç©ºæ ¼, å¯¼è‡´returnè¯­å¥è¿›å…¥å¾ªç¯è¯­å¥é‡Œé¢.\nPython 3 å¾ˆå‹å¥½, åœ¨è¿™ç§æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æŠ›å‡ºé”™è¯¯.\nOutput (Python 3.x):\n1 TabError: inconsistent use of tabs and spaces in indentation Section: Watch out for the landmines!/å°å¿ƒåœ°é›·! \u003e Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹ 1 2 3 4 5 6 x = {0: None} for i in x: del x[i] x[i+1] = None print(i) Output (Python 2.7- Python 3.5):\n0\r1\r2\r3\r4\r5\r6\r7 æ˜¯çš„, å®ƒè¿è¡Œäº†å…«æ¬¡ç„¶åæ‰åœä¸‹æ¥.\nğŸ’¡ è¯´æ˜: Pythonä¸æ”¯æŒå¯¹å­—å…¸è¿›è¡Œè¿­ä»£çš„åŒæ—¶ä¿®æ”¹å®ƒ. å®ƒä¹‹æ‰€ä»¥è¿è¡Œ8æ¬¡, æ˜¯å› ä¸ºå­—å…¸ä¼šè‡ªåŠ¨æ‰©å®¹ä»¥å®¹çº³æ›´å¤šé”®å€¼(æˆ‘ä»¬æœ‰8æ¬¡åˆ é™¤è®°å½•, å› æ­¤éœ€è¦æ‰©å®¹). è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚. (è¯‘: åº”è¯¥æ˜¯å› ä¸ºå­—å…¸çš„åˆå§‹æœ€å°å€¼æ˜¯8, æ‰©å®¹ä¼šå¯¼è‡´æ•£åˆ—è¡¨åœ°å€å‘ç”Ÿå˜åŒ–è€Œä¸­æ–­å¾ªç¯.) åœ¨ä¸åŒçš„Pythonå®ç°ä¸­åˆ é™¤é”®çš„å¤„ç†æ–¹å¼ä»¥åŠè°ƒæ•´å¤§å°çš„æ—¶é—´å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒ.(è¯‘: å°±æ˜¯è¯´ä»€ä¹ˆæ—¶å€™æ‰©å®¹åœ¨ä¸åŒç‰ˆæœ¬ä¸­å¯èƒ½æ˜¯ä¸åŒçš„, åœ¨3.6åŠ3.7çš„ç‰ˆæœ¬ä¸­åˆ°5 å°±ä¼šè‡ªåŠ¨æ‰©å®¹äº†. ä»¥åä¹Ÿæœ‰å¯èƒ½å†æ¬¡å‘ç”Ÿå˜åŒ–. è¿™æ˜¯ä¸ºäº†é¿å…æ•£åˆ—å†²çª. é¡ºå¸¦ä¸€æ, åé¢ä¸¤æ¬¡æ‰©å®¹ä¼šæ‰©å±•ä¸º32å’Œ256. å³8-\u003e32-\u003e256.) æ›´å¤šçš„ä¿¡æ¯, ä½ å¯ä»¥å‚è€ƒè¿™ä¸ªStackOverflowçš„å›ç­” , å®ƒè¯¦ç»†çš„è§£é‡Šä¸€ä¸ªç±»ä¼¼çš„ä¾‹å­. \u003e Stubborn del operator/åšå¼ºçš„ del * 1 2 3 class SomeClass: def __del__(self): print(\"Deleted!\") Output: 1.\n1 2 3 4 5 \u003e\u003e\u003e x = SomeClass() \u003e\u003e\u003e y = x \u003e\u003e\u003e del x # è¿™é‡Œåº”è¯¥ä¼šè¾“å‡º \"Deleted!\" \u003e\u003e\u003e del y Deleted! å”·, ç»ˆäºåˆ é™¤äº†. ä½ å¯èƒ½å·²ç»çŒœåˆ°äº†åœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡å°è¯•åˆ é™¤ x æ—¶æ˜¯ä»€ä¹ˆè®© __del__ å…äºè¢«è°ƒç”¨çš„. é‚£è®©æˆ‘ä»¬ç»™è¿™ä¸ªä¾‹å­å¢åŠ ç‚¹éš¾åº¦.\n2.\n1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e x = SomeClass() \u003e\u003e\u003e y = x \u003e\u003e\u003e del x \u003e\u003e\u003e y # æ£€æŸ¥ä¸€ä¸‹yæ˜¯å¦å­˜åœ¨ \u003c__main__.SomeClass instance at 0x7f98a1a67fc8\u003e \u003e\u003e\u003e del y # åƒä¹‹å‰ä¸€æ ·, è¿™é‡Œåº”è¯¥ä¼šè¾“å‡º \"Deleted!\" \u003e\u003e\u003e globals() # å¥½å§, å¹¶æ²¡æœ‰. è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰€æœ‰çš„å…¨å±€å˜é‡ Deleted! {'__builtins__': \u003cmodule '__builtin__' (built-in)\u003e, 'SomeClass': \u003cclass __main__.SomeClass at 0x7f98a1a5f668\u003e, '__package__': None, '__name__': '__main__', '__doc__': None} å¥½äº†ï¼Œç°åœ¨å®ƒè¢«åˆ é™¤äº† :confused:\nğŸ’¡ è¯´æ˜: del x å¹¶ä¸ä¼šç«‹åˆ»è°ƒç”¨ x.__del__(). æ¯å½“é‡åˆ° del x, Python ä¼šå°† x çš„å¼•ç”¨æ•°å‡1, å½“ x çš„å¼•ç”¨æ•°å‡åˆ°0æ—¶å°±ä¼šè°ƒç”¨ x.__del__(). åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­, y.__del__() ä¹‹æ‰€ä»¥æœªè¢«è°ƒç”¨, æ˜¯å› ä¸ºå‰ä¸€æ¡è¯­å¥ (\u003e\u003e\u003e y) å¯¹åŒä¸€å¯¹è±¡åˆ›å»ºäº†å¦ä¸€ä¸ªå¼•ç”¨, ä»è€Œé˜²æ­¢åœ¨æ‰§è¡Œ del y åå¯¹è±¡çš„å¼•ç”¨æ•°å˜ä¸º0. è°ƒç”¨ globals å¯¼è‡´å¼•ç”¨è¢«é”€æ¯, å› æ­¤æˆ‘ä»¬å¯ä»¥çœ‹åˆ° â€œDeleted!â€ ç»ˆäºè¢«è¾“å‡ºäº†. (è¯‘: è¿™å…¶å®æ˜¯ Python äº¤äº’è§£é‡Šå™¨çš„ç‰¹æ€§, å®ƒä¼šè‡ªåŠ¨è®© _ ä¿å­˜ä¸Šä¸€ä¸ªè¡¨è¾¾å¼è¾“å‡ºçš„å€¼, è¯¦ç»†å¯ä»¥çœ‹è¿™é‡Œ .) \u003e Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 list_1 = [1, 2, 3, 4] list_2 = [1, 2, 3, 4] list_3 = [1, 2, 3, 4] list_4 = [1, 2, 3, 4] for idx, item in enumerate(list_1): del item for idx, item in enumerate(list_2): list_2.remove(item) for idx, item in enumerate(list_3[:]): list_3.remove(item) for idx, item in enumerate(list_4): list_4.pop(idx) Output:\n1 2 3 4 5 6 7 8 \u003e\u003e\u003e list_1 [1, 2, 3, 4] \u003e\u003e\u003e list_2 [2, 4] \u003e\u003e\u003e list_3 [] \u003e\u003e\u003e list_4 [2, 4] ä½ èƒ½çŒœåˆ°ä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯ [2, 4] å—?\nğŸ’¡ è¯´æ˜: åœ¨è¿­ä»£æ—¶ä¿®æ”¹å¯¹è±¡æ˜¯ä¸€ä¸ªå¾ˆæ„šè ¢çš„ä¸»æ„. æ­£ç¡®çš„åšæ³•æ˜¯è¿­ä»£å¯¹è±¡çš„å‰¯æœ¬, list_3[:] å°±æ˜¯è¿™ä¹ˆåšçš„.\n1 2 3 4 5 \u003e\u003e\u003e some_list = [1, 2, 3, 4] \u003e\u003e\u003e id(some_list) 139798789457608 \u003e\u003e\u003e id(some_list[:]) # æ³¨æ„pythonä¸ºåˆ‡ç‰‡åˆ—è¡¨åˆ›å»ºäº†æ–°å¯¹è±¡. 139798779601192 del, remove å’Œ pop çš„ä¸åŒ:\ndel var_name åªæ˜¯ä»æœ¬åœ°æˆ–å…¨å±€å‘½åç©ºé—´ä¸­åˆ é™¤äº† var_name (è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ list_1 æ²¡æœ‰å—åˆ°å½±å“). remove ä¼šåˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„æŒ‡å®šå€¼, è€Œä¸æ˜¯ç‰¹å®šçš„ç´¢å¼•, å¦‚æœæ‰¾ä¸åˆ°å€¼åˆ™æŠ›å‡º ValueError å¼‚å¸¸. pop åˆ™ä¼šåˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ å¹¶è¿”å›å®ƒ, å¦‚æœæŒ‡å®šäº†æ— æ•ˆçš„ç´¢å¼•åˆ™æŠ›å‡º IndexError å¼‚å¸¸. ä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯ [2, 4]?\nåˆ—è¡¨è¿­ä»£æ˜¯æŒ‰ç´¢å¼•è¿›è¡Œçš„, æ‰€ä»¥å½“æˆ‘ä»¬ä» list_2 æˆ– list_4 ä¸­åˆ é™¤ 1 æ—¶, åˆ—è¡¨çš„å†…å®¹å°±å˜æˆäº† [2, 3, 4]. å‰©ä½™å…ƒç´ ä¼šä¾æ¬¡ä½ç§», ä¹Ÿå°±æ˜¯è¯´, 2 çš„ç´¢å¼•ä¼šå˜ä¸º 0, 3 ä¼šå˜ä¸º 1. ç”±äºä¸‹ä¸€æ¬¡è¿­ä»£å°†è·å–ç´¢å¼•ä¸º 1 çš„å…ƒç´  (å³ 3), å› æ­¤ 2 å°†è¢«å½»åº•çš„è·³è¿‡. ç±»ä¼¼çš„æƒ…å†µä¼šäº¤æ›¿å‘ç”Ÿåœ¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸Š. å‚è€ƒè¿™ä¸ªStackOverflowçš„å›ç­” æ¥è§£é‡Šè¿™ä¸ªä¾‹å­ å…³äºPythonä¸­å­—å…¸çš„ç±»ä¼¼ä¾‹å­, å¯ä»¥å‚è€ƒè¿™ä¸ªStackoverflowçš„å›ç­” . \u003e Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼! 1.\n1 2 3 4 for x in range(7): if x == 6: print(x, ': for x inside loop') print(x, ': x in global') Output:\n1 2 6 : for x inside loop 6 : x in global ä½†æ˜¯ x ä»æœªåœ¨å¾ªç¯å¤–è¢«å®šä¹‰â€¦\n2.\n1 2 3 4 5 6 # è¿™æ¬¡æˆ‘ä»¬å…ˆåˆå§‹åŒ–x x = -1 for x in range(7): if x == 6: print(x, ': for x inside loop') print(x, ': x in global') Output:\n1 2 6 : for x inside loop 6 : x in global 3.\nx = 1\rprint([x for x in range(5)])\rprint(x, ': x in global') Output (on Python 2.x):\n[0, 1, 2, 3, 4]\r(4, ': x in global') Output (on Python 3.x):\n[0, 1, 2, 3, 4]\r1 : x in global ğŸ’¡ è¯´æ˜: åœ¨ Python ä¸­, for å¾ªç¯ä½¿ç”¨æ‰€åœ¨ä½œç”¨åŸŸå¹¶åœ¨ç»“æŸåä¿ç•™å®šä¹‰çš„å¾ªç¯å˜é‡. å¦‚æœæˆ‘ä»¬æ›¾åœ¨å…¨å±€å‘½åç©ºé—´ä¸­å®šä¹‰è¿‡å¾ªç¯å˜é‡. åœ¨è¿™ç§æƒ…å†µä¸‹, å®ƒä¼šé‡æ–°ç»‘å®šç°æœ‰å˜é‡.\nPython 2.x å’Œ Python 3.x è§£é‡Šå™¨åœ¨åˆ—è¡¨æ¨å¯¼å¼ç¤ºä¾‹ä¸­çš„è¾“å‡ºå·®å¼‚, åœ¨æ–‡æ¡£ Whatâ€™s New In Python 3.0 ä¸­å¯ä»¥æ‰¾åˆ°ç›¸å…³çš„è§£é‡Š:\nâ€œåˆ—è¡¨æ¨å¯¼ä¸å†æ”¯æŒå¥æ³•å½¢å¼ [... for var in item1, item2, ...]. å–è€Œä»£ä¹‹çš„æ˜¯ [... for var in (item1, item2, ...)]. å¦å¤–, æ³¨æ„åˆ—è¡¨æ¨å¯¼å…·æœ‰ä¸åŒçš„è¯­ä¹‰: å®ƒä»¬æ›´æ¥è¿‘äº list() æ„é€ å‡½æ•°ä¸­ç”Ÿæˆå™¨è¡¨è¾¾å¼çš„è¯­æ³•ç³–(è¯‘: è¿™ä¸€å¥æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ˜ç™½), ç‰¹åˆ«æ˜¯å¾ªç¯æ§åˆ¶å˜é‡ä¸å†æ³„æ¼åˆ°å‘¨å›´çš„ä½œç”¨åŸŸä¸­.â€\n\u003e Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°! 1 2 3 def some_func(default_arg=[]): default_arg.append(\"some_string\") return default_arg Output:\n1 2 3 4 5 6 7 8 \u003e\u003e\u003e some_func() ['some_string'] \u003e\u003e\u003e some_func() ['some_string', 'some_string'] \u003e\u003e\u003e some_func([]) ['some_string'] \u003e\u003e\u003e some_func() ['some_string', 'some_string', 'some_string'] ğŸ’¡ è¯´æ˜: Pythonä¸­å‡½æ•°çš„é»˜è®¤å¯å˜å‚æ•°å¹¶ä¸æ˜¯æ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶éƒ½ä¼šè¢«åˆå§‹åŒ–. ç›¸å, å®ƒä»¬ä¼šä½¿ç”¨æœ€è¿‘åˆ†é…çš„å€¼ä½œä¸ºé»˜è®¤å€¼. å½“æˆ‘ä»¬æ˜ç¡®çš„å°† [] ä½œä¸ºå‚æ•°ä¼ é€’ç»™ some_func çš„æ—¶å€™, å°±ä¸ä¼šä½¿ç”¨ default_arg çš„é»˜è®¤å€¼, æ‰€ä»¥å‡½æ•°ä¼šè¿”å›æˆ‘ä»¬æ‰€æœŸæœ›çš„ç»“æœ.\n1 2 3 def some_func(default_arg=[]): default_arg.append(\"some_string\") return default_arg Output:\n1 2 3 4 5 6 7 8 9 10 11 \u003e\u003e\u003e some_func.__defaults__ # è¿™é‡Œä¼šæ˜¾ç¤ºå‡½æ•°çš„é»˜è®¤å‚æ•°çš„å€¼ ([],) \u003e\u003e\u003e some_func() \u003e\u003e\u003e some_func.__defaults__ (['some_string'],) \u003e\u003e\u003e some_func() \u003e\u003e\u003e some_func.__defaults__ (['some_string', 'some_string'],) \u003e\u003e\u003e some_func([]) \u003e\u003e\u003e some_func.__defaults__ (['some_string', 'some_string'],) é¿å…å¯å˜å‚æ•°å¯¼è‡´çš„é”™è¯¯çš„å¸¸è§åšæ³•æ˜¯å°† None æŒ‡å®šä¸ºå‚æ•°çš„é»˜è®¤å€¼, ç„¶åæ£€æŸ¥æ˜¯å¦æœ‰å€¼ä¼ ç»™å¯¹åº”çš„å‚æ•°. ä¾‹:\n1 2 3 4 5 def some_func(default_arg=None): if not default_arg: default_arg = [] default_arg.append(\"some_string\") return default_arg \u003e Catching the Exceptions/æ•è·å¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12 some_list = [1, 2, 3] try: # è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``IndexError`` print(some_list[4]) except IndexError, ValueError: print(\"Caught!\") try: # è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``ValueError`` some_list.remove(4) except IndexError, ValueError: print(\"Caught again!\") Output (Python 2.x):\n1 2 3 Caught! ValueError: list.remove(x): x not in list Output (Python 3.x):\n1 2 3 4 File \"\", line 3 except IndexError, ValueError: ^ SyntaxError: invalid syntax ğŸ’¡ è¯´æ˜: å¦‚æœä½ æƒ³è¦åŒæ—¶æ•è·å¤šä¸ªä¸åŒç±»å‹çš„å¼‚å¸¸æ—¶, ä½ éœ€è¦å°†å®ƒä»¬ç”¨æ‹¬å·åŒ…æˆä¸€ä¸ªå…ƒç»„ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’. ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰åç§°, å¦‚æœä½ æä¾›, å®ƒå°†ä¸è¢«æ•è·çš„å¼‚å¸¸å®ä¾‹ç»‘å®š. ä¾‹,\n1 2 3 4 5 6 7 some_list = [1, 2, 3] try: # è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``ValueError`` some_list.remove(4) except (IndexError, ValueError), e: print(\"Caught again!\") print(e) Output (Python 2.x):\nCaught again!\rlist.remove(x): x not in list Output (Python 3.x):\n1 2 3 4 File \"\", line 4 except (IndexError, ValueError), e: ^ IndentationError: unindent does not match any outer indentation level åœ¨ Python 3 ä¸­, ç”¨é€—å·åŒºåˆ†å¼‚å¸¸ä¸å¯é€‰åç§°æ˜¯æ— æ•ˆçš„; æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨ as å…³é”®å­—. ä¾‹,\n1 2 3 4 5 6 7 some_list = [1, 2, 3] try: some_list.remove(4) except (IndexError, ValueError) as e: print(\"Caught again!\") print(e) Output:\nCaught again!\rlist.remove(x): x not in list \u003e Same operands, different story!/åŒäººä¸åŒå‘½! 1.\n1 2 3 a = [1, 2, 3, 4] b = a a = a + [5, 6, 7, 8] Output:\n1 2 3 4 \u003e\u003e\u003e a [1, 2, 3, 4, 5, 6, 7, 8] \u003e\u003e\u003e b [1, 2, 3, 4] 2.\n1 2 3 a = [1, 2, 3, 4] b = a a += [5, 6, 7, 8] Output:\n1 2 3 4 \u003e\u003e\u003e a [1, 2, 3, 4, 5, 6, 7, 8] \u003e\u003e\u003e b [1, 2, 3, 4, 5, 6, 7, 8] ğŸ’¡ è¯´æ˜: a += b å¹¶ä¸æ€»æ˜¯ä¸ a = a + b è¡¨ç°ç›¸åŒ. ç±»å®ç° op= è¿ç®—ç¬¦çš„æ–¹å¼ ä¹Ÿè®¸ æ˜¯ä¸åŒçš„, åˆ—è¡¨å°±æ˜¯è¿™æ ·åšçš„.\nè¡¨è¾¾å¼ a = a + [5,6,7,8] ä¼šç”Ÿæˆä¸€ä¸ªæ–°åˆ—è¡¨, å¹¶è®© a å¼•ç”¨è¿™ä¸ªæ–°åˆ—è¡¨, åŒæ—¶ä¿æŒ b ä¸å˜.\nè¡¨è¾¾å¼ a += [5,6,7,8] å®é™…ä¸Šæ˜¯ä½¿ç”¨çš„æ˜¯ â€œextendâ€ å‡½æ•°, æ‰€ä»¥ a å’Œ b ä»ç„¶æŒ‡å‘å·²è¢«ä¿®æ”¹çš„åŒä¸€åˆ—è¡¨.\n\u003e The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ 1 2 3 4 5 6 7 a = 1 def some_func(): return a def another_func(): a += 1 return a Output:\n1 2 3 4 \u003e\u003e\u003e some_func() 1 \u003e\u003e\u003e another_func() UnboundLocalError: local variable 'a' referenced before assignment ğŸ’¡ è¯´æ˜: å½“ä½ åœ¨ä½œç”¨åŸŸä¸­å¯¹å˜é‡è¿›è¡Œèµ‹å€¼æ—¶, å˜é‡ä¼šå˜æˆè¯¥ä½œç”¨åŸŸå†…çš„å±€éƒ¨å˜é‡. å› æ­¤ a ä¼šå˜æˆ another_func å‡½æ•°ä½œç”¨åŸŸä¸­çš„å±€éƒ¨å˜é‡, ä½†å®ƒåœ¨å‡½æ•°ä½œç”¨åŸŸä¸­å¹¶æ²¡æœ‰è¢«åˆå§‹åŒ–, æ‰€ä»¥ä¼šå¼•å‘é”™è¯¯.\nå¯ä»¥é˜…è¯»è¿™ä¸ª ç®€çŸ­å´å¾ˆæ£’çš„æŒ‡å—, äº†è§£æ›´å¤šå…³äº Python ä¸­å‘½åç©ºé—´å’Œä½œç”¨åŸŸçš„å·¥ä½œåŸç†.\næƒ³è¦åœ¨ another_func ä¸­ä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ a çš„è¯, å¯ä»¥ä½¿ç”¨ global å…³é”®å­—.\n1 2 3 4 def another_func() global a a += 1 return a Output:\n1 2 \u003e\u003e\u003e another_func() 2 \u003e Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u003e\u003e\u003e (False == False) in [False] # å¯ä»¥ç†è§£ False \u003e\u003e\u003e False == (False in [False]) # å¯ä»¥ç†è§£ False \u003e\u003e\u003e False == False in [False] # ä¸ºæ¯›? True \u003e\u003e\u003e True is False == False False \u003e\u003e\u003e False is False is False True \u003e\u003e\u003e 1 \u003e 0 \u003c 1 True \u003e\u003e\u003e (1 \u003e 0) \u003c 1 False \u003e\u003e\u003e 1 \u003e (0 \u003c 1) False ğŸ’¡ è¯´æ˜: æ ¹æ® https://docs.python.org/2/reference/expressions.html#not-in å½¢å¼ä¸Š, å¦‚æœ a, b, c, â€¦, y, z æ˜¯è¡¨è¾¾å¼, è€Œ op1, op2, â€¦, opN æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦, é‚£ä¹ˆé™¤äº†æ¯ä¸ªè¡¨è¾¾å¼æœ€å¤šåªå‡ºç°ä¸€æ¬¡ä»¥å¤– a op1 b op2 c â€¦ y opN z å°±ç­‰äº a op1 b and b op2 c and â€¦ y opN z.\nè™½ç„¶ä¸Šé¢çš„ä¾‹å­ä¼¼ä¹å¾ˆæ„šè ¢, ä½†æ˜¯åƒ a == b == c æˆ– 0 \u003c= x \u003c= 100 å°±å¾ˆæ£’äº†.\nFalse is False is False ç›¸å½“äº (False is False) and (False is False) True is False == False ç›¸å½“äº True is False and False == False, ç”±äºè¯­å¥çš„ç¬¬ä¸€éƒ¨åˆ† (True is False) ç­‰äº False, å› æ­¤æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœä¸º False. 1 \u003e 0 \u003c 1 ç›¸å½“äº 1 \u003e 0 and 0 \u003c 1, æ‰€ä»¥æœ€ç»ˆç»“æœä¸º True. è¡¨è¾¾å¼ (1 \u003e 0) \u003c 1 ç›¸å½“äº True \u003c 1 ä¸” 1 2 3 4 \u003e\u003e\u003e int(True) 1 \u003e\u003e\u003e True + 1 # ä¸è¿™ä¸ªä¾‹å­æ— å…³ï¼Œåªæ˜¯å¥½ç© 2 æ‰€ä»¥, 1 \u003c 1 ç­‰äº False \u003e Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ 1.\n1 2 3 4 x = 5 class SomeClass: x = 17 y = (x for i in range(10)) Output:\n1 2 \u003e\u003e\u003e list(SomeClass.y)[0] 5 2.\n1 2 3 4 x = 5 class SomeClass: x = 17 y = [x for i in range(10)] Output (Python 2.x):\n1 2 \u003e\u003e\u003e SomeClass.y[0] 17 Output (Python 3.x):\n1 2 \u003e\u003e\u003e SomeClass.y[0] 5 ğŸ’¡ è¯´æ˜: ç±»å®šä¹‰ä¸­åµŒå¥—çš„ä½œç”¨åŸŸä¼šå¿½ç•¥ç±»å†…çš„åç§°ç»‘å®š. ç”Ÿæˆå™¨è¡¨è¾¾å¼æœ‰å®ƒè‡ªå·±çš„ä½œç”¨åŸŸ. ä» Python 3.X å¼€å§‹, åˆ—è¡¨æ¨å¯¼å¼ä¹Ÿæœ‰è‡ªå·±çš„ä½œç”¨åŸŸ. \u003e Needle in a Haystack/å¤§æµ·æé’ˆ 1.\n1 x, y = (0, 1) if True else None, None Output:\n\u003e\u003e\u003e x, y # æœŸæœ›çš„ç»“æœæ˜¯ (0, 1)\r((0, 1), None) å‡ ä¹æ¯ä¸ª Python ç¨‹åºå‘˜éƒ½é‡åˆ°è¿‡ç±»ä¼¼çš„æƒ…å†µ.\n2.\n1 2 3 4 5 6 7 8 9 10 t = ('one', 'two') for i in t: print(i) t = ('one') for i in t: print(i) t = () print(t) Output:\n1 2 3 4 5 6 one two o n e tuple() ğŸ’¡ è¯´æ˜: å¯¹äº 1, æ­£ç¡®çš„è¯­å¥æ˜¯ x, y = (0, 1) if True else (None, None). å¯¹äº 2, æ­£ç¡®çš„è¯­å¥æ˜¯ t = ('one',) æˆ–è€… t = 'one', (ç¼ºå°‘é€—å·) å¦åˆ™è§£é‡Šå™¨ä¼šè®¤ä¸º t æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸², å¹¶é€ä¸ªå­—ç¬¦å¯¹å…¶è¿›è¡Œè¿­ä»£. () æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ï¼Œè¡¨ç¤ºç©ºå…ƒç»„. Section: The Hidden treasures!/éšè—çš„å®è—! This section contains few of the lesser-known interesting things about Python that most beginners like me are unaware of (well, not anymore).\n\u003e Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? * å¥½, å»å§.\n1 import antigravity Output: å˜˜.. è¿™æ˜¯ä¸ªè¶…çº§ç§˜å¯†.\nğŸ’¡ è¯´æ˜: antigravity æ¨¡å—æ˜¯ Python å¼€å‘äººå‘˜å‘å¸ƒçš„å°‘æ•°å¤æ´»èŠ‚å½©è›‹ä¹‹ä¸€. import antigravity ä¼šæ‰“å¼€ä¸€ä¸ª Python çš„ç»å…¸ XKCD æ¼«ç”» é¡µé¢. ä¸æ­¢å¦‚æ­¤. è¿™ä¸ªå¤æ´»èŠ‚å½©è›‹é‡Œè¿˜æœ‰ä¸€ä¸ªå¤æ´»èŠ‚å½©è›‹. å¦‚æœä½ çœ‹ä¸€ä¸‹ä»£ç  , å°±ä¼šå‘ç°è¿˜æœ‰ä¸€ä¸ªå‡½æ•°å®ç°äº† XKCDâ€™s geohashing ç®—æ³• . \u003e goto, but why?/goto, ä½†ä¸ºä»€ä¹ˆ? * 1 2 3 4 5 6 7 8 9 from goto import goto, label for i in range(9): for j in range(9): for k in range(9): print(\"I'm trapped, please rescue!\") if k == 2: goto .breakout # ä»å¤šé‡å¾ªç¯ä¸­è·³å‡º label .breakout print(\"Freedom!\") Output (Python 2.3):\n1 2 3 I'm trapped, please rescue! I'm trapped, please rescue! Freedom! ğŸ’¡ è¯´æ˜: 2004å¹´4æœˆ1æ—¥, Python å®£å¸ƒ åŠ å…¥ä¸€ä¸ªå¯ç”¨çš„ goto ä½œä¸ºæ„šäººèŠ‚ç¤¼ç‰©. å½“å‰ç‰ˆæœ¬çš„ Python å¹¶æ²¡æœ‰è¿™ä¸ªæ¨¡å—. å°±ç®—å¯ä»¥ç”¨, ä¹Ÿè¯·ä¸è¦ä½¿ç”¨å®ƒ. è¿™é‡Œæ˜¯ä¸ºä»€ä¹ˆPythonä¸­æ²¡æœ‰ goto çš„åŸå›  . \u003e Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ * å¦‚æœä½ ä¸å–œæ¬¢åœ¨Pythonä¸­ä½¿ç”¨ç©ºæ ¼æ¥è¡¨ç¤ºä½œç”¨åŸŸ, ä½ å¯ä»¥å¯¼å…¥ C é£æ ¼çš„ {},\n1 from __future__ import braces Output:\n1 2 3 File \"some_file.py\", line 1 from __future__ import braces SyntaxError: not a chance æƒ³ç”¨å¤§æ‹¬å·? æ²¡é—¨! è§‰å¾—ä¸çˆ½, è¯·å»ç”¨java.\nğŸ’¡ è¯´æ˜: é€šå¸¸ __future__ ä¼šæä¾› Python æœªæ¥ç‰ˆæœ¬çš„åŠŸèƒ½. ç„¶è€Œï¼Œè¿™é‡Œçš„ â€œæœªæ¥â€ æ˜¯ä¸€ä¸ªè®½åˆº. è¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾ç¤¾åŒºå¯¹æ­¤ç±»é—®é¢˜æ€åº¦çš„å¤æ´»èŠ‚å½©è›‹. \u003e Letâ€™s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ * Output (Python 3.x)\n1 2 3 4 5 6 7 8 9 \u003e\u003e\u003e from __future__ import barry_as_FLUFL \u003e\u003e\u003e \"Ruby\" != \"Python\" # è¿™é‡Œæ²¡ä»€ä¹ˆç–‘é—® File \"some_file.py\", line 1 \"Ruby\" != \"Python\" ^ SyntaxError: invalid syntax \u003e\u003e\u003e \"Ruby\" \u003c\u003e \"Python\" True è¿™å°±å¯¹äº†.\nğŸ’¡ è¯´æ˜: ç›¸å…³çš„ PEP-401 å‘å¸ƒäº 2009å¹´4æœˆ1æ—¥ (æ‰€ä»¥ä½ ç°åœ¨çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆäº†å§).\nå¼•ç”¨ PEP-401\næ„è¯†åˆ° Python 3.0 é‡Œçš„ != è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªä¼šå¼•èµ·æ‰‹æŒ‡ç–¼ç—›çš„ææ€–é”™è¯¯, FLUFL å°† \u003c\u003e è¿ç®—ç¬¦æ¢å¤ä¸ºå”¯ä¸€å†™æ³•.\nUncle Barry åœ¨ PEP ä¸­è¿˜åˆ†äº«äº†å…¶ä»–ä¸œè¥¿; ä½ å¯ä»¥åœ¨è¿™é‡Œ è·å¾—ä»–ä»¬.\n(è¯‘: è™½ç„¶æ–‡æ¡£ä¸­æ²¡å†™ï¼Œä½†åº”è¯¥æ˜¯åªèƒ½åœ¨äº¤äº’è§£é‡Šå™¨ä¸­ä½¿ç”¨.)\n\u003e Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ * 1 import this ç­‰ç­‰, this æ˜¯ä»€ä¹ˆ? this æ˜¯çˆ± :heart:\nOutput:\nThe Zen of Python, by Tim Peters\rBeautiful is better than ugly.\rä¼˜ç¾èƒœäºä¸‘é™‹ï¼ˆPython ä»¥ç¼–å†™ä¼˜ç¾çš„ä»£ç ä¸ºç›®æ ‡ï¼‰\rExplicit is better than implicit.\ræ˜äº†èƒœäºæ™¦æ¶©ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ˜äº†çš„ï¼Œå‘½åè§„èŒƒï¼Œé£æ ¼ç›¸ä¼¼ï¼‰\rSimple is better than complex.\rç®€æ´èƒœäºå¤æ‚ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯ç®€æ´çš„ï¼Œä¸è¦æœ‰å¤æ‚çš„å†…éƒ¨å®ç°ï¼‰\rComplex is better than complicated.\rå¤æ‚èƒœäºå‡Œä¹±ï¼ˆå¦‚æœå¤æ‚ä¸å¯é¿å…ï¼Œé‚£ä»£ç é—´ä¹Ÿä¸èƒ½æœ‰éš¾æ‡‚çš„å…³ç³»ï¼Œè¦ä¿æŒæ¥å£ç®€æ´ï¼‰\rFlat is better than nested.\ræ‰å¹³èƒœäºåµŒå¥—ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ‰å¹³çš„ï¼Œä¸èƒ½æœ‰å¤ªå¤šçš„åµŒå¥—ï¼‰\rSparse is better than dense.\ré—´éš”èƒœäºç´§å‡‘ï¼ˆä¼˜ç¾çš„ä»£ç æœ‰é€‚å½“çš„é—´éš”ï¼Œä¸è¦å¥¢æœ›ä¸€è¡Œä»£ç è§£å†³é—®é¢˜ï¼‰\rReadability counts.\rå¯è¯»æ€§å¾ˆé‡è¦ï¼ˆä¼˜ç¾çš„ä»£ç ä¸€å®šæ˜¯å¯è¯»çš„ï¼‰\rSpecial cases aren't special enough to break the rules.\ræ²¡æœ‰ç‰¹ä¾‹ç‰¹æ®Šåˆ°éœ€è¦è¿èƒŒè¿™äº›è§„åˆ™ï¼ˆè¿™äº›è§„åˆ™è‡³é«˜æ— ä¸Šï¼‰\rAlthough practicality beats purity.\rå°½ç®¡æˆ‘ä»¬æ›´å€¾å‘äºå®ç”¨æ€§\rErrors should never pass silently.\rä¸è¦å®‰é™çš„åŒ…å®¹æ‰€æœ‰é”™è¯¯\rUnless explicitly silenced.\ré™¤éä½ ç¡®å®šéœ€è¦è¿™æ ·åšï¼ˆç²¾å‡†åœ°æ•è·å¼‚å¸¸ï¼Œä¸å†™ except:pass é£æ ¼çš„ä»£ç ï¼‰\rIn the face of ambiguity, refuse the temptation to guess.\ræ‹’ç»è¯±æƒ‘ä½ å»çŒœæµ‹çš„æš§æ˜§äº‹ç‰©\rThere should be one-- and preferably only one --obvious way to do it.\rè€Œæ˜¯å°½é‡æ‰¾ä¸€ç§ï¼Œæœ€å¥½æ˜¯å”¯ä¸€ä¸€ç§æ˜æ˜¾çš„è§£å†³æ–¹æ¡ˆï¼ˆå¦‚æœä¸ç¡®å®šï¼Œå°±ç”¨ç©·ä¸¾æ³•ï¼‰\rAlthough that way may not be obvious at first unless you're Dutch.\rè™½ç„¶è¿™å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºä½ ä¸æ˜¯ Python ä¹‹çˆ¶ï¼ˆè¿™é‡Œçš„ Dutch æ˜¯æŒ‡ Guido ï¼‰\rNow is better than never.\rç°åœ¨è¡ŒåŠ¨å¥½è¿‡æ°¸è¿œä¸è¡ŒåŠ¨\rAlthough never is often better than *right* now.\rå°½ç®¡ä¸è¡ŒåŠ¨è¦å¥½è¿‡é²è½è¡ŒåŠ¨\rIf the implementation is hard to explain, it's a bad idea.\rå¦‚æœä½ æ— æ³•å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£è‚¯å®šä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼›\rIf the implementation is easy to explain, it may be a good idea.\rå¦‚æœä½ èƒ½è½»æ¾å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£ä¹Ÿè®¸ä¼šæ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼ˆæ–¹æ¡ˆæµ‹è¯„æ ‡å‡†ï¼‰\rNamespaces are one honking great idea -- let's do more of those!\rå‘½åç©ºé—´æ˜¯ä¸€ç§ç»å¦™çš„ç†å¿µï¼Œæˆ‘ä»¬åº”å½“å¤šåŠ åˆ©ç”¨ï¼ˆå€¡å¯¼ä¸å·å¬ï¼‰ è¿™æ˜¯ Python ä¹‹ç¦…!\n1 2 3 4 5 6 7 8 9 10 11 \u003e\u003e\u003e love = this \u003e\u003e\u003e this is love True \u003e\u003e\u003e love is True False \u003e\u003e\u003e love is False False \u003e\u003e\u003e love is not True or False True \u003e\u003e\u003e love is not True or False; love is love # çˆ±æ˜¯éš¾è¨€çš„ True ğŸ’¡ è¯´æ˜: this æ¨¡å—æ˜¯å…³äº Python ä¹‹ç¦…çš„å¤æ´»èŠ‚å½©è›‹ (PEP 20 ). å¦‚æœä½ è®¤ä¸ºè¿™å·²ç»å¤Ÿæœ‰è¶£çš„äº†, å¯ä»¥çœ‹çœ‹ this.py çš„å®ç°. æœ‰è¶£çš„æ˜¯, Python ä¹‹ç¦…çš„å®ç°ä»£ç è¿åäº†ä»–è‡ªå·± (è¿™å¯èƒ½æ˜¯å”¯ä¸€ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µçš„åœ°æ–¹). * è‡³äº love is not True or False; love is love, æ„å¤–å´åˆä¸è¨€è€Œå–». \u003e Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨! å¾ªç¯çš„ else. ä¸€ä¸ªå…¸å‹çš„ä¾‹å­:\n1 2 3 4 5 6 7 def does_exists_num(l, to_find): for num in l: if num == to_find: print(\"Exists!\") break else: print(\"Does not exist\") Output:\n1 2 3 4 5 \u003e\u003e\u003e some_list = [1, 2, 3, 4, 5] \u003e\u003e\u003e does_exists_num(some_list, 4) Exists! \u003e\u003e\u003e does_exists_num(some_list, -1) Does not exist å¼‚å¸¸çš„ else . ä¾‹,\n1 2 3 4 5 6 try: pass except: print(\"Exception occurred!!!\") else: print(\"Try block executed successfully...\") Output:\n1 Try block executed successfully... ğŸ’¡ è¯´æ˜: å¾ªç¯åçš„ else å­å¥åªä¼šåœ¨å¾ªç¯æ²¡æœ‰è§¦å‘ break è¯­å¥, æ­£å¸¸ç»“æŸçš„æƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œ. try ä¹‹åçš„ else å­å¥ä¹Ÿè¢«ç§°ä¸º â€œå®Œæˆå­å¥â€, å› ä¸ºåœ¨ try è¯­å¥ä¸­åˆ°è¾¾ else å­å¥æ„å‘³ç€tryå—å®é™…ä¸Šå·²æˆåŠŸå®Œæˆ. \u003e Inpinity/æ— é™ * è‹±æ–‡æ‹¼å†™æ˜¯æœ‰æ„çš„, è¯·ä¸è¦ä¸ºæ­¤æäº¤è¡¥ä¸. (è¯‘: è¿™é‡Œæ˜¯ä¸ºäº†çªå‡º Python ä¸­æ— é™çš„å®šä¹‰ä¸Pi æœ‰å…³, æ‰€ä»¥å°†ä¸¤ä¸ªå•è¯æ‹¼æ¥äº†.)\nOutput (Python 3.x):\n1 2 3 4 5 \u003e\u003e\u003e infinity = float('infinity') \u003e\u003e\u003e hash(infinity) 314159 \u003e\u003e\u003e hash(float('-inf')) -314159 ğŸ’¡ è¯´æ˜: infinity çš„å“ˆå¸Œå€¼æ˜¯ 10âµ x Ï€. æœ‰æ„æ€çš„æ˜¯, float('-inf') çš„å“ˆå¸Œå€¼åœ¨ Python 3 ä¸­æ˜¯ â€œ-10âµ x Ï€â€ , è€Œåœ¨ Python 2 ä¸­æ˜¯ â€œ-10âµ x eâ€. \u003e Mangling time!/ä¿®é¥°æ—¶é—´! * 1 2 3 4 class Yo(object): def __init__(self): self.__honey = True self.bitch = True Output:\n1 2 3 4 5 6 \u003e\u003e\u003e Yo().bitch True \u003e\u003e\u003e Yo().__honey AttributeError: 'Yo' object has no attribute '__honey' \u003e\u003e\u003e Yo()._Yo__honey True ä¸ºä»€ä¹ˆ Yo()._Yo__honey èƒ½è¿è¡Œ? åªæœ‰å°åº¦äººç†è§£.(è¯‘: è¿™ä¸ªæ¢—å¯èƒ½æ˜¯æŒ‡å°åº¦éŸ³ä¹äººYo Yo Honey Singh )\nğŸ’¡ è¯´æ˜: åå­—ä¿®é¥° ç”¨äºé¿å…ä¸åŒå‘½åç©ºé—´ä¹‹é—´åç§°å†²çª. åœ¨ Python ä¸­, è§£é‡Šå™¨ä¼šé€šè¿‡ç»™ç±»ä¸­ä»¥ __ (åŒä¸‹åˆ’çº¿)å¼€å¤´ä¸”ç»“å°¾æœ€å¤šåªæœ‰ä¸€ä¸ªä¸‹åˆ’çº¿çš„ç±»æˆå‘˜åç§°åŠ ä¸Š_NameOfTheClass æ¥ä¿®é¥°(mangles)åç§°. æ‰€ä»¥, è¦è®¿é—® __honey å¯¹è±¡,æˆ‘ä»¬éœ€è¦åŠ ä¸Š _Yo ä»¥é˜²æ­¢ä¸å…¶ä»–ç±»ä¸­å®šä¹‰çš„ç›¸åŒåç§°çš„å±æ€§å‘ç”Ÿå†²çª. Section: Miscellaneous/æ‚é¡¹ \u003e += is faster/æ›´å¿«çš„ += 1 2 3 4 5 6 # ç”¨ \"+\" è¿æ¥ä¸‰ä¸ªå­—ç¬¦ä¸²: \u003e\u003e\u003e timeit.timeit(\"s1 = s1 + s2 + s3\", setup=\"s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000\", number=100) 0.25748300552368164 # ç”¨ \"+=\" è¿æ¥ä¸‰ä¸ªå­—ç¬¦ä¸²: \u003e\u003e\u003e timeit.timeit(\"s1 += s2 + s3\", setup=\"s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000\", number=100) 0.012188911437988281 ğŸ’¡ è¯´æ˜: è¿æ¥ä¸¤ä¸ªä»¥ä¸Šçš„å­—ç¬¦ä¸²æ—¶ += æ¯” + æ›´å¿«, å› ä¸ºåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸² (ä¾‹å¦‚, s1 += s2 + s3 ä¸­çš„ s1) ä¸ä¼šè¢«é”€æ¯.(è¯‘: å°±æ˜¯ += æ‰§è¡Œçš„æ˜¯è¿½åŠ æ“ä½œï¼Œå°‘äº†ä¸€ä¸ªé”€æ¯æ–°å»ºçš„åŠ¨ä½œ.) \u003e Letâ€™s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§ï¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 def add_string_with_plus(iters): s = \"\" for i in range(iters): s += \"xyz\" assert len(s) == 3*iters def add_bytes_with_plus(iters): s = b\"\" for i in range(iters): s += b\"xyz\" assert len(s) == 3*iters def add_string_with_format(iters): fs = \"{}\"*iters s = fs.format(*([\"xyz\"]*iters)) assert len(s) == 3*iters def add_string_with_join(iters): l = [] for i in range(iters): l.append(\"xyz\") s = \"\".join(l) assert len(s) == 3*iters def convert_list_to_string(l, iters): s = \"\".join(l) assert len(s) == 3*iters Output:\n1 2 3 4 5 6 7 8 9 10 11 \u003e\u003e\u003e timeit(add_string_with_plus(10000)) 1000 loops, best of 3: 972 Âµs per loop \u003e\u003e\u003e timeit(add_bytes_with_plus(10000)) 1000 loops, best of 3: 815 Âµs per loop \u003e\u003e\u003e timeit(add_string_with_format(10000)) 1000 loops, best of 3: 508 Âµs per loop \u003e\u003e\u003e timeit(add_string_with_join(10000)) 1000 loops, best of 3: 878 Âµs per loop \u003e\u003e\u003e l = [\"xyz\"]*10000 \u003e\u003e\u003e timeit(convert_list_to_string(l, 10000)) 10000 loops, best of 3: 80 Âµs per loop è®©æˆ‘ä»¬å°†è¿­ä»£æ¬¡æ•°å¢åŠ 10å€.\n1 2 3 4 5 6 7 8 9 10 11 \u003e\u003e\u003e timeit(add_string_with_plus(100000)) # æ‰§è¡Œæ—¶é—´çº¿æ€§å¢åŠ  100 loops, best of 3: 9.75 ms per loop \u003e\u003e\u003e timeit(add_bytes_with_plus(100000)) # äºŒæ¬¡å¢åŠ  1000 loops, best of 3: 974 ms per loop \u003e\u003e\u003e timeit(add_string_with_format(100000)) # çº¿æ€§å¢åŠ  100 loops, best of 3: 5.25 ms per loop \u003e\u003e\u003e timeit(add_string_with_join(100000)) # çº¿æ€§å¢åŠ  100 loops, best of 3: 9.85 ms per loop \u003e\u003e\u003e l = [\"xyz\"]*100000 \u003e\u003e\u003e timeit(convert_list_to_string(l, 100000)) # çº¿æ€§å¢åŠ  1000 loops, best of 3: 723 Âµs per loop ğŸ’¡ è¯´æ˜: ä½ å¯ä»¥åœ¨è¿™è·å¾—æ›´å¤š timeit çš„ç›¸å…³ä¿¡æ¯. å®ƒé€šå¸¸ç”¨äºè¡¡é‡ä»£ç ç‰‡æ®µçš„æ‰§è¡Œæ—¶é—´. ä¸è¦ç”¨ + å»ç”Ÿæˆè¿‡é•¿çš„å­—ç¬¦ä¸², åœ¨ Python ä¸­, str æ˜¯ä¸å¯å˜çš„, æ‰€ä»¥åœ¨æ¯æ¬¡è¿æ¥ä¸­ä½ éƒ½è¦æŠŠå·¦å³ä¸¤ä¸ªå­—ç¬¦ä¸²å¤åˆ¶åˆ°æ–°çš„å­—ç¬¦ä¸²ä¸­. å¦‚æœä½ è¿æ¥å››ä¸ªé•¿åº¦ä¸º10çš„å­—ç¬¦ä¸², ä½ éœ€è¦æ‹·è´ (10+10) + ((10+10)+10) + (((10+10)+10)+10) = 90 ä¸ªå­—ç¬¦è€Œä¸æ˜¯ 40 ä¸ªå­—ç¬¦. éšç€å­—ç¬¦ä¸²çš„æ•°é‡å’Œå¤§å°çš„å¢åŠ , æƒ…å†µä¼šå˜å¾—è¶Šå‘çš„ç³Ÿç³• (å°±åƒadd_bytes_with_plus å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ä¸€æ ·) å› æ­¤, æ›´å»ºè®®ä½¿ç”¨ .format. æˆ– % è¯­æ³• (ä½†æ˜¯, å¯¹äºçŸ­å­—ç¬¦ä¸², å®ƒä»¬æ¯” + ç¨æ…¢ä¸€ç‚¹). åˆæˆ–è€…, å¦‚æœä½ æ‰€éœ€çš„å†…å®¹å·²ç»ä»¥å¯è¿­ä»£å¯¹è±¡çš„å½¢å¼æä¾›äº†, ä½¿ç”¨ ''.join(å¯è¿­ä»£å¯¹è±¡) è¦å¿«å¤šäº†. add_string_with_plus çš„æ‰§è¡Œæ—¶é—´æ²¡æœ‰åƒ add_bytes_with_plus ä¸€æ ·å‡ºç°äºŒæ¬¡å¢åŠ æ˜¯å› ä¸ºè§£é‡Šå™¨ä¼šå¦‚åŒä¸Šä¸€ä¸ªä¾‹å­æ‰€è®¨è®ºçš„ä¸€æ ·ä¼˜åŒ– +=. ç”¨ s = s + \"x\" + \"y\" + \"z\" æ›¿ä»£ s += \"xyz\" çš„è¯, æ‰§è¡Œæ—¶é—´å°±ä¼šäºŒæ¬¡å¢åŠ äº†. 1 2 3 4 5 6 7 8 9 10 def add_string_with_plus(iters): s = \"\" for i in range(iters): s = s + \"x\" + \"y\" + \"z\" assert len(s) == 3*iters \u003e\u003e\u003e timeit(add_string_with_plus(10000)) 100 loops, best of 3: 9.87 ms per loop \u003e\u003e\u003e timeit(add_string_with_plus(100000)) # æ‰§è¡Œæ—¶é—´äºŒæ¬¡å¢åŠ  1 loops, best of 3: 1.09 s per loop \u003e Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢ 1 2 3 4 a = float('inf') b = float('nan') c = float('-iNf') # è¿™äº›å­—ç¬¦ä¸²ä¸åŒºåˆ†å¤§å°å†™ d = float('nan') Output:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u003e\u003e\u003e a inf \u003e\u003e\u003e b nan \u003e\u003e\u003e c -inf \u003e\u003e\u003e float('some_other_string') ValueError: could not convert string to float: some_other_string \u003e\u003e\u003e a == -c #inf==inf True \u003e\u003e\u003e None == None # None==None True \u003e\u003e\u003e b == d #ä½†æ˜¯ nan!=nan False \u003e\u003e\u003e 50/a 0.0 \u003e\u003e\u003e a/a nan \u003e\u003e\u003e 23 + b nan ğŸ’¡ è¯´æ˜: 'inf' å’Œ 'nan' æ˜¯ç‰¹æ®Šçš„å­—ç¬¦ä¸²(ä¸åŒºåˆ†å¤§å°å†™), å½“æ˜¾ç¤ºè½¬æ¢æˆ float å‹æ—¶, å®ƒä»¬åˆ†åˆ«ç”¨äºè¡¨ç¤ºæ•°å­¦æ„ä¹‰ä¸Šçš„ â€œæ— ç©·å¤§â€ å’Œ â€œéæ•°å­—â€.\n\u003e Minor Ones/å°çŸ¥è¯†ç‚¹ join() æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ“ä½œè€Œä¸æ˜¯åˆ—è¡¨æ“ä½œ. (ç¬¬ä¸€æ¬¡æ¥è§¦ä¼šè§‰å¾—æœ‰ç‚¹è¿åç›´è§‰)\nğŸ’¡ è¯´æ˜: å¦‚æœ join() æ˜¯å­—ç¬¦ä¸²æ–¹æ³• é‚£ä¹ˆå®ƒå°±å¯ä»¥å¤„ç†ä»»ä½•å¯è¿­ä»£çš„å¯¹è±¡(åˆ—è¡¨ï¼Œå…ƒç»„ï¼Œè¿­ä»£å™¨). å¦‚æœå®ƒæ˜¯åˆ—è¡¨æ–¹æ³•, åˆ™å¿…é¡»åœ¨æ¯ç§ç±»å‹ä¸­å•ç‹¬å®ç°. å¦å¤–, åœ¨ list å¯¹è±¡çš„é€šç”¨APIä¸­å®ç°ä¸€ä¸ªä¸“ç”¨äºå­—ç¬¦ä¸²çš„æ–¹æ³•æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰.\nçœ‹ç€å¥‡æ€ªä½†èƒ½æ­£ç¡®è¿è¡Œçš„è¯­å¥:\n[] = () è¯­å¥åœ¨è¯­ä¹‰ä¸Šæ˜¯æ­£ç¡®çš„ (è§£åŒ…ä¸€ä¸ªç©ºçš„ tuple å¹¶èµ‹å€¼ç»™ list) 'a'[0][0][0][0][0] åœ¨è¯­ä¹‰ä¸Šä¹Ÿæ˜¯æ­£ç¡®çš„, å› ä¸ºåœ¨ Python ä¸­å­—ç¬¦ä¸²åŒæ—¶ä¹Ÿæ˜¯åºåˆ— (å¯è¿­ä»£å¯¹è±¡æ”¯æŒä½¿ç”¨æ•´æ•°ç´¢å¼•è®¿é—®å…ƒç´ ). 3 --0-- 5 == 8 å’Œ --5 == 5 åœ¨è¯­ä¹‰ä¸Šéƒ½æ˜¯æ­£ç¡®çš„, ä¸”ç»“æœç­‰äº True.(è¯‘: 3å‡è´Ÿ0ç­‰äº3ï¼Œå†å‡è´Ÿ5ç›¸å½“äºåŠ 5ç­‰äº8ï¼›è´Ÿçš„è´Ÿ5ç­‰äº5.) é‰´äº a æ˜¯ä¸€ä¸ªæ•°å­—, ++a å’Œ --a éƒ½æ˜¯æœ‰æ•ˆçš„ Python è¯­å¥, ä½†å…¶æ•ˆæœä¸ C, C++ æˆ– Java ç­‰ä¸ä¸€æ ·.\n1 2 3 4 5 6 7 \u003e\u003e\u003e a = 5 \u003e\u003e\u003e a 5 \u003e\u003e\u003e ++a 5 \u003e\u003e\u003e --a 5 ğŸ’¡ è¯´æ˜:\npython é‡Œæ²¡æœ‰ ++ æ“ä½œç¬¦. è¿™å…¶å®æ˜¯ä¸¤ä¸ª + æ“ä½œç¬¦. ++a è¢«è§£æä¸º +(+a) æœ€åç­‰äº a. --a åŒç†. è¿™ä¸ª StackOverflow å›ç­” è®¨è®ºäº†ä¸ºä»€ä¹ˆ Python ä¸­ç¼ºå°‘å¢é‡å’Œå‡é‡è¿ç®—ç¬¦. Python ä½¿ç”¨ 2ä¸ªå­—èŠ‚å­˜å‚¨å‡½æ•°ä¸­çš„æœ¬åœ°å˜é‡. ç†è®ºä¸Š, è¿™æ„å‘³ç€å‡½æ•°ä¸­åªèƒ½å®šä¹‰65536ä¸ªå˜é‡. ä½†æ˜¯ï¼ŒPython å†…ç½®äº†ä¸€ä¸ªæ–¹ä¾¿çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ç”¨äºå­˜å‚¨è¶…è¿‡2^16ä¸ªå˜é‡å. ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å½“å®šä¹‰äº†è¶…è¿‡65536ä¸ªå±€éƒ¨å˜é‡æ—¶å †æ ˆä¸­å‘ç”Ÿçš„æƒ…å†µ (è­¦å‘Š: è¿™æ®µä»£ç ä¼šæ‰“å°å¤§çº¦2^18è¡Œæ–‡æœ¬, è¯·åšå¥½å‡†å¤‡!):\n1 2 3 4 5 6 7 8 9 import dis exec(\"\"\" def f(): \"\"\" + \"\"\" \"\"\".join([\"X\"+str(x)+\"=\" + str(x) for x in range(65539)])) f() print(dis.dis(f)) ä½ çš„ Python ä»£ç  å¹¶ä¸ä¼šå¤šçº¿ç¨‹åŒæ—¶è¿è¡Œ (æ˜¯çš„, ä½ æ²¡å¬é”™!). è™½ç„¶ä½ è§‰å¾—ä¼šäº§ç”Ÿå¤šä¸ªçº¿ç¨‹å¹¶è®©å®ƒä»¬åŒæ—¶æ‰§è¡Œä½ çš„ä»£ç , ä½†æ˜¯, ç”±äº å…¨å±€è§£é‡Šé” çš„å­˜åœ¨, ä½ æ‰€åšçš„åªæ˜¯è®©ä½ çš„çº¿ç¨‹ä¾æ¬¡åœ¨åŒä¸€ä¸ªæ ¸å¿ƒä¸Šæ‰§è¡Œ. Python å¤šçº¿ç¨‹é€‚ç”¨äºIOå¯†é›†å‹çš„ä»»åŠ¡, ä½†å¦‚æœæƒ³è¦å¹¶è¡Œå¤„ç†CPUå¯†é›†å‹çš„ä»»åŠ¡, ä½ åº”è¯¥ä¼šæƒ³ä½¿ç”¨ multiprocessing æ¨¡å—.\nåˆ—è¡¨åˆ‡ç‰‡è¶…å‡ºç´¢å¼•è¾¹ç•Œè€Œä¸å¼•å‘ä»»ä½•é”™è¯¯\n1 2 3 \u003e\u003e\u003e some_list = [1, 2, 3, 4, 5] \u003e\u003e\u003e some_list[111:] [] int('Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©') åœ¨ Python 3 ä¸­ä¼šè¿”å› 123456789. åœ¨ Python ä¸­, åè¿›åˆ¶å­—ç¬¦åŒ…æ‹¬æ•°å­—å­—ç¬¦, ä»¥åŠå¯ç”¨äºå½¢æˆåè¿›åˆ¶æ•°å­—çš„æ‰€æœ‰å­—ç¬¦, ä¾‹å¦‚: U+0660, ARABIC-INDIC DIGIT ZERO. è¿™æœ‰ä¸€ä¸ªå…³äºæ­¤çš„ æœ‰è¶£æ•…äº‹ .\n'abc'.count('') == 4. è¿™æœ‰ä¸€ä¸ª count æ–¹æ³•çš„ç›¸è¿‘å®ç°, èƒ½æ›´å¥½çš„è¯´æ˜é—®é¢˜\n1 2 3 4 5 def count(s, sub): result = 0 for i in range(len(s) + 1 - len(sub)): result += (s[i:i + len(sub)] == sub) return result è¿™ä¸ªè¡Œä¸ºæ˜¯ç”±äºç©ºå­ä¸²('')ä¸åŸå§‹å­—ç¬¦ä¸²ä¸­é•¿åº¦ä¸º0çš„åˆ‡ç‰‡ç›¸åŒ¹é…å¯¼è‡´çš„.\nContributing/è´¡çŒ® æ¬¢è¿å„ç§è¡¥ä¸! è¯¦æƒ…è¯·çœ‹CONTRIBUTING.md .(è¯‘: è¿™æ˜¯ç»™åŸåº“æè´¡çŒ®çš„è¦æ±‚æ¨¡ç‰ˆ)\nä½ å¯ä»¥é€šè¿‡æ–°å»º issue æˆ–è€…åœ¨ä¸Š Gitter ä¸æˆ‘ä»¬è¿›è¡Œè®¨è®º.\n(è¯‘: å¦‚æœä½ æƒ³å¯¹è¿™ä¸ªç¿»è¯‘é¡¹ç›®æä¾›å¸®åŠ©, è¯·çœ‹è¿™é‡Œ )\nAcknowledgements/è‡´è°¢ è¿™ä¸ªç³»åˆ—æœ€åˆçš„æƒ³æ³•å’Œè®¾è®¡çµæ„Ÿæ¥è‡ªäº Denys Dovhan çš„é¡¹ç›® wtfjs . ç¤¾åŒºçš„å¼ºå¤§æ”¯æŒè®©å®ƒæˆé•¿ä¸ºç°åœ¨çš„æ¨¡æ ·.\nSome nice Links!/ä¸€äº›ä¸é”™çš„èµ„æº https://www.youtube.com/watch?v=sH4XF6pKKmk https://www.reddit.com/r/Python/comments/3cu6ej/what_are_some_wtf_things_about_python https://sopython.com/wiki/Common_Gotchas_In_Python https://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines https://stackoverflow.com/questions/1011431/common-pitfalls-in-python https://www.python.org/doc/humor/ https://www.codementor.io/satwikkansal/python-practices-for-efficient-code-performance-memory-and-usability-aze6oiq65 ğŸ“ License/è®¸å¯ Â© Satwik Kansal Help/å¸®åŠ© å¦‚æœæ‚¨æœ‰ä»»ä½•æƒ³æ³•æˆ–å»ºè®®ï¼Œæ¬¢è¿åˆ†äº«.\nSurprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ? æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›å¿«é“¾å‘ Twitter å’Œ Linkedin ä¸Šçš„æœ‹å‹æ¨è wtfpython,\nTwitter | Linkedin Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„? æˆ‘æ”¶åˆ°ä¸€äº›æƒ³è¦pdfç‰ˆæœ¬çš„éœ€æ±‚. ä½ å¯ä»¥å¿«é€Ÿåœ¨è¿™ è·å¾—.\nFollow Commit/è¿½è¸ªCommit è¿™æ˜¯ä¸­æ–‡ç‰ˆ fork æ—¶æ‰€å¤„çš„åŸåº“ Commit, å½“åŸåº“æ›´æ–°æ—¶æˆ‘ä¼šè·Ÿéšæ›´æ–°.\n996.icu ","wordCount":"6825","inLanguage":"en","image":"https://aikenh.cn/cover/cover5.jpeg","datePublished":"2021-11-28T06:24:23Z","dateModified":"2021-11-28T06:24:23Z","author":[{"@type":"Person","name":"aikenhong"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://aikenh.cn/hugotest/posts/pythontips/"},"publisher":{"@type":"Organization","name":"aiken's blog","logo":{"@type":"ImageObject","url":"https://aikenh.cn/favicon/ghost.ico"}}}</script></head><body id=top><script type=module src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.esm.js defer></script><script nomodule src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.js defer></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aikenh.cn/hugotest/ accesskey=h title="aiken's blog (Alt + H)">aiken's blog</a><div class=logo-switches><button id=theme-toggle-nav accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://aikenh.cn/hugotest/ title=home><span>home</span></a></li><li><a href=https://aikenh.cn/hugotest/posts/ title=posts><span>posts</span></a></li><li><a href=https://aikenh.cn/hugotest/tags/ title=tags><span>tags</span></a></li><li><a href=https://aikenh.cn/hugotest/categories/ title=categories><span>categories</span></a></li><li><a href=https://aikenh.cn/hugotest/archives/ title=archives><span>archives</span></a></li><li><a href=https://aikenh.cn/hugotest/about/ title=about><span>about</span></a></li><li><a href=https://aikenh.cn/hugotest/search title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><div class=sidebar><ul><li class=logo style=--bg:#333><a href=#><div class=logo-icon><img src=/logo/logo.png></div><div class=logo-text>Aiken's Blog</div></a></li><div class=menulist><li style=--bg:#f44336><a href=https://aikenh.cn/hugotest/ title=home><div class=logo-icon><ion-icon name=home-outline></ion-icon></div><div class=logo-text>home</div></a></li><li style=--bg:#b145e9><a href=https://aikenh.cn/hugotest/posts/ title=posts><div class=logo-icon><ion-icon name=newspaper-outline></ion-icon></div><div class=logo-text>posts</div></a></li><li style=--bg:#0f93c7><a href=https://aikenh.cn/hugotest/tags/ title=tags><div class=logo-icon><ion-icon name=pricetags-outline></ion-icon></div><div class=logo-text>tags</div></a></li><li style=--bg:#ffa117><a href=https://aikenh.cn/hugotest/categories/ title=categories><div class=logo-icon><ion-icon name=grid-outline></ion-icon></div><div class=logo-text>categories</div></a></li><li style=--bg:#0fc70f><a href=https://aikenh.cn/hugotest/archives/ title=archives><div class=logo-icon><ion-icon name=folder-outline></ion-icon></div><div class=logo-text>archives</div></a></li><li style=--bg:#d16111><a href=https://aikenh.cn/hugotest/about/ title=about><div class=logo-icon><ion-icon name=person></ion-icon></div><div class=logo-text>about</div></a></li><li style=--bg:#15c095><a href=https://aikenh.cn/hugotest/search title="search (Alt + /)" accesskey=/><div class=logo-icon><ion-icon name=search></ion-icon></div><div class=logo-text>search</div></a></li></div><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt +T)"><li><div class=logo-icon id=moon><ion-icon name=moon-outline></ion-icon></div><div class=logo-icon id=sun><ion-icon name=sunny-outline></ion-icon></div></li></button></div></ul></div><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://aikenh.cn/hugotest/>Home</a>&nbsp;Â»&nbsp;<a href=https://aikenh.cn/hugotest/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">ï¼ˆè½¬ï¼‰What the Fuck Pythonï¼ ä¸€äº›pythonç‰¹æ€§</h1><div class=post-meta><span title='2021-11-28 06:24:23 +0000 UTC'>November 28, 2021</span>&nbsp;Â·&nbsp;33 min&nbsp;Â·&nbsp;6825 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/langs> Langs</a>&nbsp;Â·&nbsp;<a href=/tags/python> Python</a>&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/PythonTips.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://aikenh.cn/cover/cover5.jpeg alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=# aria-label="What the f*ck Python! ğŸ">What the f*ck Python! ğŸ</a></li><li><a href=#table-of-contents%e7%9b%ae%e5%bd%95 aria-label="Table of Contents/ç›®å½•">Table of Contents/ç›®å½•</a></li><li><a href=#structure-of-the-examples%e7%a4%ba%e4%be%8b%e7%bb%93%e6%9e%84 aria-label="Structure of the Examples/ç¤ºä¾‹ç»“æ„">Structure of the Examples/ç¤ºä¾‹ç»“æ„</a><ul class=header-level-2><ul class=header-level-2><li><a href=#-%e4%b8%80%e4%b8%aa%e7%b2%be%e9%80%89%e7%9a%84%e6%a0%87%e9%a2%98- aria-label="> ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜ *">> ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜ *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li></ul></ul></li><li><a href=#usage%e7%94%a8%e6%b3%95 aria-label=Usage/ç”¨æ³•>Usage/ç”¨æ³•</a></li><li><a href=#-examples%e7%a4%ba%e4%be%8b aria-label="ğŸ‘€ Examples/ç¤ºä¾‹">ğŸ‘€ Examples/ç¤ºä¾‹</a><ul class=header-level-1><li><a href=#section-strain-your-brain%e5%a4%a7%e8%84%91%e8%bf%90%e5%8a%a8 aria-label="Section: Strain your brain!/å¤§è„‘è¿åŠ¨!">Section: Strain your brain!/å¤§è„‘è¿åŠ¨!</a><ul class=header-level-2><li><a href=#-strings-can-be-tricky-sometimes%e5%be%ae%e5%a6%99%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2- aria-label="> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *">> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-1 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-time-for-some-hash-brownies%e6%98%af%e6%97%b6%e5%80%99%e6%9d%a5%e7%82%b9%e8%9b%8b%e7%b3%95%e4%ba%86 aria-label="> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!">> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-2 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-return-return-everywhere%e5%88%b0%e5%a4%84%e8%bf%94%e5%9b%9e aria-label="> Return return everywhere!/åˆ°å¤„è¿”å›ï¼">> Return return everywhere!/åˆ°å¤„è¿”å›ï¼</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-3 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-deep-down-were-all-the-same%e6%9c%ac%e8%b4%a8%e4%b8%8a%e6%88%91%e4%bb%ac%e9%83%bd%e4%b8%80%e6%a0%b7- aria-label="> Deep down, we&rsquo;re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *">> Deep down, we&rsquo;re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-4 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-for-what%e4%b8%ba%e4%bb%80%e4%b9%88 aria-label="> For what?/ä¸ºä»€ä¹ˆ?">> For what?/ä¸ºä»€ä¹ˆ?</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-5 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-evaluation-time-discrepancy%e6%89%a7%e8%a1%8c%e6%97%b6%e6%9c%ba%e5%b7%ae%e5%bc%82 aria-label="> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚">> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-6 aria-label="ğŸ’¡ è¯´æ˜">ğŸ’¡ è¯´æ˜</a></li></ul></li><li><a href=#-is-is-not-what-it-is%e5%87%ba%e4%ba%ba%e6%84%8f%e6%96%99%e7%9a%84is aria-label="> is is not what it is!/å‡ºäººæ„æ–™çš„is!">> <code>is</code> is not what it is!/å‡ºäººæ„æ–™çš„<code>is</code>!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-7 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-a-tic-tac-toe-where-x-wins-in-the-first-attempt%e4%b8%80%e8%b9%b4%e5%8d%b3%e8%87%b3 aria-label="> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!">> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-8 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-the-sticky-output-function%e9%ba%bb%e7%83%a6%e7%9a%84%e8%be%93%e5%87%ba aria-label="> The sticky output function/éº»çƒ¦çš„è¾“å‡º">> The sticky output function/éº»çƒ¦çš„è¾“å‡º</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-9 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-is-not--is-not-is-not-is-not--%e4%b8%8d%e6%98%af-is-not- aria-label="> is not ... is not is (not ...)/is not ... ä¸æ˜¯ is (not ...)">> <code>is not ...</code> is not <code>is (not ...)</code>/<code>is not ...</code> ä¸æ˜¯ <code>is (not ...)</code></a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-10 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-the-surprising-comma%e6%84%8f%e5%a4%96%e7%9a%84%e9%80%97%e5%8f%b7 aria-label="> The surprising comma/æ„å¤–çš„é€—å·">> The surprising comma/æ„å¤–çš„é€—å·</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-11 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-backslashes-at-the-end-of-string%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%9c%ab%e5%b0%be%e7%9a%84%e5%8f%8d%e6%96%9c%e6%9d%a0 aria-label="> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ ">> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ </a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-12 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-not-knot%e5%88%ab%e7%ba%a0%e7%bb%93 aria-label="> not knot!/åˆ«çº ç»“!">> not knot!/åˆ«çº ç»“!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-13 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-half-triple-quoted-strings%e4%b8%89%e4%b8%aa%e5%bc%95%e5%8f%b7 aria-label="> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·">> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-14 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-midnight-time-doesnt-exist%e4%b8%8d%e5%ad%98%e5%9c%a8%e7%9a%84%e5%8d%88%e5%a4%9c aria-label="> Midnight time doesn&rsquo;t exist?/ä¸å­˜åœ¨çš„åˆå¤œ?">> Midnight time doesn&rsquo;t exist?/ä¸å­˜åœ¨çš„åˆå¤œ?</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-15 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-whats-wrong-with-booleans%e5%b8%83%e5%b0%94%e4%bd%a0%e5%92%8b%e4%ba%86 aria-label="> What&rsquo;s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?">> What&rsquo;s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-16 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-class-attributes-and-instance-attributes%e7%b1%bb%e5%b1%9e%e6%80%a7%e5%92%8c%e5%ae%9e%e4%be%8b%e5%b1%9e%e6%80%a7 aria-label="> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§">> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-17 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-yielding-none%e7%94%9f%e6%88%90-none aria-label="> yielding None/ç”Ÿæˆ None">> yielding None/ç”Ÿæˆ None</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-18 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-mutating-the-immutable%e5%bc%ba%e4%ba%ba%e6%89%80%e9%9a%be aria-label="> Mutating the immutable!/å¼ºäººæ‰€éš¾">> Mutating the immutable!/å¼ºäººæ‰€éš¾</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-19 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-the-disappearing-variable-from-outer-scope%e6%b6%88%e5%a4%b1%e7%9a%84%e5%a4%96%e9%83%a8%e5%8f%98%e9%87%8f aria-label="> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡">> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-20 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-when-true-is-actually-false%e7%9c%9f%e4%ba%a6%e5%81%87 aria-label="> When True is actually False/çœŸäº¦å‡">> When True is actually False/çœŸäº¦å‡</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-21 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-from-filled-to-none-in-one-instruction%e4%bb%8e%e6%9c%89%e5%88%b0%e6%97%a0 aria-label="> From filled to None in one instruction&mldr;/ä»æœ‰åˆ°æ— &mldr;">> From filled to None in one instruction&mldr;/ä»æœ‰åˆ°æ— &mldr;</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-22 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-subclass-relationships%e5%ad%90%e7%b1%bb%e5%85%b3%e7%b3%bb- aria-label="> Subclass relationships/å­ç±»å…³ç³» *">> Subclass relationships/å­ç±»å…³ç³» *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-23 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-the-mysterious-key-type-conversion%e7%a5%9e%e7%a7%98%e7%9a%84%e9%94%ae%e5%9e%8b%e8%bd%ac%e6%8d%a2- aria-label="> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *">> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-24 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-lets-see-if-you-can-guess-this%e7%9c%8b%e7%9c%8b%e4%bd%a0%e8%83%bd%e5%90%a6%e7%8c%9c%e5%88%b0%e8%bf%99%e4%b8%80%e7%82%b9 aria-label="> Let&rsquo;s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?">> Let&rsquo;s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-25 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li></ul></li><li><a href=#section-appearances-are-deceptive%e5%a4%96%e8%a1%a8%e6%98%af%e9%9d%a0%e4%b8%8d%e4%bd%8f%e7%9a%84 aria-label="Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!">Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!</a><ul class=header-level-2><li><a href=#-skipping-lines%e8%b7%b3%e8%bf%87%e4%b8%80%e8%a1%8c aria-label="> Skipping lines?/è·³è¿‡ä¸€è¡Œ?">> Skipping lines?/è·³è¿‡ä¸€è¡Œ?</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-26 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-teleportation%e7%a9%ba%e9%97%b4%e7%a7%bb%e5%8a%a8- aria-label="> Teleportation/ç©ºé—´ç§»åŠ¨ *">> Teleportation/ç©ºé—´ç§»åŠ¨ *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-27 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-well-something-is-fishy%e5%97%af%e6%9c%89%e4%ba%9b%e5%8f%af%e7%96%91 aria-label="> Well, something is fishy&mldr;/å—¯ï¼Œæœ‰äº›å¯ç–‘&mldr;">> Well, something is fishy&mldr;/å—¯ï¼Œæœ‰äº›å¯ç–‘&mldr;</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-28 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li></ul></li><li><a href=#section-watch-out-for-the-landmines%e5%b0%8f%e5%bf%83%e5%9c%b0%e9%9b%b7 aria-label="Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!">Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!</a><ul class=header-level-2><li><a href=#-modifying-a-dictionary-while-iterating-over-it%e8%bf%ad%e4%bb%a3%e5%ad%97%e5%85%b8%e6%97%b6%e7%9a%84%e4%bf%ae%e6%94%b9 aria-label="> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹">> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-29 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-stubborn-del-operator%e5%9d%9a%e5%bc%ba%e7%9a%84-del- aria-label="> Stubborn del operator/åšå¼ºçš„ del *">> Stubborn <code>del</code> operator/åšå¼ºçš„ <code>del</code> *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-30 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-deleting-a-list-item-while-iterating%e8%bf%ad%e4%bb%a3%e5%88%97%e8%a1%a8%e6%97%b6%e5%88%a0%e9%99%a4%e5%85%83%e7%b4%a0 aria-label="> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ ">> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ </a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-31 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-loop-variables-leaking-out%e5%be%aa%e7%8e%af%e5%8f%98%e9%87%8f%e6%b3%84%e6%bc%8f aria-label="> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!">> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-32 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-beware-of-default-mutable-arguments%e5%bd%93%e5%bf%83%e9%bb%98%e8%ae%a4%e7%9a%84%e5%8f%af%e5%8f%98%e5%8f%82%e6%95%b0 aria-label="> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!">> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-33 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-catching-the-exceptions%e6%8d%95%e8%8e%b7%e5%bc%82%e5%b8%b8 aria-label="> Catching the Exceptions/æ•è·å¼‚å¸¸">> Catching the Exceptions/æ•è·å¼‚å¸¸</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-34 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-same-operands-different-story%e5%90%8c%e4%ba%ba%e4%b8%8d%e5%90%8c%e5%91%bd aria-label="> Same operands, different story!/åŒäººä¸åŒå‘½!">> Same operands, different story!/åŒäººä¸åŒå‘½!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-35 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-the-out-of-scope-variable%e5%a4%96%e9%83%a8%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%8f%98%e9%87%8f aria-label="> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡">> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-36 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-be-careful-with-chained-operations%e5%b0%8f%e5%bf%83%e9%93%be%e5%bc%8f%e6%93%8d%e4%bd%9c aria-label="> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ">> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-37 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-name-resolution-ignoring-class-scope%e5%bf%bd%e7%95%a5%e7%b1%bb%e4%bd%9c%e7%94%a8%e5%9f%9f%e7%9a%84%e5%90%8d%e7%a7%b0%e8%a7%a3%e6%9e%90 aria-label="> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ">> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-38 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-needle-in-a-haystack%e5%a4%a7%e6%b5%b7%e6%8d%9e%e9%92%88 aria-label="> Needle in a Haystack/å¤§æµ·æé’ˆ">> Needle in a Haystack/å¤§æµ·æé’ˆ</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-39 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li></ul></li><li><a href=#section-the-hidden-treasures%e9%9a%90%e8%97%8f%e7%9a%84%e5%ae%9d%e8%97%8f aria-label="Section: The Hidden treasures!/éšè—çš„å®è—!">Section: The Hidden treasures!/éšè—çš„å®è—!</a><ul class=header-level-2><li><a href=#-okay-python-can-you-make-me-flypython-%e5%8f%af%e5%90%a6%e5%b8%a6%e6%88%91%e9%a3%9e- aria-label="> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *">> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-40 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-goto-but-whygoto-%e4%bd%86%e4%b8%ba%e4%bb%80%e4%b9%88- aria-label="> goto, but why?/goto, ä½†ä¸ºä»€ä¹ˆ? *">> <code>goto</code>, but why?/<code>goto</code>, ä½†ä¸ºä»€ä¹ˆ? *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-41 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-brace-yourself%e5%81%9a%e5%a5%bd%e6%80%9d%e6%83%b3%e5%87%86%e5%a4%87- aria-label="> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *">> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-42 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-lets-meet-friendly-language-uncle-for-life%e8%ae%a9%e7%94%9f%e6%b4%bb%e6%9b%b4%e5%8f%8b%e5%a5%bd- aria-label="> Let&rsquo;s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *">> Let&rsquo;s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-43 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-even-python-understands-that-love-is-complicated%e8%bf%9epython%e4%b9%9f%e7%9f%a5%e9%81%93%e7%88%b1%e6%98%af%e9%9a%be%e8%a8%80%e7%9a%84- aria-label="> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *">> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-44 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-yes-it-exists%e6%98%af%e7%9a%84-%e5%ae%83%e5%ad%98%e5%9c%a8 aria-label="> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!">> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-45 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-inpinity%e6%97%a0%e9%99%90- aria-label="> Inpinity/æ— é™ *">> Inpinity/æ— é™ *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-46 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-mangling-time%e4%bf%ae%e9%a5%b0%e6%97%b6%e9%97%b4- aria-label="> Mangling time!/ä¿®é¥°æ—¶é—´! *">> Mangling time!/ä¿®é¥°æ—¶é—´! *</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-47 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li></ul></li><li><a href=#section-miscellaneous%e6%9d%82%e9%a1%b9 aria-label="Section: Miscellaneous/æ‚é¡¹">Section: Miscellaneous/æ‚é¡¹</a><ul class=header-level-2><li><a href=#--is-faster%e6%9b%b4%e5%bf%ab%e7%9a%84- aria-label="> += is faster/æ›´å¿«çš„ +=">> <code>+=</code> is faster/æ›´å¿«çš„ <code>+=</code></a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-48 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-lets-make-a-giant-string%e6%9d%a5%e5%81%9a%e4%b8%aa%e5%b7%a8%e5%a4%a7%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%90%a7 aria-label="> Let&rsquo;s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§ï¼">> Let&rsquo;s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§ï¼</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-49 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-explicit-typecast-of-strings%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e6%98%be%e5%bc%8f%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2 aria-label="> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢">> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢</a><ul class=header-level-3><li><a href=#-%e8%af%b4%e6%98%8e-50 aria-label="ğŸ’¡ è¯´æ˜:">ğŸ’¡ è¯´æ˜:</a></li></ul></li><li><a href=#-minor-ones%e5%b0%8f%e7%9f%a5%e8%af%86%e7%82%b9 aria-label="> Minor Ones/å°çŸ¥è¯†ç‚¹">> Minor Ones/å°çŸ¥è¯†ç‚¹</a></li></ul></li></ul></li><li><a href=#contributing%e8%b4%a1%e7%8c%ae aria-label=Contributing/è´¡çŒ®>Contributing/è´¡çŒ®</a></li><li><a href=#acknowledgements%e8%87%b4%e8%b0%a2 aria-label=Acknowledgements/è‡´è°¢>Acknowledgements/è‡´è°¢</a><ul class=header-level-3><ul class=header-level-3><ul class=header-level-3><li><a href=#some-nice-links%e4%b8%80%e4%ba%9b%e4%b8%8d%e9%94%99%e7%9a%84%e8%b5%84%e6%ba%90 aria-label="Some nice Links!/ä¸€äº›ä¸é”™çš„èµ„æº">Some nice Links!/ä¸€äº›ä¸é”™çš„èµ„æº</a></li></ul></ul></ul></li><li><a href=#-license%e8%ae%b8%e5%8f%af aria-label="ğŸ“ License/è®¸å¯">ğŸ“ License/è®¸å¯</a><ul class=header-level-1><li><a href=#help%e5%b8%ae%e5%8a%a9 aria-label=Help/å¸®åŠ©>Help/å¸®åŠ©</a></li><li><a href=#surprise-your-geeky-pythonist-friends%e6%83%b3%e7%bb%99%e4%bd%a0%e7%9a%84%e6%9e%81%e5%ae%a2%e6%9c%8b%e5%8f%8b%e4%b8%80%e4%b8%aa%e6%83%8a%e5%96%9c aria-label="Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?">Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?</a></li><li><a href=#need-a-pdf-version%e9%9c%80%e8%a6%81%e6%9d%a5%e4%b8%80%e4%bb%bdpdf%e7%89%88%e7%9a%84 aria-label="Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?">Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?</a></li><li><a href=#follow-commit%e8%bf%bd%e8%b8%aacommit aria-label="Follow Commit/è¿½è¸ªCommit">Follow Commit/è¿½è¸ªCommit</a></li><li><a href=#996icu aria-label=996.icu>996.icu</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;document.addEventListener("DOMContentLoaded",function(){if(checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),elements.length>0){activeElement=elements[0];const e=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${e}"]`).classList.add("active")}const t=document.getElementById("top-link");t&&t.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;if(e===0)return;elements&&elements.length>0&&(elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase(),n=document.querySelector(`.inner ul li a[href="#${t}"]`);n.classList.remove("read")}),activeElement=Array.from(elements).find(t=>{if(getOffsetTop(t)-e>0&&getOffsetTop(t)-e<window.innerHeight/2)return t})||activeElement,elements.forEach((t)=>{const o=encodeURI(t.getAttribute("id")).toLowerCase(),s=document.querySelector(`.inner ul li a[href="#${o}"]`);if(t===activeElement){s.classList.add("active");const e=document.querySelector(".toc .inner"),t=s.offsetTop,n=e.clientHeight,o=s.clientHeight,i=t-n/2+o/2;e.scrollTo({top:i,behavior:"smooth"})}else getOffsetTop(t)<e&&s.classList.add("read"),s.classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return!document.querySelector(".hugo-encryptor-prompt")&&elements.length!=0&&(elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),console.log("Elements re-queried:",elements)),0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p align=center><img src=/images/logo.png alt></p><h1 align=center>What the f*ck Python! ğŸ</h1><p align=center>ä¸€äº›æœ‰è¶£ä¸”é²œä¸ºäººçŸ¥çš„ Python ç‰¹æ€§.</p><p align=center><a href=https://github.com/satwikkansal/wtfpython>English</a>
| <a href=#>ä¸­æ–‡</a></p>[![WTFPL 2.0][license-image]][license-url] [![Commit id][commit-image]][commit-url] [![996.icu][996.icu-image]][996.icu-url]<p>Python, æ˜¯ä¸€ä¸ªè®¾è®¡ä¼˜ç¾çš„è§£é‡Šå‹é«˜çº§è¯­è¨€, å®ƒæä¾›äº†å¾ˆå¤šèƒ½è®©ç¨‹åºå‘˜æ„Ÿåˆ°èˆ’é€‚çš„åŠŸèƒ½ç‰¹æ€§. ä½†æœ‰çš„æ—¶å€™, Python çš„ä¸€äº›è¾“å‡ºç»“æœå¯¹äºåˆå­¦è€…æ¥è¯´ä¼¼ä¹å¹¶ä¸æ˜¯é‚£ä¹ˆä¸€ç›®äº†ç„¶.</p><p>è¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®æ„åœ¨æ”¶é›† Python ä¸­é‚£äº›éš¾ä»¥ç†è§£å’Œåäººç±»ç›´è§‰çš„ä¾‹å­ä»¥åŠé²œä¸ºäººçŸ¥çš„åŠŸèƒ½ç‰¹æ€§, å¹¶å°è¯•è®¨è®ºè¿™äº›ç°è±¡èƒŒåçœŸæ­£çš„åŸç†!</p><p>è™½ç„¶ä¸‹é¢çš„æœ‰äº›ä¾‹å­å¹¶ä¸ä¸€å®šä¼šè®©ä½ è§‰å¾— WTFs, ä½†å®ƒä»¬ä¾ç„¶æœ‰å¯èƒ½ä¼šå‘Šè¯‰ä½ ä¸€äº›ä½ æ‰€ä¸çŸ¥é“çš„ Python æœ‰è¶£ç‰¹æ€§. æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å­¦ä¹ ç¼–ç¨‹è¯­è¨€å†…éƒ¨åŸç†çš„å¥½åŠæ³•, è€Œä¸”æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šä»ä¸­è·å¾—ä¹è¶£!</p><p>å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒæ¯”è¾ƒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, ä½ å¯ä»¥å°è¯•æŒ‘æˆ˜çœ‹æ˜¯å¦èƒ½ä¸€æ¬¡å°±æ‰¾åˆ°ä¾‹å­çš„æ­£ç¡®ç­”æ¡ˆ. ä½ å¯èƒ½å¯¹å…¶ä¸­çš„ä¸€äº›ä¾‹å­å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†, é‚£è¿™ä¹Ÿè®¸èƒ½å”¤èµ·ä½ å½“å¹´è¸©è¿™äº›å‘æ—¶çš„ç”œèœœå›å¿† :sweat_smile:</p><p>PS: å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡è¯»äº†, ä½ å¯ä»¥åœ¨<a href=https://github.com/satwikkansal/wtfpython/releases/ target=_blank rel=noopener>è¿™é‡Œ</a>
è·å–å˜åŠ¨å†…å®¹.</p><p>é‚£ä¹ˆ, è®©æˆ‘ä»¬å¼€å§‹å§&mldr;</p><h1 id=table-of-contentsç›®å½•>Table of Contents/ç›®å½•<a hidden class=anchor aria-hidden=true href=#table-of-contentsç›®å½•>#</a></h1><ul><li><a href=#table-of-contents%e7%9b%ae%e5%bd%95>Table of Contents/ç›®å½•</a></li><li><a href=#structure-of-the-examples%e7%a4%ba%e4%be%8b%e7%bb%93%e6%9e%84>Structure of the Examples/ç¤ºä¾‹ç»“æ„</a></li><li><a href=#usage%e7%94%a8%e6%b3%95>Usage/ç”¨æ³•</a></li><li><a href=#-examples%e7%a4%ba%e4%be%8b>ğŸ‘€ Examples/ç¤ºä¾‹</a><ul><li><a href=#section-strain-your-brain%e5%a4%a7%e8%84%91%e8%bf%90%e5%8a%a8>Section: Strain your brain!/å¤§è„‘è¿åŠ¨!</a><ul><li><a href=#-strings-can-be-tricky-sometimes%e5%be%ae%e5%a6%99%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2->> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *</a></li><li><a href=#-time-for-some-hash-brownies%e6%98%af%e6%97%b6%e5%80%99%e6%9d%a5%e7%82%b9%e8%9b%8b%e7%b3%95%e4%ba%86>> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!</a></li><li><a href=#-return-return-everywhere%e5%88%b0%e5%a4%84%e8%bf%94%e5%9b%9e>> Return return everywhere!/åˆ°å¤„è¿”å›ï¼</a></li><li><a href=#-deep-down-were-all-the-same%e6%9c%ac%e8%b4%a8%e4%b8%8a%e6%88%91%e4%bb%ac%e9%83%bd%e4%b8%80%e6%a0%b7->> Deep down, we&rsquo;re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *</a></li><li><a href=#-for-what%e4%b8%ba%e4%bb%80%e4%b9%88>> For what?/ä¸ºä»€ä¹ˆ?</a></li><li><a href=#-evaluation-time-discrepancy%e6%89%a7%e8%a1%8c%e6%97%b6%e6%9c%ba%e5%b7%ae%e5%bc%82>> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚</a></li><li><a href=#-is-is-not-what-it-is%e5%87%ba%e4%ba%ba%e6%84%8f%e6%96%99%e7%9a%84is>> <code>is</code> is not what it is!/å‡ºäººæ„æ–™çš„<code>is</code>!</a></li><li><a href=#-a-tic-tac-toe-where-x-wins-in-the-first-attempt%e4%b8%80%e8%b9%b4%e5%8d%b3%e8%87%b3>> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!</a></li><li><a href=#-the-sticky-output-function%e9%ba%bb%e7%83%a6%e7%9a%84%e8%be%93%e5%87%ba>> The sticky output function/éº»çƒ¦çš„è¾“å‡º</a></li><li><a href=#-is-not--is-not-is-not-is-not--%e4%b8%8d%e6%98%af-is-not->> <code>is not ...</code> is not <code>is (not ...)</code>/<code>is not ...</code> ä¸æ˜¯ <code>is (not ...)</code></a></li><li><a href=#-the-surprising-comma%e6%84%8f%e5%a4%96%e7%9a%84%e9%80%97%e5%8f%b7>> The surprising comma/æ„å¤–çš„é€—å·</a></li><li><a href=#-backslashes-at-the-end-of-string%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%9c%ab%e5%b0%be%e7%9a%84%e5%8f%8d%e6%96%9c%e6%9d%a0>> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ </a></li><li><a href=#-not-knot%e5%88%ab%e7%ba%a0%e7%bb%93>> not knot!/åˆ«çº ç»“!</a></li><li><a href=#-half-triple-quoted-strings%e4%b8%89%e4%b8%aa%e5%bc%95%e5%8f%b7>> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·</a></li><li><a href=#-midnight-time-doesnt-exist%e4%b8%8d%e5%ad%98%e5%9c%a8%e7%9a%84%e5%8d%88%e5%a4%9c>> Midnight time doesn&rsquo;t exist?/ä¸å­˜åœ¨çš„åˆå¤œ?</a></li><li><a href=#-whats-wrong-with-booleans%e5%b8%83%e5%b0%94%e4%bd%a0%e5%92%8b%e4%ba%86>> What&rsquo;s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?</a></li><li><a href=#-class-attributes-and-instance-attributes%e7%b1%bb%e5%b1%9e%e6%80%a7%e5%92%8c%e5%ae%9e%e4%be%8b%e5%b1%9e%e6%80%a7>> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§</a></li><li><a href=#-yielding-none%e7%94%9f%e6%88%90-none>> yielding None/ç”Ÿæˆ None</a></li><li><a href=#-mutating-the-immutable%e5%bc%ba%e4%ba%ba%e6%89%80%e9%9a%be>> Mutating the immutable!/å¼ºäººæ‰€éš¾</a></li><li><a href=#-the-disappearing-variable-from-outer-scope%e6%b6%88%e5%a4%b1%e7%9a%84%e5%a4%96%e9%83%a8%e5%8f%98%e9%87%8f>> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡</a></li><li><a href=#-when-true-is-actually-false%e7%9c%9f%e4%ba%a6%e5%81%87>> When True is actually False/çœŸäº¦å‡</a></li><li><a href=#-from-filled-to-none-in-one-instruction%e4%bb%8e%e6%9c%89%e5%88%b0%e6%97%a0>> From filled to None in one instruction&mldr;/ä»æœ‰åˆ°æ— &mldr;</a></li><li><a href=#-subclass-relationships%e5%ad%90%e7%b1%bb%e5%85%b3%e7%b3%bb->> Subclass relationships/å­ç±»å…³ç³» *</a></li><li><a href=#-the-mysterious-key-type-conversion%e7%a5%9e%e7%a7%98%e7%9a%84%e9%94%ae%e5%9e%8b%e8%bd%ac%e6%8d%a2->> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *</a></li><li><a href=#-lets-see-if-you-can-guess-this%e7%9c%8b%e7%9c%8b%e4%bd%a0%e8%83%bd%e5%90%a6%e7%8c%9c%e5%88%b0%e8%bf%99%e4%b8%80%e7%82%b9>> Let&rsquo;s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?</a></li></ul></li><li><a href=#section-appearances-are-deceptive%e5%a4%96%e8%a1%a8%e6%98%af%e9%9d%a0%e4%b8%8d%e4%bd%8f%e7%9a%84>Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!</a><ul><li><a href=#-skipping-lines%e8%b7%b3%e8%bf%87%e4%b8%80%e8%a1%8c>> Skipping lines?/è·³è¿‡ä¸€è¡Œ?</a></li><li><a href=#-teleportation%e7%a9%ba%e9%97%b4%e7%a7%bb%e5%8a%a8->> Teleportation/ç©ºé—´ç§»åŠ¨ *</a></li><li><a href=#-well-something-is-fishy%e5%97%af%e6%9c%89%e4%ba%9b%e5%8f%af%e7%96%91>> Well, something is fishy&mldr;/å—¯, æœ‰äº›å¯ç–‘&mldr;</a></li></ul></li><li><a href=#section-watch-out-for-the-landmines%e5%b0%8f%e5%bf%83%e5%9c%b0%e9%9b%b7>Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!</a><ul><li><a href=#-modifying-a-dictionary-while-iterating-over-it%e8%bf%ad%e4%bb%a3%e5%ad%97%e5%85%b8%e6%97%b6%e7%9a%84%e4%bf%ae%e6%94%b9>> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹</a></li><li><a href=#-stubborn-del-operator%e5%9d%9a%e5%bc%ba%e7%9a%84-del->> Stubborn <code>del</code> operator/åšå¼ºçš„ <code>del</code> *</a></li><li><a href=#-deleting-a-list-item-while-iterating%e8%bf%ad%e4%bb%a3%e5%88%97%e8%a1%a8%e6%97%b6%e5%88%a0%e9%99%a4%e5%85%83%e7%b4%a0>> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ </a></li><li><a href=#-loop-variables-leaking-out%e5%be%aa%e7%8e%af%e5%8f%98%e9%87%8f%e6%b3%84%e6%bc%8f>> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!</a></li><li><a href=#-beware-of-default-mutable-arguments%e5%bd%93%e5%bf%83%e9%bb%98%e8%ae%a4%e7%9a%84%e5%8f%af%e5%8f%98%e5%8f%82%e6%95%b0>> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!</a></li><li><a href=#-catching-the-exceptions%e6%8d%95%e8%8e%b7%e5%bc%82%e5%b8%b8>> Catching the Exceptions/æ•è·å¼‚å¸¸</a></li><li><a href=#-same-operands-different-story%e5%90%8c%e4%ba%ba%e4%b8%8d%e5%90%8c%e5%91%bd>> Same operands, different story!/åŒäººä¸åŒå‘½!</a></li><li><a href=#-the-out-of-scope-variable%e5%a4%96%e9%83%a8%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%8f%98%e9%87%8f>> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡</a></li><li><a href=#-be-careful-with-chained-operations%e5%b0%8f%e5%bf%83%e9%93%be%e5%bc%8f%e6%93%8d%e4%bd%9c>> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ</a></li><li><a href=#-name-resolution-ignoring-class-scope%e5%bf%bd%e7%95%a5%e7%b1%bb%e4%bd%9c%e7%94%a8%e5%9f%9f%e7%9a%84%e5%90%8d%e7%a7%b0%e8%a7%a3%e6%9e%90>> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ</a></li><li><a href=#-needle-in-a-haystack%e5%a4%a7%e6%b5%b7%e6%8d%9e%e9%92%88>> Needle in a Haystack/å¤§æµ·æé’ˆ</a></li></ul></li><li><a href=#section-the-hidden-treasures%e9%9a%90%e8%97%8f%e7%9a%84%e5%ae%9d%e8%97%8f>Section: The Hidden treasures!/éšè—çš„å®è—!</a><ul><li><a href=#-okay-python-can-you-make-me-flypython-%e5%8f%af%e5%90%a6%e5%b8%a6%e6%88%91%e9%a3%9e->> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *</a></li><li><a href=#-goto-but-whygoto-%e4%bd%86%e4%b8%ba%e4%bb%80%e4%b9%88->> <code>goto</code>, but why?/<code>goto</code>, ä½†ä¸ºä»€ä¹ˆ? *</a></li><li><a href=#-brace-yourself%e5%81%9a%e5%a5%bd%e6%80%9d%e6%83%b3%e5%87%86%e5%a4%87->> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *</a></li><li><a href=#-lets-meet-friendly-language-uncle-for-life%e8%ae%a9%e7%94%9f%e6%b4%bb%e6%9b%b4%e5%8f%8b%e5%a5%bd->> Let&rsquo;s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *</a></li><li><a href=#-even-python-understands-that-love-is-complicated%e8%bf%9ePython%e4%b9%9f%e7%9f%a5%e9%81%93%e7%88%b1%e6%98%af%e9%9a%be%e8%a8%80%e7%9a%84->> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *</a></li><li><a href=#-yes-it-exists%e6%98%af%e7%9a%84-%e5%ae%83%e5%ad%98%e5%9c%a8>> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!</a></li><li><a href=#-inpinity%e6%97%a0%e9%99%90->> Inpinity/æ— é™ *</a></li><li><a href=#-mangling-time%e4%bf%ae%e9%a5%b0%e6%97%b6%e9%97%b4->> Mangling time!ä¿®é¥°æ—¶é—´! *</a></li></ul></li><li><a href=#section-miscellaneous%e6%9d%82%e9%a1%b9>Section: Miscellaneous/æ‚é¡¹</a><ul><li><a href=#--is-faster%e6%9b%b4%e5%bf%ab%e7%9a%84->> <code>+=</code> is faster/æ›´å¿«çš„ <code>+=</code></a></li><li><a href=#-lets-make-a-giant-string%e6%9d%a5%e5%81%9a%e4%b8%aa%e5%b7%a8%e5%a4%a7%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%90%a7>> Let&rsquo;s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§!</a></li><li><a href=#-explicit-typecast-of-strings%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e6%98%be%e5%bc%8f%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2>> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢</a></li><li><a href=#-minor-ones%e5%b0%8f%e7%9f%a5%e8%af%86%e7%82%b9>> Minor Ones/å°çŸ¥è¯†ç‚¹</a></li></ul></li></ul></li><li><a href=#contributing%e8%b4%a1%e7%8c%ae>Contributing/è´¡çŒ®</a></li><li><a href=#acknowledgements%e8%87%b4%e8%b0%a2>Acknowledgements/è‡´è°¢</a></li><li><a href=#-license%e8%ae%b8%e5%8f%af>ğŸ“ License/è®¸å¯</a><ul><li><a href=#help%e5%b8%ae%e5%8a%a9>Help/å¸®åŠ©</a></li><li><a href=#surprise-your-geeky-pythonist-friends%e6%83%b3%e7%bb%99%e4%bd%a0%e7%9a%84%e6%9e%81%e5%ae%a2%e6%9c%8b%e5%8f%8b%e4%b8%80%e4%b8%aa%e6%83%8a%e5%96%9c>Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?</a></li><li><a href=#need-a-pdf-version%e9%9c%80%e8%a6%81%e6%9d%a5%e4%b8%80%e4%bb%bdpdf%e7%89%88%e7%9a%84>Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?</a></li><li><a href=#follow-commit%e8%bf%bd%e8%b8%aaCommit>Follow Commit/è¿½è¸ªCommit</a></li><li><a href=#996icu>996.icu</a></li></ul></li></ul><h1 id=structure-of-the-examplesç¤ºä¾‹ç»“æ„>Structure of the Examples/ç¤ºä¾‹ç»“æ„<a hidden class=anchor aria-hidden=true href=#structure-of-the-examplesç¤ºä¾‹ç»“æ„>#</a></h1><p>æ‰€æœ‰ç¤ºä¾‹çš„ç»“æ„éƒ½å¦‚ä¸‹æ‰€ç¤º:</p><blockquote><h3 id=-ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜->> ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜ *<a hidden class=anchor aria-hidden=true href=#-ä¸€ä¸ªç²¾é€‰çš„æ ‡é¢˜->#</a></h3><p>æ ‡é¢˜æœ«å°¾çš„æ˜Ÿå·è¡¨ç¤ºè¯¥ç¤ºä¾‹åœ¨ç¬¬ä¸€ç‰ˆä¸­ä¸å­˜åœ¨ï¼Œæ˜¯æœ€è¿‘æ·»åŠ çš„.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># å‡†å¤‡ä»£ç .</span>
</span></span><span class=line><span class=cl><span class=c1># é‡Šæ”¾é­”æ³•...</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python version):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>è§¦å‘è¯­å¥</span>
</span></span><span class=line><span class=cl><span class=n>å‡ºä¹æ„æ–™çš„è¾“å‡ºç»“æœ</span>
</span></span></code></pre></td></tr></table></div></div><p>(å¯é€‰): å¯¹æ„å¤–è¾“å‡ºç»“æœçš„ç®€çŸ­æè¿°.</p><h4 id=-è¯´æ˜>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜>#</a></h4><ul><li>ç®€è¦è¯´æ˜å‘ç”Ÿäº†ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆä¼šå‘ç”Ÿ.<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>å¦‚æœ‰å¿…è¦</span><span class=p>,</span> <span class=n>ä¸¾ä¾‹è¯´æ˜</span>
</span></span></code></pre></td></tr></table></div></div><strong>Output:</strong><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>è§¦å‘è¯­å¥</span> <span class=c1># ä¸€äº›è®©é­”æ³•å˜å¾—å®¹æ˜“ç†è§£çš„ä¾‹å­</span>
</span></span><span class=line><span class=cl><span class=c1># ä¸€äº›æ­£å¸¸çš„è¾“å…¥</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></blockquote><p><strong>æ³¨æ„:</strong> æ‰€æœ‰çš„ç¤ºä¾‹éƒ½åœ¨ Python 3.5.2 ç‰ˆæœ¬çš„äº¤äº’è§£é‡Šå™¨ä¸Šæµ‹è¯•è¿‡, å¦‚æœä¸ç‰¹åˆ«è¯´æ˜åº”è¯¥é€‚ç”¨äºæ‰€æœ‰ Python ç‰ˆæœ¬.</p><h1 id=usageç”¨æ³•>Usage/ç”¨æ³•<a hidden class=anchor aria-hidden=true href=#usageç”¨æ³•>#</a></h1><p>æˆ‘ä¸ªäººå»ºè®®, æœ€å¥½ä¾æ¬¡é˜…è¯»ä¸‹é¢çš„ç¤ºä¾‹, å¹¶å¯¹æ¯ä¸ªç¤ºä¾‹:</p><ul><li>ä»”ç»†é˜…è¯»è®¾ç½®ä¾‹å­æœ€å¼€å§‹çš„ä»£ç . å¦‚æœæ‚¨æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ Python ç¨‹åºå‘˜, é‚£ä¹ˆå¤§å¤šæ•°æ—¶å€™æ‚¨éƒ½èƒ½æˆåŠŸé¢„æœŸåˆ°åé¢çš„ç»“æœ.</li><li>é˜…è¯»è¾“å‡ºç»“æœ,<ul><li>ç¡®è®¤ç»“æœæ˜¯å¦å¦‚ä½ æ‰€æ–™.</li><li>ç¡®è®¤ä½ æ˜¯å¦çŸ¥é“è¿™èƒŒåçš„åŸç†.<ul><li>å¦‚æœä¸çŸ¥é“, æ·±å‘¼å¸ç„¶åé˜…è¯»è¯´æ˜ (å¦‚æœä½ è¿˜æ˜¯çœ‹ä¸æ˜ç™½, åˆ«æ²‰é»˜! å¯ä»¥åœ¨<a href=https://github.com/satwikkansal/wtfPython target=_blank rel=noopener>è¿™</a>
æä¸ª issue).</li><li>å¦‚æœçŸ¥é“, ç»™è‡ªå·±ç‚¹å¥–åŠ±, ç„¶åå»çœ‹ä¸‹ä¸€ä¸ªä¾‹å­.</li></ul></li></ul></li></ul><p>PS: ä½ ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œé˜…è¯» WTFpython. æˆ‘ä»¬æœ‰ pypi åŒ… å’Œ npm åŒ…(æ”¯æŒä»£ç é«˜äº®).(è¯‘: è¿™ä¸¤ä¸ªéƒ½æ˜¯è‹±æ–‡ç‰ˆçš„)</p><p>å®‰è£… npm åŒ… <a href=https://www.npmjs.com/package/wtfpython target=_blank rel=noopener><code>wtfpython</code></a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ npm install -g wtfpython
</span></span></code></pre></td></tr></table></div></div><p>æˆ–è€…, å®‰è£… pypi åŒ… <a href=https://pypi.python.org/pypi/wtfpython target=_blank rel=noopener><code>wtfpython</code></a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ pip install wtfpython -U
</span></span></code></pre></td></tr></table></div></div><p>ç°åœ¨, åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ <code>wtfpython</code>, ä½ å°±å¯ä»¥å¼€å§‹æµè§ˆäº†.</p><hr><h1 id=-examplesç¤ºä¾‹>ğŸ‘€ Examples/ç¤ºä¾‹<a hidden class=anchor aria-hidden=true href=#-examplesç¤ºä¾‹>#</a></h1><h2 id=section-strain-your-brainå¤§è„‘è¿åŠ¨>Section: Strain your brain!/å¤§è„‘è¿åŠ¨!<a hidden class=anchor aria-hidden=true href=#section-strain-your-brainå¤§è„‘è¿åŠ¨>#</a></h2><h3 id=-strings-can-be-tricky-sometimeså¾®å¦™çš„å­—ç¬¦ä¸²->> Strings can be tricky sometimes/å¾®å¦™çš„å­—ç¬¦ä¸² *<a hidden class=anchor aria-hidden=true href=#-strings-can-be-tricky-sometimeså¾®å¦™çš„å­—ç¬¦ä¸²->#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=s2>&#34;some_string&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140420665652016</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=s2>&#34;some&#34;</span> <span class=o>+</span> <span class=s2>&#34;_&#34;</span> <span class=o>+</span> <span class=s2>&#34;string&#34;</span><span class=p>)</span> <span class=c1># æ³¨æ„ä¸¤ä¸ªçš„idå€¼æ˜¯ç›¸åŒçš„.</span>
</span></span><span class=line><span class=cl><span class=mi>140420665652016</span>
</span></span></code></pre></td></tr></table></div></div><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=s2>&#34;wtf&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=s2>&#34;wtf&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=ow>is</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=s2>&#34;wtf!&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=s2>&#34;wtf!&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=ow>is</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=s2>&#34;wtf!&#34;</span><span class=p>,</span> <span class=s2>&#34;wtf!&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=ow>is</span> <span class=n>b</span> 
</span></span><span class=line><span class=cl><span class=kc>True</span> <span class=c1># 3.7 ç‰ˆæœ¬è¿”å›ç»“æœä¸º False.</span>
</span></span></code></pre></td></tr></table></div></div><p>3.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;a&#39;</span> <span class=o>*</span> <span class=mi>20</span> <span class=ow>is</span> <span class=s1>&#39;aaaaaaaaaaaaaaaaaaaa&#39;</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;a&#39;</span> <span class=o>*</span> <span class=mi>21</span> <span class=ow>is</span> <span class=s1>&#39;aaaaaaaaaaaaaaaaaaaaa&#39;</span>
</span></span><span class=line><span class=cl><span class=kc>False</span> <span class=c1># 3.7 ç‰ˆæœ¬è¿”å›ç»“æœä¸º True</span>
</span></span></code></pre></td></tr></table></div></div><p>å¾ˆå¥½ç†è§£, å¯¹å§?</p><h4 id=-è¯´æ˜-1>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-1>#</a></h4><ul><li><p>è¿™äº›è¡Œä¸ºæ˜¯ç”±äº Cpython åœ¨ç¼–è¯‘ä¼˜åŒ–æ—¶, æŸäº›æƒ…å†µä¸‹ä¼šå°è¯•ä½¿ç”¨å·²ç»å­˜åœ¨çš„ä¸å¯å˜å¯¹è±¡è€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡. (è¿™ç§è¡Œä¸ºè¢«ç§°ä½œå­—ç¬¦ä¸²çš„é©»ç•™[string interning])</p></li><li><p>å‘ç”Ÿé©»ç•™ä¹‹å, è®¸å¤šå˜é‡å¯èƒ½æŒ‡å‘å†…å­˜ä¸­çš„ç›¸åŒå­—ç¬¦ä¸²å¯¹è±¡. (ä»è€ŒèŠ‚çœå†…å­˜)</p></li><li><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­, å­—ç¬¦ä¸²æ˜¯éšå¼é©»ç•™çš„. ä½•æ—¶å‘ç”Ÿéšå¼é©»ç•™åˆ™å–å†³äºå…·ä½“çš„å®ç°. è¿™é‡Œæœ‰ä¸€äº›æ–¹æ³•å¯ä»¥ç”¨æ¥çŒœæµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¼šè¢«é©»ç•™:</p><ul><li><p>æ‰€æœ‰é•¿åº¦ä¸º 0 å’Œé•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸²éƒ½è¢«é©»ç•™.</p></li><li><p>å­—ç¬¦ä¸²åœ¨ç¼–è¯‘æ—¶è¢«å®ç° (<code>'wtf'</code> å°†è¢«é©»ç•™, ä½†æ˜¯ <code>''.join(['w', 't', 'f'])</code> å°†ä¸ä¼šè¢«é©»ç•™)</p></li><li><p>å­—ç¬¦ä¸²ä¸­åªåŒ…å«å­—æ¯ï¼Œæ•°å­—æˆ–ä¸‹åˆ’çº¿æ—¶å°†ä¼šé©»ç•™. æ‰€ä»¥ <code>'wtf!'</code> ç”±äºåŒ…å« <code>!</code> è€Œæœªè¢«é©»ç•™. å¯ä»¥åœ¨<a href=https://github.com/python/cpython/blob/3.6/Objects/codeobject.c#L19 target=_blank rel=noopener>è¿™é‡Œ</a>
æ‰¾åˆ° CPython å¯¹æ­¤è§„åˆ™çš„å®ç°.</p><img src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/img/20210911212111.png alt></li></ul></li><li><p>å½“åœ¨åŒä¸€è¡Œå°† <code>a</code> å’Œ <code>b</code> çš„å€¼è®¾ç½®ä¸º <code>"wtf!"</code> çš„æ—¶å€™, Python è§£é‡Šå™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, ç„¶ååŒæ—¶å¼•ç”¨ç¬¬äºŒä¸ªå˜é‡(è¯‘: ä»…é€‚ç”¨äº3.7ä»¥ä¸‹, è¯¦ç»†æƒ…å†µè¯·çœ‹<a href=https://github.com/leisurelicht/wtfpython-cn/issues/13 target=_blank rel=noopener>è¿™é‡Œ</a>
). å¦‚æœä½ åœ¨ä¸åŒçš„è¡Œä¸Šè¿›è¡Œèµ‹å€¼æ“ä½œ, å®ƒå°±ä¸ä¼šâ€œçŸ¥é“â€å·²ç»æœ‰ä¸€ä¸ª <code>wtfï¼</code> å¯¹è±¡ (å› ä¸º <code>"wtf!"</code> ä¸æ˜¯æŒ‰ç…§ä¸Šé¢æåˆ°çš„æ–¹å¼è¢«éšå¼é©»ç•™çš„). å®ƒæ˜¯ä¸€ç§ç¼–è¯‘å™¨ä¼˜åŒ–, ç‰¹åˆ«é€‚ç”¨äºäº¤äº’å¼ç¯å¢ƒ.</p></li><li><p>å¸¸é‡æŠ˜å (constant folding) æ˜¯ Python ä¸­çš„ä¸€ç§ <a href=https://en.wikipedia.org/wiki/Peephole_optimization target=_blank rel=noopener>çª¥å­”ä¼˜åŒ–(peephole optimization)</a>
æŠ€æœ¯. è¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶è¡¨è¾¾å¼ <code>'a'*20</code> ä¼šè¢«æ›¿æ¢ä¸º <code>'aaaaaaaaaaaaaaaaaaaa'</code> ä»¥å‡å°‘è¿è¡Œæ—¶çš„æ—¶é’Ÿå‘¨æœŸ. åªæœ‰é•¿åº¦å°äº 20 çš„å­—ç¬¦ä¸²æ‰ä¼šå‘ç”Ÿå¸¸é‡æŠ˜å . (ä¸ºå•¥? æƒ³è±¡ä¸€ä¸‹ç”±äºè¡¨è¾¾å¼ <code>'a'*10**10</code> è€Œç”Ÿæˆçš„ <code>.pyc</code> æ–‡ä»¶çš„å¤§å°). ç›¸å…³çš„æºç å®ç°åœ¨<a href=https://github.com/python/cpython/blob/3.6/Python/peephole.c#L288 target=_blank rel=noopener>è¿™é‡Œ</a>
.</p></li><li><p>å¦‚æœä½ æ˜¯ä½¿ç”¨ 3.7 ç‰ˆæœ¬ä¸­è¿è¡Œä¸Šè¿°ç¤ºä¾‹ä»£ç , ä¼šå‘ç°éƒ¨åˆ†ä»£ç çš„è¿è¡Œç»“æœä¸æ³¨é‡Šè¯´æ˜ç›¸åŒ. è¿™æ˜¯å› ä¸ºåœ¨ 3.7 ç‰ˆæœ¬ä¸­, å¸¸é‡æŠ˜å å·²ç»ä»çª¥å­”ä¼˜åŒ–å™¨è¿ç§»è‡³æ–°çš„ AST ä¼˜åŒ–å™¨, åè€…å¯ä»¥ä»¥æ›´é«˜çš„ä¸€è‡´æ€§æ¥æ‰§è¡Œä¼˜åŒ–. (ç”± Eugene Toder å’Œ INADA Naoki åœ¨ <a href=https://bugs.python.org/issue29469 target=_blank rel=noopener>bpo-29469</a>
å’Œ <a href=https://bugs.python.org/issue11549 target=_blank rel=noopener>bpo-11549</a>
ä¸­è´¡çŒ®.)</p></li><li><p>(è¯‘: ä½†æ˜¯åœ¨æœ€æ–°çš„ 3.8 ç‰ˆæœ¬ä¸­, ç»“æœåˆå˜å›å»äº†. è™½ç„¶ 3.8 ç‰ˆæœ¬å’Œ 3.7 ç‰ˆæœ¬ä¸€æ ·, éƒ½æ˜¯ä½¿ç”¨ AST ä¼˜åŒ–å™¨. ç›®å‰ä¸ç¡®å®šå®˜æ–¹å¯¹ 3.8 ç‰ˆæœ¬çš„ AST åšäº†ä»€ä¹ˆè°ƒæ•´.)</p></li></ul><hr><h3 id=-time-for-some-hash-browniesæ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†>> Time for some hash brownies!/æ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†!<a hidden class=anchor aria-hidden=true href=#-time-for-some-hash-browniesæ˜¯æ—¶å€™æ¥ç‚¹è›‹ç³•äº†>#</a></h3><ul><li>hash brownieæŒ‡ä¸€ç§å«æœ‰å¤§éº»æˆåˆ†çš„è›‹ç³•, æ‰€ä»¥è¿™é‡Œæ˜¯å¥åŒå…³</li></ul><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_dict</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>some_dict</span><span class=p>[</span><span class=mf>5.5</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Ruby&#34;</span>
</span></span><span class=line><span class=cl><span class=n>some_dict</span><span class=p>[</span><span class=mf>5.0</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;JavaScript&#34;</span>
</span></span><span class=line><span class=cl><span class=n>some_dict</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Python&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span><span class=p>[</span><span class=mf>5.5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Ruby&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span><span class=p>[</span><span class=mf>5.0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Python&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Python&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>&ldquo;Python&rdquo; æ¶ˆé™¤äº† &ldquo;JavaScript&rdquo; çš„å­˜åœ¨?</p><h4 id=-è¯´æ˜-2>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-2>#</a></h4><ul><li>Python å­—å…¸é€šè¿‡æ£€æŸ¥é”®å€¼æ˜¯å¦ç›¸ç­‰å’Œæ¯”è¾ƒå“ˆå¸Œå€¼æ¥ç¡®å®šä¸¤ä¸ªé”®æ˜¯å¦ç›¸åŒ.</li><li>å…·æœ‰ç›¸åŒå€¼çš„ä¸å¯å˜å¯¹è±¡åœ¨Pythonä¸­å§‹ç»ˆå…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼.<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mi>5</span> <span class=o>==</span> <span class=mf>5.0</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>hash</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>==</span> <span class=nb>hash</span><span class=p>(</span><span class=mf>5.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><strong>æ³¨æ„:</strong> å…·æœ‰ä¸åŒå€¼çš„å¯¹è±¡ä¹Ÿå¯èƒ½å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼ˆå“ˆå¸Œå†²çªï¼‰.</li><li>å½“æ‰§è¡Œ <code>some_dict[5] = "Python"</code> è¯­å¥æ—¶, å› ä¸ºPythonå°† <code>5</code> å’Œ <code>5.0</code> è¯†åˆ«ä¸º <code>some_dict</code> çš„åŒä¸€ä¸ªé”®, æ‰€ä»¥å·²æœ‰å€¼ &ldquo;JavaScript&rdquo; å°±è¢« &ldquo;Python&rdquo; è¦†ç›–äº†.</li><li>è¿™ä¸ª StackOverflowçš„ <a href=https://stackoverflow.com/a/32211042/4354153 target=_blank rel=noopener>å›ç­”</a>
æ¼‚äº®åœ°è§£é‡Šäº†è¿™èƒŒåçš„åŸºæœ¬åŸç†.</li></ul><hr><h3 id=-return-return-everywhereåˆ°å¤„è¿”å›>> Return return everywhere!/åˆ°å¤„è¿”å›ï¼<a hidden class=anchor aria-hidden=true href=#-return-return-everywhereåˆ°å¤„è¿”å›>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;from_try&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;from_finally&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;from_finally&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-3>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-3>#</a></h4><ul><li>å½“åœ¨ &ldquo;try&mldr;finally&rdquo; è¯­å¥çš„ <code>try</code> ä¸­æ‰§è¡Œ <code>return</code>, <code>break</code> æˆ– <code>continue</code> å, <code>finally</code> å­å¥ä¾ç„¶ä¼šæ‰§è¡Œ.</li><li>å‡½æ•°çš„è¿”å›å€¼ç”±æœ€åæ‰§è¡Œçš„ <code>return</code> è¯­å¥å†³å®š. ç”±äº <code>finally</code> å­å¥ä¸€å®šä¼šæ‰§è¡Œ, æ‰€ä»¥ <code>finally</code> å­å¥ä¸­çš„ <code>return</code> å°†å§‹ç»ˆæ˜¯æœ€åæ‰§è¡Œçš„è¯­å¥.</li></ul><hr><h3 id=-deep-down-were-all-the-sameæœ¬è´¨ä¸Šæˆ‘ä»¬éƒ½ä¸€æ ·->> Deep down, we&rsquo;re all the same./æœ¬è´¨ä¸Š,æˆ‘ä»¬éƒ½ä¸€æ ·. *<a hidden class=anchor aria-hidden=true href=#-deep-down-were-all-the-sameæœ¬è´¨ä¸Šæˆ‘ä»¬éƒ½ä¸€æ ·->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>WTF</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>WTF</span><span class=p>()</span> <span class=o>==</span> <span class=n>WTF</span><span class=p>()</span> <span class=c1># ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡åº”è¯¥ä¸ç›¸ç­‰</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>WTF</span><span class=p>()</span> <span class=ow>is</span> <span class=n>WTF</span><span class=p>()</span> <span class=c1># ä¹Ÿä¸ç›¸åŒ</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>hash</span><span class=p>(</span><span class=n>WTF</span><span class=p>())</span> <span class=o>==</span> <span class=nb>hash</span><span class=p>(</span><span class=n>WTF</span><span class=p>())</span> <span class=c1># å“ˆå¸Œå€¼ä¹Ÿåº”è¯¥ä¸åŒ</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>WTF</span><span class=p>())</span> <span class=o>==</span> <span class=nb>id</span><span class=p>(</span><span class=n>WTF</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-4>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-4>#</a></h4><ul><li><p>å½“è°ƒç”¨ <code>id</code> å‡½æ•°æ—¶, Python åˆ›å»ºäº†ä¸€ä¸ª <code>WTF</code> ç±»çš„å¯¹è±¡å¹¶ä¼ ç»™ <code>id</code> å‡½æ•°. ç„¶å <code>id</code> å‡½æ•°è·å–å…¶idå€¼ (ä¹Ÿå°±æ˜¯å†…å­˜åœ°å€), ç„¶åä¸¢å¼ƒè¯¥å¯¹è±¡. è¯¥å¯¹è±¡å°±è¢«é”€æ¯äº†.</p></li><li><p>å½“æˆ‘ä»¬è¿ç»­ä¸¤æ¬¡è¿›è¡Œè¿™ä¸ªæ“ä½œæ—¶, Pythonä¼šå°†ç›¸åŒçš„å†…å­˜åœ°å€åˆ†é…ç»™ç¬¬äºŒä¸ªå¯¹è±¡. å› ä¸º (åœ¨CPythonä¸­) <code>id</code> å‡½æ•°ä½¿ç”¨å¯¹è±¡çš„å†…å­˜åœ°å€ä½œä¸ºå¯¹è±¡çš„idå€¼, æ‰€ä»¥ä¸¤ä¸ªå¯¹è±¡çš„idå€¼æ˜¯ç›¸åŒçš„.</p></li><li><p>ç»¼ä¸Š, å¯¹è±¡çš„idå€¼ä»…ä»…åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…å”¯ä¸€. åœ¨å¯¹è±¡è¢«é”€æ¯ä¹‹å, æˆ–è¢«åˆ›å»ºä¹‹å‰, å…¶ä»–å¯¹è±¡å¯ä»¥å…·æœ‰ç›¸åŒçš„idå€¼.</p></li><li><p>é‚£ä¸ºä»€ä¹ˆ <code>is</code> æ“ä½œçš„ç»“æœä¸º <code>False</code> å‘¢? è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ®µä»£ç .</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>WTF</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;I&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;D&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>WTF</span><span class=p>()</span> <span class=ow>is</span> <span class=n>WTF</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>I</span>
</span></span><span class=line><span class=cl><span class=n>I</span>
</span></span><span class=line><span class=cl><span class=n>D</span>
</span></span><span class=line><span class=cl><span class=n>D</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>WTF</span><span class=p>())</span> <span class=o>==</span> <span class=nb>id</span><span class=p>(</span><span class=n>WTF</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>I</span>
</span></span><span class=line><span class=cl><span class=n>D</span>
</span></span><span class=line><span class=cl><span class=n>I</span>
</span></span><span class=line><span class=cl><span class=n>D</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„, å¯¹è±¡é”€æ¯çš„é¡ºåºæ˜¯é€ æˆæ‰€æœ‰ä¸åŒä¹‹å¤„çš„åŸå› .</p></li></ul><hr><h3 id=-for-whatä¸ºä»€ä¹ˆ>> For what?/ä¸ºä»€ä¹ˆ?<a hidden class=anchor aria-hidden=true href=#-for-whatä¸ºä»€ä¹ˆ>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_string</span> <span class=o>=</span> <span class=s2>&#34;wtf&#34;</span>
</span></span><span class=line><span class=cl><span class=n>some_dict</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>some_dict</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>some_string</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span> <span class=c1># åˆ›å»ºäº†ç´¢å¼•å­—å…¸.</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=mi>0</span><span class=p>:</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>:</span> <span class=s1>&#39;t&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>:</span> <span class=s1>&#39;f&#39;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-5>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-5>#</a></h4><ul><li><p><a href=https://docs.python.org/3/reference/grammar.html target=_blank rel=noopener>Python è¯­æ³•</a>
ä¸­å¯¹ <code>for</code> çš„å®šä¹‰æ˜¯:</p><pre tabindex=0><code>for_stmt: &#39;for&#39; exprlist &#39;in&#39; testlist &#39;:&#39; suite [&#39;else&#39; &#39;:&#39; suite]
</code></pre><p>å…¶ä¸­ <code>exprlist</code> æŒ‡åˆ†é…ç›®æ ‡. è¿™æ„å‘³ç€å¯¹å¯è¿­ä»£å¯¹è±¡ä¸­çš„<strong>æ¯ä¸€é¡¹éƒ½ä¼šæ‰§è¡Œ</strong>ç±»ä¼¼ <code>{exprlist} = {next_value}</code> çš„æ“ä½œ.</p><p>ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­è¯´æ˜äº†è¿™ä¸€ç‚¹:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span> <span class=o>=</span> <span class=mi>10</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><pre tabindex=0><code>0
1
2
3
</code></pre><p>ä½ å¯æ›¾è§‰å¾—è¿™ä¸ªå¾ªç¯åªä¼šè¿è¡Œä¸€æ¬¡?</p><p><strong>ğŸ’¡ è¯´æ˜:</strong></p><ul><li>ç”±äºå¾ªç¯åœ¨Pythonä¸­å·¥ä½œæ–¹å¼, èµ‹å€¼è¯­å¥ <code>i = 10</code> å¹¶ä¸ä¼šå½±å“è¿­ä»£å¾ªç¯, åœ¨æ¯æ¬¡è¿­ä»£å¼€å§‹ä¹‹å‰, è¿­ä»£å™¨(è¿™é‡ŒæŒ‡ <code>range(4)</code>) ç”Ÿæˆçš„ä¸‹ä¸€ä¸ªå…ƒç´ å°±è¢«è§£åŒ…å¹¶èµ‹å€¼ç»™ç›®æ ‡åˆ—è¡¨çš„å˜é‡(è¿™é‡ŒæŒ‡ <code>i</code>)äº†.</li></ul></li><li><p>åœ¨æ¯ä¸€æ¬¡çš„è¿­ä»£ä¸­, <code>enumerate(some_string)</code> å‡½æ•°å°±ç”Ÿæˆä¸€ä¸ªæ–°å€¼ <code>i</code> (è®¡æ•°å™¨å¢åŠ ) å¹¶ä» <code>some_string</code> ä¸­è·å–ä¸€ä¸ªå­—ç¬¦. ç„¶åå°†å­—å…¸ <code>some_dict</code> é”® <code>i</code> (åˆšåˆšåˆ†é…çš„) çš„å€¼è®¾ä¸ºè¯¥å­—ç¬¦. æœ¬ä¾‹ä¸­å¾ªç¯çš„å±•å¼€å¯ä»¥ç®€åŒ–ä¸º:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>i</span><span class=p>,</span> <span class=n>some_dict</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>i</span><span class=p>,</span> <span class=n>some_dict</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;t&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>i</span><span class=p>,</span> <span class=n>some_dict</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;f&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=-evaluation-time-discrepancyæ‰§è¡Œæ—¶æœºå·®å¼‚>> Evaluation time discrepancy/æ‰§è¡Œæ—¶æœºå·®å¼‚<a hidden class=anchor aria-hidden=true href=#-evaluation-time-discrepancyæ‰§è¡Œæ—¶æœºå·®å¼‚>#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>array</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>15</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>g</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>array</span> <span class=k>if</span> <span class=n>array</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>array</span> <span class=o>=</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>22</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>g</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>8</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>array_1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>g1</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>array_1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>array_1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>array_2</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>g2</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>array_2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>array_2</span><span class=p>[:]</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>g1</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>g2</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-6>ğŸ’¡ è¯´æ˜<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-6>#</a></h4><ul><li>åœ¨<a href=https://wiki.python.org/moin/Generators target=_blank rel=noopener>ç”Ÿæˆå™¨</a>
è¡¨è¾¾å¼ä¸­, <code>in</code> å­å¥åœ¨å£°æ˜æ—¶æ‰§è¡Œ, è€Œæ¡ä»¶å­å¥åˆ™æ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œ.</li><li>æ‰€ä»¥åœ¨è¿è¡Œå‰, <code>array</code> å·²ç»è¢«é‡æ–°èµ‹å€¼ä¸º <code>[2, 8, 22]</code>, å› æ­¤å¯¹äºä¹‹å‰çš„ <code>1</code>, <code>8</code> å’Œ <code>15</code>, åªæœ‰ <code>count(8)</code> çš„ç»“æœæ˜¯å¤§äº <code>0</code> çš„, æ‰€ä»¥ç”Ÿæˆå™¨åªä¼šç”Ÿæˆ <code>8</code>.</li><li>ç¬¬äºŒéƒ¨åˆ†ä¸­ <code>g1</code> å’Œ <code>g2</code> çš„è¾“å‡ºå·®å¼‚åˆ™æ˜¯ç”±äºå˜é‡ <code>array_1</code> å’Œ <code>array_2</code> è¢«é‡æ–°èµ‹å€¼çš„æ–¹å¼å¯¼è‡´çš„.</li><li>åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹, <code>array_1</code> è¢«ç»‘å®šåˆ°æ–°å¯¹è±¡ <code>[1,2,3,4,5]</code>, å› ä¸º <code>in</code> å­å¥æ˜¯åœ¨å£°æ˜æ—¶è¢«æ‰§è¡Œçš„ï¼Œ æ‰€ä»¥å®ƒä»ç„¶å¼•ç”¨æ—§å¯¹è±¡ <code>[1,2,3,4]</code>(å¹¶æ²¡æœ‰è¢«é”€æ¯).</li><li>åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹, å¯¹ <code>array_2</code> çš„åˆ‡ç‰‡èµ‹å€¼å°†ç›¸åŒçš„æ—§å¯¹è±¡ <code>[1,2,3,4]</code> åŸåœ°æ›´æ–°ä¸º <code>[1,2,3,4,5]</code>. å› æ­¤ <code>g2</code> å’Œ <code>array_2</code> ä»ç„¶å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡(è¿™ä¸ªå¯¹è±¡ç°åœ¨å·²ç»æ›´æ–°ä¸º <code>[1,2,3,4,5]</code>).</li></ul><hr><h3 id=-is-is-not-what-it-iså‡ºäººæ„æ–™çš„is>> <code>is</code> is not what it is!/å‡ºäººæ„æ–™çš„<code>is</code>!<a hidden class=anchor aria-hidden=true href=#-is-is-not-what-it-iså‡ºäººæ„æ–™çš„is>#</a></h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨äº’è”ç½‘ä¸Šéå¸¸æœ‰åçš„ä¾‹å­.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>256</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>256</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=ow>is</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=ow>is</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>257</span><span class=p>;</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=ow>is</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-7>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-7>#</a></h4><p><strong><code>is</code> å’Œ <code>==</code> çš„åŒºåˆ«</strong></p><ul><li><code>is</code> è¿ç®—ç¬¦æ£€æŸ¥ä¸¤ä¸ªè¿ç®—å¯¹è±¡æ˜¯å¦å¼•ç”¨è‡ªåŒä¸€å¯¹è±¡ (å³, å®ƒæ£€æŸ¥ä¸¤ä¸ªè¿ç®—å¯¹è±¡æ˜¯å¦ç›¸åŒ).</li><li><code>==</code> è¿ç®—ç¬¦æ¯”è¾ƒä¸¤ä¸ªè¿ç®—å¯¹è±¡çš„å€¼æ˜¯å¦ç›¸ç­‰.</li><li>å› æ­¤ <code>is</code> ä»£è¡¨å¼•ç”¨ç›¸åŒ, <code>==</code> ä»£è¡¨å€¼ç›¸ç­‰. ä¸‹é¢çš„ä¾‹å­å¯ä»¥å¾ˆå¥½çš„è¯´æ˜è¿™ç‚¹,<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[]</span> <span class=o>==</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[]</span> <span class=ow>is</span> <span class=p>[]</span> <span class=c1># è¿™ä¸¤ä¸ªç©ºåˆ—è¡¨ä½äºä¸åŒçš„å†…å­˜åœ°å€.</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p><strong><code>256</code> æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡, è€Œ <code>257</code> ä¸æ˜¯</strong></p><p>å½“ä½ å¯åŠ¨Python çš„æ—¶å€™, æ•°å€¼ä¸º <code>-5</code> åˆ° <code>256</code> çš„å¯¹è±¡å°±å·²ç»è¢«åˆ†é…å¥½äº†. è¿™äº›æ•°å­—å› ä¸ºç»å¸¸è¢«ä½¿ç”¨, æ‰€ä»¥ä¼šè¢«æå‰å‡†å¤‡å¥½.</p><p>Python é€šè¿‡è¿™ç§åˆ›å»ºå°æ•´æ•°æ± çš„æ–¹å¼æ¥é¿å…å°æ•´æ•°é¢‘ç¹çš„ç”³è¯·å’Œé”€æ¯å†…å­˜ç©ºé—´.</p><p>å¼•ç”¨è‡ª <a href=https://docs.python.org/3/c-api/long.html target=_blank rel=noopener>https://docs.python.org/3/c-api/long.html</a></p><blockquote><p>å½“å‰çš„å®ç°ä¸º-5åˆ°256ä¹‹é—´çš„æ‰€æœ‰æ•´æ•°ä¿ç•™ä¸€ä¸ªæ•´æ•°å¯¹è±¡æ•°ç»„, å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªè¯¥èŒƒå›´å†…çš„æ•´æ•°æ—¶, ä½ åªéœ€è¦è¿”å›ç°æœ‰å¯¹è±¡çš„å¼•ç”¨. æ‰€ä»¥æ”¹å˜1çš„å€¼æ˜¯æœ‰å¯èƒ½çš„. æˆ‘æ€€ç–‘è¿™ç§è¡Œä¸ºåœ¨Pythonä¸­æ˜¯æœªå®šä¹‰è¡Œä¸º. :-)</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=mi>256</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>10922528</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>256</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>256</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>10922528</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>10922528</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=mi>257</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140084850247312</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>y</span> <span class=o>=</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140084850247440</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140084850247344</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œè§£é‡Šå™¨å¹¶æ²¡æœ‰æ™ºèƒ½åˆ°èƒ½åœ¨æ‰§è¡Œ <code>y = 257</code> æ—¶æ„è¯†åˆ°æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ•´æ•° <code>257</code>, æ‰€ä»¥å®ƒåœ¨å†…å­˜ä¸­åˆæ–°å»ºäº†å¦ä¸€ä¸ªå¯¹è±¡.</p><p><strong>å½“ <code>a</code> å’Œ <code>b</code> åœ¨åŒä¸€è¡Œä¸­ä½¿ç”¨ç›¸åŒçš„å€¼åˆå§‹åŒ–æ—¶ï¼Œä¼šæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡.</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>257</span><span class=p>,</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140640774013296</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140640774013296</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>257</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140640774013392</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>140640774013488</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>å½“ a å’Œ b åœ¨åŒä¸€è¡Œä¸­è¢«è®¾ç½®ä¸º <code>257</code> æ—¶, Python è§£é‡Šå™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡, ç„¶ååŒæ—¶å¼•ç”¨ç¬¬äºŒä¸ªå˜é‡. å¦‚æœä½ åœ¨ä¸åŒçš„è¡Œä¸Šè¿›è¡Œ, å®ƒå°±ä¸ä¼š &ldquo;çŸ¥é“&rdquo; å·²ç»å­˜åœ¨ä¸€ä¸ª <code>257</code> å¯¹è±¡äº†.</li><li>è¿™æ˜¯ä¸€ç§ç‰¹åˆ«ä¸ºäº¤äº’å¼ç¯å¢ƒåšçš„ç¼–è¯‘å™¨ä¼˜åŒ–. å½“ä½ åœ¨å®æ—¶è§£é‡Šå™¨ä¸­è¾“å…¥ä¸¤è¡Œçš„æ—¶å€™, ä»–ä»¬ä¼šå•ç‹¬ç¼–è¯‘, å› æ­¤ä¹Ÿä¼šå•ç‹¬è¿›è¡Œä¼˜åŒ–. å¦‚æœä½ åœ¨ <code>.py</code> æ–‡ä»¶ä¸­å°è¯•è¿™ä¸ªä¾‹å­, åˆ™ä¸ä¼šçœ‹åˆ°ç›¸åŒçš„è¡Œä¸º, å› ä¸ºæ–‡ä»¶æ˜¯ä¸€æ¬¡æ€§ç¼–è¯‘çš„.</li></ul><hr><h3 id=-a-tic-tac-toe-where-x-wins-in-the-first-attemptä¸€è¹´å³è‡³>> A tic-tac-toe where X wins in the first attempt!/ä¸€è¹´å³è‡³!<a hidden class=anchor aria-hidden=true href=#-a-tic-tac-toe-where-x-wins-in-the-first-attemptä¸€è¹´å³è‡³>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># æˆ‘ä»¬å…ˆåˆå§‹åŒ–ä¸€ä¸ªå˜é‡row</span>
</span></span><span class=line><span class=cl><span class=n>row</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span><span class=o>*</span><span class=mi>3</span> <span class=c1>#row i[&#39;&#39;, &#39;&#39;, &#39;&#39;]</span>
</span></span><span class=line><span class=cl><span class=c1># å¹¶åˆ›å»ºä¸€ä¸ªå˜é‡board</span>
</span></span><span class=line><span class=cl><span class=n>board</span> <span class=o>=</span> <span class=p>[</span><span class=n>row</span><span class=p>]</span><span class=o>*</span><span class=mi>3</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;X&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=s1>&#39;X&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;X&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;X&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>]]</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘ä»¬æœ‰æ²¡æœ‰èµ‹å€¼è¿‡3ä¸ª &ldquo;X&rdquo; å‘¢ï¼Ÿ</p><h4 id=-è¯´æ˜-8>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-8>#</a></h4><p>å½“æˆ‘ä»¬åˆå§‹åŒ– <code>row</code> å˜é‡æ—¶, ä¸‹é¢è¿™å¼ å›¾å±•ç¤ºäº†å†…å­˜ä¸­çš„æƒ…å†µã€‚</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/img/20210911212128.png><img alt=image loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/img/20210911212128.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/img/20210911212128.png style="display:block;margin:0 auto" alt=image></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>è€Œå½“é€šè¿‡å¯¹ <code>row</code> åšä¹˜æ³•æ¥åˆå§‹åŒ– <code>board</code> æ—¶, å†…å­˜ä¸­çš„æƒ…å†µåˆ™å¦‚ä¸‹å›¾æ‰€ç¤º (æ¯ä¸ªå…ƒç´  <code>board[0]</code>, <code>board[1]</code> å’Œ <code>board[2]</code> éƒ½å’Œ <code>row</code> ä¸€æ ·å¼•ç”¨äº†åŒä¸€åˆ—è¡¨.)</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/img/20210911212130.png><img alt=image loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/img/20210911212130.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/img/20210911212130.png style="display:block;margin:0 auto" alt=image></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ä½¿ç”¨å˜é‡ <code>row</code> ç”Ÿæˆ <code>board</code> æ¥é¿å…è¿™ç§æƒ…å†µ. (<a href=https://github.com/satwikkansal/wtfpython/issues/68 target=_blank rel=noopener>è¿™ä¸ª</a>
issueæå‡ºäº†è¿™ä¸ªéœ€æ±‚.)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span> <span class=o>=</span> <span class=p>[[</span><span class=s1>&#39;&#39;</span><span class=p>]</span><span class=o>*</span><span class=mi>3</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;X&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>board</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=s1>&#39;X&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>]]</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-the-sticky-output-functionéº»çƒ¦çš„è¾“å‡º>> The sticky output function/éº»çƒ¦çš„è¾“å‡º<a hidden class=anchor aria-hidden=true href=#-the-sticky-output-functionéº»çƒ¦çš„è¾“å‡º>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>funcs</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>7</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>some_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>    <span class=n>funcs</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>some_func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>some_func</span><span class=p>())</span> <span class=c1># æ³¨æ„è¿™é‡Œå‡½æ•°è¢«æ‰§è¡Œäº†</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>funcs_results</span> <span class=o>=</span> <span class=p>[</span><span class=n>func</span><span class=p>()</span> <span class=k>for</span> <span class=n>func</span> <span class=ow>in</span> <span class=n>funcs</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>results</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>funcs_results</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>6</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>å³ä½¿æ¯æ¬¡åœ¨è¿­ä»£ä¸­å°† <code>some_func</code> åŠ å…¥ <code>funcs</code> å‰çš„ <code>x</code> å€¼éƒ½ä¸ç›¸åŒ, æ‰€æœ‰çš„å‡½æ•°è¿˜æ˜¯éƒ½è¿”å›6.</p><p>// å†æ¢ä¸ªä¾‹å­</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>powers_of_x</span> <span class=o>=</span> <span class=p>[</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>**</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=n>f</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>powers_of_x</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>,</span> <span class=mi>512</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-9>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-9>#</a></h4><ul><li><p>å½“åœ¨å¾ªç¯å†…éƒ¨å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶, å¦‚æœè¯¥å‡½æ•°åœ¨å…¶ä¸»ä½“ä¸­ä½¿ç”¨äº†å¾ªç¯å˜é‡, åˆ™é—­åŒ…å‡½æ•°å°†ä¸å¾ªç¯å˜é‡ç»‘å®š, è€Œä¸æ˜¯å®ƒçš„å€¼. å› æ­¤, æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯ä½¿ç”¨æœ€ååˆ†é…ç»™å˜é‡çš„å€¼æ¥è¿›è¡Œè®¡ç®—çš„.</p></li><li><p>å¯ä»¥é€šè¿‡å°†å¾ªç¯å˜é‡ä½œä¸ºå‘½åå˜é‡ä¼ é€’ç»™å‡½æ•°æ¥è·å¾—é¢„æœŸçš„ç»“æœ. <strong>ä¸ºä»€ä¹ˆè¿™æ ·å¯è¡Œ?</strong> å› ä¸ºè¿™ä¼šåœ¨å‡½æ•°å†…å†æ¬¡å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>funcs</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>7</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>some_func</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>    <span class=n>funcs</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>some_func</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>funcs_results</span> <span class=o>=</span> <span class=p>[</span><span class=n>func</span><span class=p>()</span> <span class=k>for</span> <span class=n>func</span> <span class=ow>in</span> <span class=n>funcs</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>funcs_results</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=-is-not--is-not-is-not-is-not--ä¸æ˜¯-is-not->> <code>is not ...</code> is not <code>is (not ...)</code>/<code>is not ...</code> ä¸æ˜¯ <code>is (not ...)</code><a hidden class=anchor aria-hidden=true href=#-is-not--is-not-is-not-is-not--ä¸æ˜¯-is-not->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;something&#39;</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;something&#39;</span> <span class=ow>is</span> <span class=p>(</span><span class=ow>not</span> <span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-10>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-10>#</a></h4><ul><li><code>is not</code> æ˜¯ä¸ªå•ç‹¬çš„äºŒå…ƒè¿ç®—ç¬¦, ä¸åˆ†åˆ«ä½¿ç”¨ <code>is</code> å’Œ <code>not</code> ä¸åŒ.</li><li>å¦‚æœæ“ä½œç¬¦ä¸¤ä¾§çš„å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, åˆ™ <code>is not</code> çš„ç»“æœä¸º <code>False</code>, å¦åˆ™ç»“æœä¸º <code>True</code>.</li></ul><hr><h3 id=-the-surprising-commaæ„å¤–çš„é€—å·>> The surprising comma/æ„å¤–çš„é€—å·<a hidden class=anchor aria-hidden=true href=#-the-surprising-commaæ„å¤–çš„é€—å·>#</a></h3><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,):</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>def</span> <span class=nf>g</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>5</span><span class=p>,):</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>def</span> <span class=nf>h</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>,):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>h</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>,):</span>
</span></span><span class=line><span class=cl>                     <span class=o>^</span>
</span></span><span class=line><span class=cl><span class=ne>SyntaxError</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>syntax</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>def</span> <span class=nf>h</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>h</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,):</span>
</span></span><span class=line><span class=cl>                <span class=o>^</span>
</span></span><span class=line><span class=cl><span class=ne>SyntaxError</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>syntax</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-11>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-11>#</a></h4><ul><li>åœ¨Pythonå‡½æ•°çš„å½¢å¼å‚æ•°åˆ—è¡¨ä¸­, å°¾éšé€—å·å¹¶ä¸ä¸€å®šæ˜¯åˆæ³•çš„.</li><li>åœ¨Pythonä¸­, å‚æ•°åˆ—è¡¨éƒ¨åˆ†ç”¨å‰ç½®é€—å·å®šä¹‰, éƒ¨åˆ†ç”¨å°¾éšé€—å·å®šä¹‰. è¿™ç§å†²çªå¯¼è‡´é€—å·è¢«å¤¹åœ¨ä¸­é—´, æ²¡æœ‰è§„åˆ™å®šä¹‰å®ƒ.(è¯‘:è¿™ä¸€å¥çœ‹å¾—æˆ‘ä¹Ÿå¾ˆæ‡µé€¼,åªèƒ½å¼ºç¿»äº†.è¯¦ç»†è§£é‡Šçœ‹ä¸‹é¢çš„è®¨è®ºå¸–ä¼šä¸€ç›®äº†ç„¶.)</li><li><strong>æ³¨æ„:</strong> å°¾éšé€—å·çš„é—®é¢˜å·²ç»åœ¨Python 3.6ä¸­è¢«<a href=https://bugs.python.org/issue9232 target=_blank rel=noopener>ä¿®å¤</a>
äº†. è€Œè¿™ç¯‡<a href=https://bugs.python.org/issue9232#msg248399 target=_blank rel=noopener>å¸–å­</a>
ä¸­åˆ™ç®€è¦è®¨è®ºäº†Pythonä¸­å°¾éšé€—å·çš„ä¸åŒç”¨æ³•.</li></ul><hr><h3 id=-backslashes-at-the-end-of-stringå­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ >> Backslashes at the end of string/å­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ <a hidden class=anchor aria-hidden=true href=#-backslashes-at-the-end-of-stringå­—ç¬¦ä¸²æœ«å°¾çš„åæ–œæ >#</a></h3><p><strong>Output:</strong></p><pre tabindex=0><code>&gt;&gt;&gt; print(&#34;\\ C:\\&#34;)
\ C:\
&gt;&gt;&gt; print(r&#34;\ C:&#34;)
\ C:
&gt;&gt;&gt; print(r&#34;\ C:\&#34;)

    File &#34;&lt;stdin&gt;&#34;, line 1
      print(r&#34;\ C:\&#34;)
                     ^
SyntaxError: EOL while scanning string literal
</code></pre><h4 id=-è¯´æ˜-12>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-12>#</a></h4><ul><li>åœ¨ä»¥ <code>r</code> å¼€å¤´çš„åŸå§‹å­—ç¬¦ä¸²ä¸­, åæ–œæ å¹¶æ²¡æœ‰ç‰¹æ®Šå«ä¹‰.<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=sa>r</span><span class=s2>&#34;wt</span><span class=se>\&#34;</span><span class=s2>f&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;wt</span><span class=se>\\</span><span class=s1>&#34;f&#39;</span>
</span></span></code></pre></td></tr></table></div></div></li><li>è§£é‡Šå™¨æ‰€åšçš„åªæ˜¯ç®€å•çš„æ”¹å˜äº†åæ–œæ çš„è¡Œä¸º, å› æ­¤ä¼šç›´æ¥æ”¾è¡Œåæ–œæ åŠåä¸€ä¸ªçš„å­—ç¬¦. è¿™å°±æ˜¯åæ–œæ åœ¨åŸå§‹å­—ç¬¦ä¸²æœ«å°¾ä¸èµ·ä½œç”¨çš„åŸå› .</li></ul><hr><h3 id=-not-knotåˆ«çº ç»“>> not knot!/åˆ«çº ç»“!<a hidden class=anchor aria-hidden=true href=#-not-knotåˆ«çº ç»“>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=kc>False</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=ow>not</span> <span class=n>x</span> <span class=o>==</span> <span class=n>y</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span> <span class=o>==</span> <span class=ow>not</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;input&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>==</span> <span class=ow>not</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>           <span class=o>^</span>
</span></span><span class=line><span class=cl><span class=ne>SyntaxError</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>syntax</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-13>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-13>#</a></h4><ul><li>è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¼šå½±å“è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåº, è€Œåœ¨ Python ä¸­ <code>==</code> è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§è¦é«˜äº <code>not</code> è¿ç®—ç¬¦.</li><li>æ‰€ä»¥ <code>not x == y</code> ç›¸å½“äº <code>not (x == y)</code>, åŒæ—¶ç­‰ä»·äº <code>not (True == False)</code>, æœ€åçš„è¿ç®—ç»“æœå°±æ˜¯ <code>True</code>.</li><li>ä¹‹æ‰€ä»¥ <code>x == not y</code> ä¼šæŠ›ä¸€ä¸ª <code>SyntaxError</code> å¼‚å¸¸, æ˜¯å› ä¸ºå®ƒä¼šè¢«è®¤ä¸ºç­‰ä»·äº <code>(x == not) y</code>, è€Œä¸æ˜¯ä½ ä¸€å¼€å§‹æœŸæœ›çš„ <code>x == (not y)</code>.</li><li>è§£é‡Šå™¨æœŸæœ› <code>not</code> æ ‡è®°æ˜¯ <code>not in</code> æ“ä½œç¬¦çš„ä¸€éƒ¨åˆ† (å› ä¸º <code>==</code> å’Œ <code>not in</code> æ“ä½œç¬¦å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§), ä½†æ˜¯å®ƒåœ¨ <code>not</code> æ ‡è®°åé¢æ‰¾ä¸åˆ° <code>in</code> æ ‡è®°, æ‰€ä»¥ä¼šæŠ›å‡º <code>SyntaxError</code> å¼‚å¸¸.</li></ul><hr><h3 id=-half-triple-quoted-stringsä¸‰ä¸ªå¼•å·>> Half triple-quoted strings/ä¸‰ä¸ªå¼•å·<a hidden class=anchor aria-hidden=true href=#-half-triple-quoted-stringsä¸‰ä¸ªå¼•å·>#</a></h3><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;wtfpython&#39;&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>wtfpython</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;wtfpython&#34;&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>wtfpython</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=c1># ä¸‹é¢çš„è¯­å¥ä¼šæŠ›å‡º `SyntaxError` å¼‚å¸¸</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=c1># print(&#39;&#39;&#39;wtfpython&#39;)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=c1># print(&#34;&#34;&#34;wtfpython&#34;)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-14>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-14>#</a></h4><ul><li>Python æä¾›éšå¼çš„<a href=https://docs.python.org/2/reference/lexical_analysis.html#string-literal-concatenation target=_blank rel=noopener>å­—ç¬¦ä¸²è¿æ¥</a>
, ä¾‹å¦‚,<pre tabindex=0><code>&gt;&gt;&gt; print(&#34;wtf&#34; &#34;python&#34;)
wtfpython
&gt;&gt;&gt; print(&#34;wtf&#34; &#34;&#34;) # or &#34;wtf&#34;&#34;&#34;
wtf
</code></pre></li><li><code>'''</code> å’Œ <code>"""</code> åœ¨ Pythonä¸­ä¹Ÿæ˜¯å­—ç¬¦ä¸²å®šç•Œç¬¦, Python è§£é‡Šå™¨åœ¨å…ˆé‡åˆ°ä¸‰ä¸ªå¼•å·çš„çš„æ—¶å€™ä¼šå°è¯•å†å¯»æ‰¾ä¸‰ä¸ªç»ˆæ­¢å¼•å·ä½œä¸ºå®šç•Œç¬¦, å¦‚æœä¸å­˜åœ¨åˆ™ä¼šå¯¼è‡´ <code>SyntaxError</code> å¼‚å¸¸.</li></ul><hr><h3 id=-midnight-time-doesnt-existä¸å­˜åœ¨çš„åˆå¤œ>> Midnight time doesn&rsquo;t exist?/ä¸å­˜åœ¨çš„åˆå¤œ?<a hidden class=anchor aria-hidden=true href=#-midnight-time-doesnt-existä¸å­˜åœ¨çš„åˆå¤œ>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>midnight</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2018</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>midnight_time</span> <span class=o>=</span> <span class=n>midnight</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>noon</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2018</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>noon_time</span> <span class=o>=</span> <span class=n>noon</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>midnight_time</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Time at midnight is&#34;</span><span class=p>,</span> <span class=n>midnight_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>noon_time</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Time at noon is&#34;</span><span class=p>,</span> <span class=n>noon_time</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=o>(</span><span class=s1>&#39;Time at noon is&#39;</span>, datetime.time<span class=o>(</span>12, 0<span class=o>))</span>
</span></span></code></pre></td></tr></table></div></div><p>midnight_time å¹¶æ²¡æœ‰è¢«è¾“å‡º.</p><h4 id=-è¯´æ˜-15>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-15>#</a></h4><p>åœ¨Python 3.5ä¹‹å‰, å¦‚æœ <code>datetime.time</code> å¯¹è±¡å­˜å‚¨çš„UTCçš„åˆå¤œæ—¶é—´(è¯‘: å°±æ˜¯ <code>00:00</code>), é‚£ä¹ˆå®ƒçš„å¸ƒå°”å€¼ä¼šè¢«è®¤ä¸ºæ˜¯ <code>False</code>. å½“ä½¿ç”¨ <code>if obj:</code> è¯­å¥æ¥æ£€æŸ¥ <code>obj</code> æ˜¯å¦ä¸º <code>null</code> æˆ–è€…æŸäº›â€œç©ºâ€å€¼çš„æ—¶å€™, å¾ˆå®¹æ˜“å‡ºé”™.</p><hr><h3 id=-whats-wrong-with-booleanså¸ƒå°”ä½ å’‹äº†>> What&rsquo;s wrong with booleans?/å¸ƒå°”ä½ å’‹äº†?<a hidden class=anchor aria-hidden=true href=#-whats-wrong-with-booleanså¸ƒå°”ä½ å’‹äº†>#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ä¸€ä¸ªç®€å•çš„ä¾‹å­, ç»Ÿè®¡ä¸‹é¢å¯è¿­ä»£å¯¹è±¡ä¸­çš„å¸ƒå°”å‹å€¼çš„ä¸ªæ•°å’Œæ•´å‹å€¼çš„ä¸ªæ•°</span>
</span></span><span class=line><span class=cl><span class=n>mixed_list</span> <span class=o>=</span> <span class=p>[</span><span class=kc>False</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>,</span> <span class=s2>&#34;some_string&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=p>[],</span> <span class=kc>False</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>integers_found_so_far</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>booleans_found_so_far</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>mixed_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>integers_found_so_far</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>booleans_found_so_far</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>integers_found_so_far</span>
</span></span><span class=line><span class=cl><span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>booleans_found_so_far</span>
</span></span><span class=line><span class=cl><span class=mi>0</span>
</span></span></code></pre></td></tr></table></div></div><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>another_dict</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>another_dict</span><span class=p>[</span><span class=kc>True</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;JavaScript&#34;</span>
</span></span><span class=line><span class=cl><span class=n>another_dict</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Ruby&#34;</span>
</span></span><span class=line><span class=cl><span class=n>another_dict</span><span class=p>[</span><span class=mf>1.0</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Python&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_dict</span><span class=p>[</span><span class=kc>True</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Python&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>3.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_bool</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s2>&#34;wtf&#34;</span><span class=o>*</span><span class=n>some_bool</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;wtf&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_bool</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s2>&#34;wtf&#34;</span><span class=o>*</span><span class=n>some_bool</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-16>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-16>#</a></h4><ul><li><p>å¸ƒå°”å€¼æ˜¯ <code>int</code> çš„å­ç±»</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>isinstance</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>isinstance</span><span class=p>(</span><span class=kc>False</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>æ‰€ä»¥ <code>True</code> çš„æ•´æ•°å€¼æ˜¯ <code>1</code>, è€Œ <code>False</code> çš„æ•´æ•°å€¼æ˜¯ <code>0</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kc>True</span> <span class=o>==</span> <span class=mi>1</span> <span class=o>==</span> <span class=mf>1.0</span> <span class=ow>and</span> <span class=kc>False</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>==</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>å…³äºå…¶èƒŒåçš„åŸç†, è¯·çœ‹è¿™ä¸ª StackOverflow çš„<a href=https://stackoverflow.com/a/8169049/4354153 target=_blank rel=noopener>å›ç­”</a>
.</p></li></ul><hr><h3 id=-class-attributes-and-instance-attributesç±»å±æ€§å’Œå®ä¾‹å±æ€§>> Class attributes and instance attributes/ç±»å±æ€§å’Œå®ä¾‹å±æ€§<a hidden class=anchor aria-hidden=true href=#-class-attributes-and-instance-attributesç±»å±æ€§å’Œå®ä¾‹å±æ€§>#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>A</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>B</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>C</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>B</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>A</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>B</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>C</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>A</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>A</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>B</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>C</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>A</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=o>.</span><span class=n>x</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>A</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>SomeClass</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>some_var</span> <span class=o>=</span> <span class=mi>15</span>
</span></span><span class=line><span class=cl>    <span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>another_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>some_var</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>some_list</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>some_list</span> <span class=o>+</span> <span class=p>[</span><span class=n>x</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>another_list</span> <span class=o>+=</span> <span class=p>[</span><span class=n>x</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_obj</span> <span class=o>=</span> <span class=n>SomeClass</span><span class=p>(</span><span class=mi>420</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_obj</span><span class=o>.</span><span class=n>some_list</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>420</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_obj</span><span class=o>.</span><span class=n>another_list</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>420</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_obj</span> <span class=o>=</span> <span class=n>SomeClass</span><span class=p>(</span><span class=mi>111</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_obj</span><span class=o>.</span><span class=n>some_list</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>111</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_obj</span><span class=o>.</span><span class=n>another_list</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>420</span><span class=p>,</span> <span class=mi>111</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_obj</span><span class=o>.</span><span class=n>another_list</span> <span class=ow>is</span> <span class=n>SomeClass</span><span class=o>.</span><span class=n>another_list</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_obj</span><span class=o>.</span><span class=n>another_list</span> <span class=ow>is</span> <span class=n>some_obj</span><span class=o>.</span><span class=n>another_list</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-17>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-17>#</a></h4><ul><li>ç±»å˜é‡å’Œå®ä¾‹å˜é‡åœ¨å†…éƒ¨æ˜¯é€šè¿‡ç±»å¯¹è±¡çš„å­—å…¸æ¥å¤„ç†(è¯‘: å°±æ˜¯ <code>__dict__</code> å±æ€§). å¦‚æœåœ¨å½“å‰ç±»çš„å­—å…¸ä¸­æ‰¾ä¸åˆ°çš„è¯å°±å»å®ƒçš„çˆ¶ç±»ä¸­å¯»æ‰¾.</li><li><code>+=</code> è¿ç®—ç¬¦ä¼šåœ¨åŸåœ°ä¿®æ”¹å¯å˜å¯¹è±¡, è€Œä¸æ˜¯åˆ›å»ºæ–°å¯¹è±¡. å› æ­¤, åœ¨è¿™ç§æƒ…å†µä¸‹, ä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„å±æ€§ä¼šå½±å“å…¶ä»–å®ä¾‹å’Œç±»å±æ€§.</li></ul><hr><h3 id=-yielding-noneç”Ÿæˆ-none>> yielding None/ç”Ÿæˆ None<a hidden class=anchor aria-hidden=true href=#-yielding-noneç”Ÿæˆ-none>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_iterable</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func</span><span class=p>(</span><span class=n>val</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;something&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>some_iterable</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[(</span><span class=k>yield</span> <span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>some_iterable</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>generator</span> <span class=nb>object</span> <span class=o>&lt;</span><span class=n>listcomp</span><span class=o>&gt;</span> <span class=n>at</span> <span class=mh>0x7f70b0a4ad58</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=p>([(</span><span class=k>yield</span> <span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>some_iterable</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=p>((</span><span class=k>yield</span> <span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>some_iterable</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=kc>None</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=p>(</span><span class=n>some_func</span><span class=p>((</span><span class=k>yield</span> <span class=n>x</span><span class=p>))</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>some_iterable</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;something&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;something&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-18>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-18>#</a></h4><ul><li>æ¥æºå’Œè§£é‡Šå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°: <a href=https://stackoverflow.com/questions/32139885/yield-in-list-comprehensions-and-generator-expressions target=_blank rel=noopener>https://stackoverflow.com/questions/32139885/yield-in-list-comprehensions-and-generator-expressions</a></li><li>ç›¸å…³é”™è¯¯æŠ¥å‘Š: <a href=http://bugs.python.org/issue10544 target=_blank rel=noopener>http://bugs.python.org/issue10544</a></li><li>è¿™ä¸ªbugåœ¨3.7ä»¥åçš„ç‰ˆæœ¬ä¸­ä¸è¢«æ¨èä½¿ç”¨, å¹¶åœ¨3.8ä¸­è¢«ä¿®å¤. å› æ­¤åœ¨3.8ä¸­å°è¯•åœ¨æ¨å¯¼å¼ä¸­ä½¿ç”¨ yield, åªä¼šå¾—åˆ°ä¸€ä¸ª SyntaxError. è¯¦ç»†å†…å®¹å¯ä»¥çœ‹<a href=https://docs.python.org/dev/whatsnew/3.7.html#deprecated-python-behavior target=_blank rel=noopener>3.7æ›´æ–°å†…å®¹</a>
, <a href=https://docs.python.org/dev/whatsnew/3.8.html#changes-in-python-behavior target=_blank rel=noopener>3.8æ›´æ–°å†…å®¹</a>
.</li></ul><hr><h3 id=-mutating-the-immutableå¼ºäººæ‰€éš¾>> Mutating the immutable!/å¼ºäººæ‰€éš¾<a hidden class=anchor aria-hidden=true href=#-mutating-the-immutableå¼ºäººæ‰€éš¾>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_tuple</span> <span class=o>=</span> <span class=p>(</span><span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=s2>&#34;tuple&#34;</span><span class=p>,</span> <span class=s2>&#34;with&#34;</span><span class=p>,</span> <span class=s2>&#34;values&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>another_tuple</span> <span class=o>=</span> <span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_tuple</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;change this&#34;</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=s1>&#39;tuple&#39;</span> <span class=nb>object</span> <span class=n>does</span> <span class=ow>not</span> <span class=n>support</span> <span class=n>item</span> <span class=n>assignment</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_tuple</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span> <span class=c1># è¿™é‡Œä¸å‡ºç°é”™è¯¯</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_tuple</span>
</span></span><span class=line><span class=cl><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>1000</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_tuple</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>+=</span> <span class=p>[</span><span class=mi>99</span><span class=p>,</span> <span class=mi>999</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=s1>&#39;tuple&#39;</span> <span class=nb>object</span> <span class=n>does</span> <span class=ow>not</span> <span class=n>support</span> <span class=n>item</span> <span class=n>assignment</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_tuple</span>
</span></span><span class=line><span class=cl><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>1000</span><span class=p>,</span> <span class=mi>99</span><span class=p>,</span> <span class=mi>999</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘è¿˜ä»¥ä¸ºå…ƒç»„æ˜¯ä¸å¯å˜çš„å‘¢&mldr;</p><h4 id=-è¯´æ˜-19>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-19>#</a></h4><ul><li><p>å¼•ç”¨ <a href=https://docs.python.org/2/reference/datamodel.html target=_blank rel=noopener>https://docs.python.org/2/reference/datamodel.html</a></p><blockquote><p>ä¸å¯å˜åºåˆ—
ä¸å¯å˜åºåˆ—çš„å¯¹è±¡ä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½å†æ”¹å˜. (å¦‚æœå¯¹è±¡åŒ…å«å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œåˆ™è¿™äº›å…¶ä»–å¯¹è±¡å¯èƒ½æ˜¯å¯å˜çš„å¹¶ä¸”å¯èƒ½ä¼šè¢«ä¿®æ”¹; ä½†æ˜¯ï¼Œç”±ä¸å¯å˜å¯¹è±¡ç›´æ¥å¼•ç”¨çš„å¯¹è±¡é›†åˆä¸èƒ½æ›´æ”¹.)</p></blockquote></li><li><p><code>+=</code> æ“ä½œç¬¦åœ¨åŸåœ°ä¿®æ”¹äº†åˆ—è¡¨. å…ƒç´ èµ‹å€¼æ“ä½œå¹¶ä¸å·¥ä½œ, ä½†æ˜¯å½“å¼‚å¸¸æŠ›å‡ºæ—¶, å…ƒç´ å·²ç»åœ¨åŸåœ°è¢«ä¿®æ”¹äº†.</p></li></ul><p>(è¯‘: å¯¹äºä¸å¯å˜å¯¹è±¡, è¿™é‡ŒæŒ‡tuple, <code>+=</code> å¹¶ä¸æ˜¯åŸå­æ“ä½œ, è€Œæ˜¯ <code>extend</code> å’Œ <code>=</code> ä¸¤ä¸ªåŠ¨ä½œ, è¿™é‡Œ <code>=</code> æ“ä½œè™½ç„¶ä¼šæŠ›å‡ºå¼‚å¸¸, ä½† <code>extend</code> æ“ä½œå·²ç»ä¿®æ”¹æˆåŠŸäº†. è¯¦ç»†è§£é‡Šå¯ä»¥çœ‹<a href=https://segmentfault.com/a/1190000010767068 target=_blank rel=noopener>è¿™é‡Œ</a>
)</p><hr><h3 id=-the-disappearing-variable-from-outer-scopeæ¶ˆå¤±çš„å¤–éƒ¨å˜é‡>> The disappearing variable from outer scope/æ¶ˆå¤±çš„å¤–éƒ¨å˜é‡<a hidden class=anchor aria-hidden=true href=#-the-disappearing-variable-from-outer-scopeæ¶ˆå¤±çš„å¤–éƒ¨å˜é‡>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>e</span> <span class=o>=</span> <span class=mi>7</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>raise</span> <span class=ne>Exception</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 2.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># prints nothing</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 3.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=ne>NameError</span><span class=p>:</span> <span class=n>name</span> <span class=s1>&#39;e&#39;</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>defined</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-20>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-20>#</a></h4><ul><li><p>å‡ºå¤„: <a href=https://docs.python.org/3/reference/compound_stmts.html#except target=_blank rel=noopener>https://docs.python.org/3/reference/compound_stmts.html#except</a></p><p>å½“ä½¿ç”¨ <code>as</code> ä¸ºç›®æ ‡åˆ†é…å¼‚å¸¸çš„æ—¶å€™, å°†åœ¨exceptå­å¥çš„æœ«å°¾æ¸…é™¤è¯¥å¼‚å¸¸.</p><p>è¿™å°±å¥½åƒ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>except</span> <span class=n>E</span> <span class=k>as</span> <span class=n>N</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>foo</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¼šè¢«ç¿»è¯‘æˆ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>except</span> <span class=n>E</span> <span class=k>as</span> <span class=n>N</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>foo</span>
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>del</span> <span class=n>N</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ„å‘³ç€å¼‚å¸¸å¿…é¡»åœ¨è¢«èµ‹å€¼ç»™å…¶ä»–å˜é‡æ‰èƒ½åœ¨ <code>except</code> å­å¥ä¹‹åå¼•ç”¨å®ƒ. è€Œå¼‚å¸¸ä¹‹æ‰€ä»¥ä¼šè¢«æ¸…é™¤, åˆ™æ˜¯ç”±äºä¸Šé¢é™„åŠ çš„å›æº¯ä¿¡æ¯(trackback)ä¼šå’Œæ ˆå¸§(stack frame)å½¢æˆå¾ªç¯å¼•ç”¨, ä½¿å¾—è¯¥æ ˆå¸§ä¸­çš„æ‰€æœ‰æœ¬åœ°å˜é‡åœ¨ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶å‘ç”Ÿä¹‹å‰éƒ½å¤„äºæ´»åŠ¨çŠ¶æ€.(è¯‘: ä¹Ÿå°±æ˜¯è¯´ä¸ä¼šè¢«å›æ”¶)</p></li><li><p>å­å¥åœ¨ Python ä¸­å¹¶æ²¡æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸ. ç¤ºä¾‹ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å¤„äºåŒä¸€ä½œç”¨åŸŸå†…, æ‰€ä»¥å˜é‡ <code>e</code> ä¼šç”±äºæ‰§è¡Œäº† <code>except</code> å­å¥è€Œè¢«åˆ é™¤. è€Œå¯¹äºæœ‰ç‹¬ç«‹çš„å†…éƒ¨ä½œç”¨åŸŸçš„å‡½æ•°æ¥è¯´æƒ…å†µå°±ä¸ä¸€æ ·äº†. ä¸‹é¢çš„ä¾‹å­è¯´æ˜äº†è¿™ä¸€ç‚¹:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>del</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span><span class=n>f</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=ne>UnboundLocalError</span><span class=p>:</span> <span class=n>local</span> <span class=n>variable</span> <span class=s1>&#39;x&#39;</span> <span class=n>referenced</span> <span class=n>before</span> <span class=n>assignment</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span><span class=n>f</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=ne>UnboundLocalError</span><span class=p>:</span> <span class=n>local</span> <span class=n>variable</span> <span class=s1>&#39;x&#39;</span> <span class=n>referenced</span> <span class=n>before</span> <span class=n>assignment</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>y</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>åœ¨ Python 2.x ä¸­, <code>Exception()</code> å®ä¾‹è¢«èµ‹å€¼ç»™äº†å˜é‡ <code>e</code>, æ‰€ä»¥å½“ä½ å°è¯•æ‰“å°ç»“æœçš„æ—¶å€™, å®ƒçš„è¾“å‡ºä¸ºç©º.ï¼ˆè¯‘: æ­£å¸¸çš„Exceptionå®ä¾‹æ‰“å°å‡ºæ¥å°±æ˜¯ç©ºï¼‰</p><p><strong>Output (Python 2.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>e</span>
</span></span><span class=line><span class=cl><span class=ne>Exception</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span> <span class=n>e</span>
</span></span><span class=line><span class=cl><span class=c1># æ²¡æœ‰æ‰“å°ä»»ä½•å†…å®¹!</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=-when-true-is-actually-falseçœŸäº¦å‡>> When True is actually False/çœŸäº¦å‡<a hidden class=anchor aria-hidden=true href=#-when-true-is-actually-falseçœŸäº¦å‡>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kc>True</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=kc>True</span> <span class=o>==</span> <span class=kc>False</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;I&#39;ve lost faith in truth!&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><pre tabindex=0><code>I&#39;ve lost faith in truth!
</code></pre><h4 id=-è¯´æ˜-21>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-21>#</a></h4><ul><li>æœ€åˆ, Python å¹¶æ²¡æœ‰ <code>bool</code> å‹ (äººä»¬ç”¨0è¡¨ç¤ºå‡å€¼, ç”¨éé›¶å€¼æ¯”å¦‚1ä½œä¸ºçœŸå€¼). åæ¥ä»–ä»¬æ·»åŠ äº† <code>True</code>, <code>False</code>, å’Œ <code>bool</code> å‹, ä½†æ˜¯, ä¸ºäº†å‘åå…¼å®¹, ä»–ä»¬æ²¡æ³•æŠŠ <code>True</code> å’Œ <code>False</code> è®¾ç½®ä¸ºå¸¸é‡, åªæ˜¯è®¾ç½®æˆäº†å†…ç½®å˜é‡.</li><li>Python 3 ç”±äºä¸å†éœ€è¦å‘åå…¼å®¹, ç»ˆäºå¯ä»¥ä¿®å¤è¿™ä¸ªé—®é¢˜äº†, æ‰€ä»¥è¿™ä¸ªä¾‹å­æ— æ³•åœ¨ Python 3.x ä¸­æ‰§è¡Œ!</li></ul><hr><h3 id=-from-filled-to-none-in-one-instructionä»æœ‰åˆ°æ— >> From filled to None in one instruction&mldr;/ä»æœ‰åˆ°æ— &mldr;<a hidden class=anchor aria-hidden=true href=#-from-filled-to-none-in-one-instructionä»æœ‰åˆ°æ— >#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>some_dict</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;key_1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;key_2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;key_3&#34;</span><span class=p>:</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>some_list</span> <span class=o>=</span> <span class=n>some_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>some_dict</span> <span class=o>=</span> <span class=n>some_dict</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&#34;key_4&#34;</span><span class=p>:</span> <span class=mi>4</span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>some_list</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>None</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>some_dict</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>None</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-22>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-22>#</a></h4><p>å¤§å¤šæ•°ä¿®æ”¹åºåˆ—/æ˜ å°„å¯¹è±¡çš„æ–¹æ³•, æ¯”å¦‚ <code>list.append</code>, <code>dict.update</code>, <code>list.sort</code> ç­‰ç­‰. éƒ½æ˜¯åŸåœ°ä¿®æ”¹å¯¹è±¡å¹¶è¿”å› <code>None</code>. è¿™æ ·åšçš„ç†ç”±æ˜¯, å¦‚æœæ“ä½œå¯ä»¥åŸåœ°å®Œæˆ, å°±å¯ä»¥é¿å…åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬æ¥æé«˜æ€§èƒ½. (å‚è€ƒ<a href=http://docs.python.org/2/faq/design.html#why-doesn-t-list-sort-return-the-sorted-list target=_blank rel=noopener>è¿™é‡Œ</a>
)</p><hr><h3 id=-subclass-relationshipså­ç±»å…³ç³»->> Subclass relationships/å­ç±»å…³ç³» *<a hidden class=anchor aria-hidden=true href=#-subclass-relationshipså­ç±»å…³ç³»->#</a></h3><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>Hashable</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>issubclass</span><span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>object</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>issubclass</span><span class=p>(</span><span class=nb>object</span><span class=p>,</span> <span class=n>Hashable</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>issubclass</span><span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=n>Hashable</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span></code></pre></td></tr></table></div></div><p>å­ç±»å…³ç³»åº”è¯¥æ˜¯å¯ä¼ é€’çš„, å¯¹å§? (å³, å¦‚æœ <code>A</code> æ˜¯ <code>B</code> çš„å­ç±», <code>B</code> æ˜¯ <code>C</code> çš„å­ç±», é‚£ä¹ˆ <code>A</code> <em>åº”è¯¥</em> æ˜¯ <code>C</code> çš„å­ç±».)</p><h4 id=-è¯´æ˜-23>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-23>#</a></h4><ul><li>Python ä¸­çš„å­ç±»å…³ç³»å¹¶ä¸ä¸€å®šæ˜¯ä¼ é€’çš„. ä»»ä½•äººéƒ½å¯ä»¥åœ¨å…ƒç±»ä¸­éšæ„å®šä¹‰ <code>__subclasscheck__</code>.</li><li>å½“ <code>issubclass(cls, Hashable)</code> è¢«è°ƒç”¨æ—¶, å®ƒåªæ˜¯åœ¨ <code>cls</code> ä¸­å¯»æ‰¾ <code>__hash__</code> æ–¹æ³•æˆ–è€…ä»ç»§æ‰¿çš„çˆ¶ç±»ä¸­å¯»æ‰¾ <code>__hash__</code> æ–¹æ³•.</li><li>ç”±äº <code>object</code> is å¯æ•£åˆ—çš„(hashable), ä½†æ˜¯ <code>list</code> æ˜¯ä¸å¯æ•£åˆ—çš„, æ‰€ä»¥å®ƒæ‰“ç ´äº†è¿™ç§ä¼ é€’å…³ç³».</li><li>åœ¨<a href=https://www.naftaliharris.com/blog/python-subclass-intransitivity/ target=_blank rel=noopener>è¿™é‡Œ</a>
å¯ä»¥æ‰¾åˆ°æ›´è¯¦ç»†çš„è§£é‡Š.</li></ul><hr><h3 id=-the-mysterious-key-type-conversionç¥ç§˜çš„é”®å‹è½¬æ¢->> The mysterious key type conversion/ç¥ç§˜çš„é”®å‹è½¬æ¢ *<a hidden class=anchor aria-hidden=true href=#-the-mysterious-key-type-conversionç¥ç§˜çš„é”®å‹è½¬æ¢->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>SomeClass</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>some_dict</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span><span class=mi>42</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>type</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>some_dict</span><span class=o>.</span><span class=n>keys</span><span class=p>())[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>str</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>s</span> <span class=o>=</span> <span class=n>SomeClass</span><span class=p>(</span><span class=s1>&#39;s&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span><span class=p>[</span><span class=n>s</span><span class=p>]</span> <span class=o>=</span> <span class=mi>40</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span> <span class=c1># é¢„æœŸ: ä¸¤ä¸ªä¸åŒçš„é”®å€¼å¯¹</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span> <span class=mi>40</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>type</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>some_dict</span><span class=o>.</span><span class=n>keys</span><span class=p>())[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>str</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-24>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-24>#</a></h4><ul><li><p>ç”±äº <code>SomeClass</code> ä¼šä» <code>str</code> è‡ªåŠ¨ç»§æ‰¿ <code>__hash__</code> æ–¹æ³•, æ‰€ä»¥ <code>s</code> å¯¹è±¡å’Œ <code>"s"</code> å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼æ˜¯ç›¸åŒçš„.</p></li><li><p>è€Œ <code>SomeClass("s") == "s"</code> ä¸º <code>True</code> æ˜¯å› ä¸º <code>SomeClass</code> ä¹Ÿç»§æ‰¿äº† <code>str</code> ç±» <code>__eq__</code> æ–¹æ³•.</p></li><li><p>ç”±äºä¸¤è€…çš„å“ˆå¸Œå€¼ç›¸åŒä¸”ç›¸ç­‰, æ‰€ä»¥å®ƒä»¬åœ¨å­—å…¸ä¸­è¡¨ç¤ºç›¸åŒçš„é”®.</p></li><li><p>å¦‚æœæƒ³è¦å®ç°æœŸæœ›çš„åŠŸèƒ½, æˆ‘ä»¬å¯ä»¥é‡å®šä¹‰ <code>SomeClass</code> çš„ <code>__eq__</code> æ–¹æ³•.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>SomeClass</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=nb>type</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=ow>is</span> <span class=n>SomeClass</span>
</span></span><span class=line><span class=cl>          <span class=ow>and</span> <span class=nb>type</span><span class=p>(</span><span class=n>other</span><span class=p>)</span> <span class=ow>is</span> <span class=n>SomeClass</span>
</span></span><span class=line><span class=cl>          <span class=ow>and</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__eq__</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1># å½“æˆ‘ä»¬è‡ªå®šä¹‰ __eq__ æ–¹æ³•æ—¶, Python ä¸ä¼šå†è‡ªåŠ¨ç»§æ‰¿ __hash__ æ–¹æ³•</span>
</span></span><span class=line><span class=cl>  <span class=c1># æ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦å®šä¹‰å®ƒ</span>
</span></span><span class=line><span class=cl>  <span class=fm>__hash__</span> <span class=o>=</span> <span class=nb>str</span><span class=o>.</span><span class=fm>__hash__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>some_dict</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span><span class=mi>42</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>s</span> <span class=o>=</span> <span class=n>SomeClass</span><span class=p>(</span><span class=s1>&#39;s&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span><span class=p>[</span><span class=n>s</span><span class=p>]</span> <span class=o>=</span> <span class=mi>40</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_dict</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span> <span class=s1>&#39;s&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>keys</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>some_dict</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>type</span><span class=p>(</span><span class=n>keys</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span> <span class=nb>type</span><span class=p>(</span><span class=n>keys</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>__main__</span><span class=o>.</span><span class=n>SomeClass</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=-lets-see-if-you-can-guess-thisçœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹>> Let&rsquo;s see if you can guess this?/çœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹?<a hidden class=anchor aria-hidden=true href=#-lets-see-if-you-can-guess-thisçœ‹çœ‹ä½ èƒ½å¦çŒœåˆ°è¿™ä¸€ç‚¹>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>a</span><span class=p>[</span><span class=n>b</span><span class=p>]</span> <span class=o>=</span> <span class=p>{},</span> <span class=mi>5</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=mi>5</span><span class=p>:</span> <span class=p>({</span><span class=o>...</span><span class=p>},</span> <span class=mi>5</span><span class=p>)}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-25>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-25>#</a></h4><ul><li><p>æ ¹æ® <a href=https://docs.python.org/2/reference/simple_stmts.html#assignment-statements target=_blank rel=noopener>Python è¯­è¨€å‚è€ƒ</a>
, èµ‹å€¼è¯­å¥çš„å½¢å¼å¦‚ä¸‹</p><pre tabindex=0><code>(target_list &#34;=&#34;)+ (expression_list | yield_expression)
</code></pre><blockquote><p>èµ‹å€¼è¯­å¥è®¡ç®—è¡¨è¾¾å¼åˆ—è¡¨(expression list)(ç‰¢è®° è¿™å¯ä»¥æ˜¯å•ä¸ªè¡¨è¾¾å¼æˆ–ä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨, åè€…è¿”å›å…ƒç»„)å¹¶å°†å•ä¸ªç»“æœå¯¹è±¡ä»å·¦åˆ°å³åˆ†é…ç»™ç›®æ ‡åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹.</p></blockquote></li><li><p><code>(target_list "=")+</code> ä¸­çš„ <code>+</code> æ„å‘³ç€å¯ä»¥æœ‰<strong>ä¸€ä¸ªæˆ–å¤šä¸ª</strong>ç›®æ ‡åˆ—è¡¨. åœ¨è¿™ä¸ªä¾‹å­ä¸­, ç›®æ ‡åˆ—è¡¨æ˜¯ <code>a, b</code> å’Œ <code>a[b]</code> (æ³¨æ„è¡¨è¾¾å¼åˆ—è¡¨åªèƒ½æœ‰ä¸€ä¸ª, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯ <code>{}, 5</code>).</p></li><li><p>è¡¨è¾¾å¼åˆ—è¡¨è®¡ç®—ç»“æŸå, å°†å…¶å€¼è‡ªåŠ¨è§£åŒ…å<strong>ä»å·¦åˆ°å³</strong>åˆ†é…ç»™ç›®æ ‡åˆ—è¡¨(target list). å› æ­¤, åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­, é¦–å…ˆå°† <code>{}, 5</code> å…ƒç»„å¹¶èµ‹å€¼ç»™ <code>a, b</code>, ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ° <code>a = {}</code> ä¸” <code>b = 5</code>.</p></li><li><p><code>a</code> è¢«èµ‹å€¼çš„ <code>{}</code> æ˜¯å¯å˜å¯¹è±¡.</p></li><li><p>ç¬¬äºŒä¸ªç›®æ ‡åˆ—è¡¨æ˜¯ <code>a[b]</code> (ä½ å¯èƒ½è§‰å¾—è¿™é‡Œä¼šæŠ¥é”™, å› ä¸ºåœ¨ä¹‹å‰çš„è¯­å¥ä¸­ <code>a</code> å’Œ <code>b</code> éƒ½è¿˜æ²¡æœ‰è¢«å®šä¹‰. ä½†æ˜¯åˆ«å¿˜äº†, æˆ‘ä»¬åˆšåˆšå°† <code>a</code> èµ‹å€¼ <code>{}</code> ä¸”å°† <code>b</code> èµ‹å€¼ä¸º <code>5</code>).</p></li><li><p>ç°åœ¨, æˆ‘ä»¬å°†é€šè¿‡å°†å­—å…¸ä¸­é”® <code>5</code> çš„å€¼è®¾ç½®ä¸ºå…ƒç»„ <code>({}, 5)</code> æ¥åˆ›å»ºå¾ªç¯å¼•ç”¨ (è¾“å‡ºä¸­çš„ <code>{...}</code> æŒ‡ä¸ <code>a</code> å¼•ç”¨äº†ç›¸åŒçš„å¯¹è±¡). ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„å¾ªç¯å¼•ç”¨çš„ä¾‹å­</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span> <span class=o>=</span> <span class=n>some_list</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=o>...</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=o>...</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span> <span class=ow>is</span> <span class=n>some_list</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=n>some_list</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘ä»¬çš„ä¾‹å­å°±æ˜¯è¿™ç§æƒ…å†µ (<code>a[b][0]</code> ä¸ <code>a</code> æ˜¯ç›¸åŒçš„å¯¹è±¡)</p></li><li><p>æ€»ç»“ä¸€ä¸‹, ä½ ä¹Ÿå¯ä»¥æŠŠä¾‹å­æ‹†æˆ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=p>{},</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>[</span><span class=n>b</span><span class=p>]</span> <span class=o>=</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span>
</span></span></code></pre></td></tr></table></div></div><p>å¹¶ä¸”å¯ä»¥é€šè¿‡ <code>a[b][0]</code> ä¸ <code>a</code> æ˜¯ç›¸åŒçš„å¯¹è±¡æ¥è¯æ˜æ˜¯å¾ªç¯å¼•ç”¨</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>[</span><span class=n>b</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=ow>is</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><hr><h2 id=section-appearances-are-deceptiveå¤–è¡¨æ˜¯é ä¸ä½çš„>Section: Appearances are deceptive!/å¤–è¡¨æ˜¯é ä¸ä½çš„!<a hidden class=anchor aria-hidden=true href=#section-appearances-are-deceptiveå¤–è¡¨æ˜¯é ä¸ä½çš„>#</a></h2><h3 id=-skipping-linesè·³è¿‡ä¸€è¡Œ>> Skipping lines?/è·³è¿‡ä¸€è¡Œ?<a hidden class=anchor aria-hidden=true href=#-skipping-linesè·³è¿‡ä¸€è¡Œ>#</a></h3><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>value</span> <span class=o>=</span> <span class=mi>11</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>valuĞµ</span> <span class=o>=</span> <span class=mi>32</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>value</span>
</span></span><span class=line><span class=cl><span class=mi>11</span>
</span></span></code></pre></td></tr></table></div></div><p>ä»€ä¹ˆé¬¼?</p><p><strong>æ³¨æ„:</strong> å¦‚æœä½ æƒ³è¦é‡ç°çš„è¯æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥å¤åˆ¶ä¸Šé¢çš„ä»£ç ç‰‡æ®µåˆ°ä½ çš„æ–‡ä»¶æˆ–å‘½ä»¤è¡Œé‡Œ.</p><h4 id=-è¯´æ˜-26>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-26>#</a></h4><p>ä¸€äº›éè¥¿æ–¹å­—ç¬¦è™½ç„¶çœ‹èµ·æ¥å’Œè‹±è¯­å­—æ¯ç›¸åŒ, ä½†ä¼šè¢«è§£é‡Šå™¨è¯†åˆ«ä¸ºä¸åŒçš„å­—æ¯.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>&#39;Ğµ&#39;</span><span class=p>)</span> <span class=c1># è¥¿é‡Œå°”è¯­çš„ &#39;e&#39; (Ye)</span>
</span></span><span class=line><span class=cl><span class=mi>1077</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>&#39;e&#39;</span><span class=p>)</span> <span class=c1># æ‹‰ä¸è¯­çš„ &#39;e&#39;, ç”¨äºè‹±æ–‡å¹¶ä½¿ç”¨æ ‡å‡†é”®ç›˜è¾“å…¥</span>
</span></span><span class=line><span class=cl><span class=mi>101</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;Ğµ&#39;</span> <span class=o>==</span> <span class=s1>&#39;e&#39;</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>value</span> <span class=o>=</span> <span class=mi>42</span> <span class=c1># æ‹‰ä¸è¯­ e</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>valuĞµ</span> <span class=o>=</span> <span class=mi>23</span> <span class=c1># è¥¿é‡Œå°”è¯­ &#39;e&#39;, Python 2.x çš„è§£é‡Šå™¨åœ¨è¿™ä¼šæŠ›å‡º `SyntaxError` å¼‚å¸¸</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>value</span>
</span></span><span class=line><span class=cl><span class=mi>42</span>
</span></span></code></pre></td></tr></table></div></div><p>å†…ç½®çš„ <code>ord()</code> å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå­—ç¬¦çš„ Unicode <a href=https://en.wikipedia.org/wiki/Code_point target=_blank rel=noopener>ä»£ç ç‚¹</a>
, è¿™é‡Œè¥¿é‡Œå°”è¯­ &rsquo;e&rsquo; å’Œæ‹‰ä¸è¯­ &rsquo;e&rsquo; çš„ä»£ç ç‚¹ä¸åŒè¯å®äº†ä¸Šè¿°ä¾‹å­.</p><hr><h3 id=-teleportationç©ºé—´ç§»åŠ¨->> Teleportation/ç©ºé—´ç§»åŠ¨ *<a hidden class=anchor aria-hidden=true href=#-teleportationç©ºé—´ç§»åŠ¨->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>energy_send</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># åˆå§‹åŒ–ä¸€ä¸ª numpy æ•°ç»„</span>
</span></span><span class=line><span class=cl>    <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=nb>float</span><span class=p>(</span><span class=n>x</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>energy_receive</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># è¿”å›ä¸€ä¸ªç©ºçš„ numpy æ•°ç»„</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((),</span> <span class=n>dtype</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>float</span><span class=p>)</span><span class=o>.</span><span class=n>tolist</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>energy_send</span><span class=p>(</span><span class=mf>123.456</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>energy_receive</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=mf>123.456</span>
</span></span></code></pre></td></tr></table></div></div><p>è°æ¥ç»™æˆ‘å‘ä¸ªè¯ºè´å°”å¥–?</p><h4 id=-è¯´æ˜-27>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-27>#</a></h4><ul><li>æ³¨æ„åœ¨ <code>energy_send</code> å‡½æ•°ä¸­åˆ›å»ºçš„ numpy æ•°ç»„å¹¶æ²¡æœ‰è¿”å›, å› æ­¤å†…å­˜ç©ºé—´è¢«é‡Šæ”¾å¹¶å¯ä»¥è¢«é‡æ–°åˆ†é….</li><li><code>numpy.empty()</code> ç›´æ¥è¿”å›ä¸‹ä¸€æ®µç©ºé—²å†…å­˜ï¼Œè€Œä¸é‡æ–°åˆå§‹åŒ–. è€Œè¿™ä¸ªå†…å­˜ç‚¹æ°å¥½å°±æ˜¯åˆšåˆšé‡Šæ”¾çš„é‚£ä¸ª(é€šå¸¸æƒ…å†µä¸‹, å¹¶ä¸ç»å¯¹).</li></ul><hr><h3 id=-well-something-is-fishyå—¯æœ‰äº›å¯ç–‘>> Well, something is fishy&mldr;/å—¯ï¼Œæœ‰äº›å¯ç–‘&mldr;<a hidden class=anchor aria-hidden=true href=#-well-something-is-fishyå—¯æœ‰äº›å¯ç–‘>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>square</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    ä¸€ä¸ªé€šè¿‡åŠ æ³•è®¡ç®—å¹³æ–¹çš„ç®€å•å‡½æ•°.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>sum_so_far</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>counter</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>sum_so_far</span> <span class=o>=</span> <span class=n>sum_so_far</span> <span class=o>+</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>sum_so_far</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 2.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>square</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>10</span>
</span></span></code></pre></td></tr></table></div></div><p>éš¾é“ä¸åº”è¯¥æ˜¯100å—?</p><p><strong>æ³¨æ„:</strong> å¦‚æœä½ æ— æ³•é‡ç°, å¯ä»¥å°è¯•è¿è¡Œè¿™ä¸ªæ–‡ä»¶<a href=/mixed_tabs_and_spaces.py>mixed_tabs_and_spaces.py</a>
.</p><h4 id=-è¯´æ˜-28>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-28>#</a></h4><ul><li><p><strong>ä¸è¦æ··ç”¨åˆ¶è¡¨ç¬¦(tab)å’Œç©ºæ ¼(space)!</strong> åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, return çš„å‰é¢æ˜¯"1ä¸ªåˆ¶è¡¨ç¬¦", è€Œå…¶ä»–éƒ¨åˆ†çš„ä»£ç å‰é¢æ˜¯ &ldquo;4ä¸ªç©ºæ ¼&rdquo;.</p></li><li><p>Pythonæ˜¯è¿™ä¹ˆå¤„ç†åˆ¶è¡¨ç¬¦çš„:</p><blockquote><p>é¦–å…ˆ, åˆ¶è¡¨ç¬¦ä¼šä»å·¦åˆ°å³ä¾æ¬¡è¢«æ›¿æ¢æˆ8ä¸ªç©ºæ ¼, ç›´åˆ°è¢«æ›¿æ¢åçš„å­—ç¬¦æ€»æ•°æ˜¯å…«çš„å€æ•° &lt;&mldr;></p></blockquote></li><li><p>å› æ­¤, <code>square</code> å‡½æ•°æœ€åä¸€è¡Œçš„åˆ¶è¡¨ç¬¦ä¼šè¢«æ›¿æ¢æˆ8ä¸ªç©ºæ ¼, å¯¼è‡´returnè¯­å¥è¿›å…¥å¾ªç¯è¯­å¥é‡Œé¢.</p></li><li><p>Python 3 å¾ˆå‹å¥½, åœ¨è¿™ç§æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æŠ›å‡ºé”™è¯¯.</p><p><strong>Output (Python 3.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ne>TabError</span><span class=p>:</span> <span class=n>inconsistent</span> <span class=n>use</span> <span class=n>of</span> <span class=n>tabs</span> <span class=ow>and</span> <span class=n>spaces</span> <span class=ow>in</span> <span class=n>indentation</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><hr><h2 id=section-watch-out-for-the-landmineså°å¿ƒåœ°é›·>Section: Watch out for the landmines!/å°å¿ƒåœ°é›·!<a hidden class=anchor aria-hidden=true href=#section-watch-out-for-the-landmineså°å¿ƒåœ°é›·>#</a></h2><h3 id=-modifying-a-dictionary-while-iterating-over-itè¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹>> Modifying a dictionary while iterating over it/è¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹<a hidden class=anchor aria-hidden=true href=#-modifying-a-dictionary-while-iterating-over-itè¿­ä»£å­—å…¸æ—¶çš„ä¿®æ”¹>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>:</span> <span class=kc>None</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>x</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>del</span> <span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 2.7- Python 3.5):</strong></p><pre tabindex=0><code>0
1
2
3
4
5
6
7
</code></pre><p>æ˜¯çš„, å®ƒè¿è¡Œäº†<strong>å…«æ¬¡</strong>ç„¶åæ‰åœä¸‹æ¥.</p><h4 id=-è¯´æ˜-29>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-29>#</a></h4><ul><li>Pythonä¸æ”¯æŒå¯¹å­—å…¸è¿›è¡Œè¿­ä»£çš„åŒæ—¶ä¿®æ”¹å®ƒ.</li><li>å®ƒä¹‹æ‰€ä»¥è¿è¡Œ8æ¬¡, æ˜¯å› ä¸ºå­—å…¸ä¼šè‡ªåŠ¨æ‰©å®¹ä»¥å®¹çº³æ›´å¤šé”®å€¼(æˆ‘ä»¬æœ‰8æ¬¡åˆ é™¤è®°å½•, å› æ­¤éœ€è¦æ‰©å®¹). è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚. (è¯‘: åº”è¯¥æ˜¯å› ä¸ºå­—å…¸çš„åˆå§‹æœ€å°å€¼æ˜¯8, æ‰©å®¹ä¼šå¯¼è‡´æ•£åˆ—è¡¨åœ°å€å‘ç”Ÿå˜åŒ–è€Œä¸­æ–­å¾ªç¯.)</li><li>åœ¨ä¸åŒçš„Pythonå®ç°ä¸­åˆ é™¤é”®çš„å¤„ç†æ–¹å¼ä»¥åŠè°ƒæ•´å¤§å°çš„æ—¶é—´å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒ.(è¯‘: å°±æ˜¯è¯´ä»€ä¹ˆæ—¶å€™æ‰©å®¹åœ¨ä¸åŒç‰ˆæœ¬ä¸­å¯èƒ½æ˜¯ä¸åŒçš„, åœ¨3.6åŠ3.7çš„ç‰ˆæœ¬ä¸­åˆ°<a href=https://github.com/python/cpython/blob/v3.6.1/Objects/dictobject.c#L103-L110 target=_blank rel=noopener>5</a>
å°±ä¼šè‡ªåŠ¨æ‰©å®¹äº†. ä»¥åä¹Ÿæœ‰å¯èƒ½å†æ¬¡å‘ç”Ÿå˜åŒ–. è¿™æ˜¯ä¸ºäº†é¿å…æ•£åˆ—å†²çª. é¡ºå¸¦ä¸€æ, åé¢ä¸¤æ¬¡æ‰©å®¹ä¼šæ‰©å±•ä¸º32å’Œ256. å³<code>8->32->256</code>.)</li><li>æ›´å¤šçš„ä¿¡æ¯, ä½ å¯ä»¥å‚è€ƒè¿™ä¸ªStackOverflowçš„<a href=https://stackoverflow.com/questions/44763802/bug-in-python-dict target=_blank rel=noopener>å›ç­”</a>
, å®ƒè¯¦ç»†çš„è§£é‡Šä¸€ä¸ªç±»ä¼¼çš„ä¾‹å­.</li></ul><hr><h3 id=-stubborn-del-operatoråšå¼ºçš„-del->> Stubborn <code>del</code> operator/åšå¼ºçš„ <code>del</code> *<a hidden class=anchor aria-hidden=true href=#-stubborn-del-operatoråšå¼ºçš„-del->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>SomeClass</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Deleted!&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong>
1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span> <span class=o>=</span> <span class=n>SomeClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>y</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>del</span> <span class=n>x</span> <span class=c1># è¿™é‡Œåº”è¯¥ä¼šè¾“å‡º &#34;Deleted!&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>del</span> <span class=n>y</span>
</span></span><span class=line><span class=cl><span class=n>Deleted</span><span class=err>!</span>
</span></span></code></pre></td></tr></table></div></div><p>å”·, ç»ˆäºåˆ é™¤äº†. ä½ å¯èƒ½å·²ç»çŒœåˆ°äº†åœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡å°è¯•åˆ é™¤ <code>x</code> æ—¶æ˜¯ä»€ä¹ˆè®© <code>__del__</code> å…äºè¢«è°ƒç”¨çš„. é‚£è®©æˆ‘ä»¬ç»™è¿™ä¸ªä¾‹å­å¢åŠ ç‚¹éš¾åº¦.</p><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span> <span class=o>=</span> <span class=n>SomeClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>y</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>del</span> <span class=n>x</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>y</span> <span class=c1># æ£€æŸ¥ä¸€ä¸‹yæ˜¯å¦å­˜åœ¨</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>SomeClass</span> <span class=n>instance</span> <span class=n>at</span> <span class=mh>0x7f98a1a67fc8</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>del</span> <span class=n>y</span> <span class=c1># åƒä¹‹å‰ä¸€æ ·, è¿™é‡Œåº”è¯¥ä¼šè¾“å‡º &#34;Deleted!&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>globals</span><span class=p>()</span> <span class=c1># å¥½å§, å¹¶æ²¡æœ‰. è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰€æœ‰çš„å…¨å±€å˜é‡</span>
</span></span><span class=line><span class=cl><span class=n>Deleted</span><span class=err>!</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;__builtins__&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>module</span> <span class=s1>&#39;__builtin__&#39;</span> <span class=p>(</span><span class=n>built</span><span class=o>-</span><span class=ow>in</span><span class=p>)</span><span class=o>&gt;</span><span class=p>,</span> <span class=s1>&#39;SomeClass&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=k>class</span> <span class=nc>__main__</span><span class=o>.</span><span class=n>SomeClass</span> <span class=n>at</span> <span class=mh>0x7f98a1a5f668</span><span class=o>&gt;</span><span class=p>,</span> <span class=s1>&#39;__package__&#39;</span><span class=p>:</span> <span class=kc>None</span><span class=p>,</span> <span class=s1>&#39;__name__&#39;</span><span class=p>:</span> <span class=s1>&#39;__main__&#39;</span><span class=p>,</span> <span class=s1>&#39;__doc__&#39;</span><span class=p>:</span> <span class=kc>None</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>å¥½äº†ï¼Œç°åœ¨å®ƒè¢«åˆ é™¤äº† :confused:</p><h4 id=-è¯´æ˜-30>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-30>#</a></h4><ul><li><code>del x</code> å¹¶ä¸ä¼šç«‹åˆ»è°ƒç”¨ <code>x.__del__()</code>.</li><li>æ¯å½“é‡åˆ° <code>del x</code>, Python ä¼šå°† <code>x</code> çš„å¼•ç”¨æ•°å‡1, å½“ <code>x</code> çš„å¼•ç”¨æ•°å‡åˆ°0æ—¶å°±ä¼šè°ƒç”¨ <code>x.__del__()</code>.</li><li>åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­, <code>y.__del__()</code> ä¹‹æ‰€ä»¥æœªè¢«è°ƒç”¨, æ˜¯å› ä¸ºå‰ä¸€æ¡è¯­å¥ (<code>>>> y</code>) å¯¹åŒä¸€å¯¹è±¡åˆ›å»ºäº†å¦ä¸€ä¸ªå¼•ç”¨, ä»è€Œé˜²æ­¢åœ¨æ‰§è¡Œ <code>del y</code> åå¯¹è±¡çš„å¼•ç”¨æ•°å˜ä¸º0.</li><li>è°ƒç”¨ <code>globals</code> å¯¼è‡´å¼•ç”¨è¢«é”€æ¯, å› æ­¤æˆ‘ä»¬å¯ä»¥çœ‹åˆ° &ldquo;Deleted!&rdquo; ç»ˆäºè¢«è¾“å‡ºäº†.</li><li>(è¯‘: è¿™å…¶å®æ˜¯ Python äº¤äº’è§£é‡Šå™¨çš„ç‰¹æ€§, å®ƒä¼šè‡ªåŠ¨è®© <code>_</code> ä¿å­˜ä¸Šä¸€ä¸ªè¡¨è¾¾å¼è¾“å‡ºçš„å€¼, è¯¦ç»†å¯ä»¥çœ‹<a href=https://www.cnblogs.com/leisurelylicht/p/diao-pi-de-kong-zhi-tai.html target=_blank rel=noopener>è¿™é‡Œ</a>
.)</li></ul><hr><h3 id=-deleting-a-list-item-while-iteratingè¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ >> Deleting a list item while iterating/è¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ <a hidden class=anchor aria-hidden=true href=#-deleting-a-list-item-while-iteratingè¿­ä»£åˆ—è¡¨æ—¶åˆ é™¤å…ƒç´ >#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>list_1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list_2</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list_3</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list_4</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>list_1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>del</span> <span class=n>item</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>list_2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>list_2</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>list_3</span><span class=p>[:]):</span>
</span></span><span class=line><span class=cl>    <span class=n>list_3</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>list_4</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>list_4</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>idx</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>list_1</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>list_2</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>list_3</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>list_4</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>ä½ èƒ½çŒœåˆ°ä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯ <code>[2, 4]</code> å—?</p><h4 id=-è¯´æ˜-31>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-31>#</a></h4><ul><li><p>åœ¨è¿­ä»£æ—¶ä¿®æ”¹å¯¹è±¡æ˜¯ä¸€ä¸ªå¾ˆæ„šè ¢çš„ä¸»æ„. æ­£ç¡®çš„åšæ³•æ˜¯è¿­ä»£å¯¹è±¡çš„å‰¯æœ¬, <code>list_3[:]</code> å°±æ˜¯è¿™ä¹ˆåšçš„.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>some_list</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>139798789457608</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>some_list</span><span class=p>[:])</span> <span class=c1># æ³¨æ„pythonä¸ºåˆ‡ç‰‡åˆ—è¡¨åˆ›å»ºäº†æ–°å¯¹è±¡.</span>
</span></span><span class=line><span class=cl><span class=mi>139798779601192</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p><strong><code>del</code>, <code>remove</code> å’Œ <code>pop</code> çš„ä¸åŒ:</strong></p><ul><li><code>del var_name</code> åªæ˜¯ä»æœ¬åœ°æˆ–å…¨å±€å‘½åç©ºé—´ä¸­åˆ é™¤äº† <code>var_name</code> (è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>list_1</code> æ²¡æœ‰å—åˆ°å½±å“).</li><li><code>remove</code> ä¼šåˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„æŒ‡å®šå€¼, è€Œä¸æ˜¯ç‰¹å®šçš„ç´¢å¼•, å¦‚æœæ‰¾ä¸åˆ°å€¼åˆ™æŠ›å‡º <code>ValueError</code> å¼‚å¸¸.</li><li><code>pop</code> åˆ™ä¼šåˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ å¹¶è¿”å›å®ƒ, å¦‚æœæŒ‡å®šäº†æ— æ•ˆçš„ç´¢å¼•åˆ™æŠ›å‡º <code>IndexError</code> å¼‚å¸¸.</li></ul><p><strong>ä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯ <code>[2, 4]</code>?</strong></p><ul><li>åˆ—è¡¨è¿­ä»£æ˜¯æŒ‰ç´¢å¼•è¿›è¡Œçš„, æ‰€ä»¥å½“æˆ‘ä»¬ä» <code>list_2</code> æˆ– <code>list_4</code> ä¸­åˆ é™¤ <code>1</code> æ—¶, åˆ—è¡¨çš„å†…å®¹å°±å˜æˆäº† <code>[2, 3, 4]</code>. å‰©ä½™å…ƒç´ ä¼šä¾æ¬¡ä½ç§», ä¹Ÿå°±æ˜¯è¯´, <code>2</code> çš„ç´¢å¼•ä¼šå˜ä¸º 0, <code>3</code> ä¼šå˜ä¸º 1. ç”±äºä¸‹ä¸€æ¬¡è¿­ä»£å°†è·å–ç´¢å¼•ä¸º 1 çš„å…ƒç´  (å³ <code>3</code>), å› æ­¤ <code>2</code> å°†è¢«å½»åº•çš„è·³è¿‡. ç±»ä¼¼çš„æƒ…å†µä¼šäº¤æ›¿å‘ç”Ÿåœ¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸Š.</li></ul><ul><li>å‚è€ƒè¿™ä¸ªStackOverflowçš„<a href=https://stackoverflow.com/questions/45946228/what-happens-when-you-try-to-delete-a-list-element-while-iterating-over-it target=_blank rel=noopener>å›ç­”</a>
æ¥è§£é‡Šè¿™ä¸ªä¾‹å­</li><li>å…³äºPythonä¸­å­—å…¸çš„ç±»ä¼¼ä¾‹å­, å¯ä»¥å‚è€ƒè¿™ä¸ªStackoverflowçš„<a href=https://stackoverflow.com/questions/45877614/how-to-change-all-the-dictionary-keys-in-a-for-loop-with-d-items target=_blank rel=noopener>å›ç­”</a>
.</li></ul><hr><h3 id=-loop-variables-leaking-outå¾ªç¯å˜é‡æ³„æ¼>> Loop variables leaking out!/å¾ªç¯å˜é‡æ³„æ¼!<a hidden class=anchor aria-hidden=true href=#-loop-variables-leaking-outå¾ªç¯å˜é‡æ³„æ¼>#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>7</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>6</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=s1>&#39;: for x inside loop&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=s1>&#39;: x in global&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=mi>6</span> <span class=p>:</span> <span class=k>for</span> <span class=n>x</span> <span class=n>inside</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=mi>6</span> <span class=p>:</span> <span class=n>x</span> <span class=ow>in</span> <span class=k>global</span>
</span></span></code></pre></td></tr></table></div></div><p>ä½†æ˜¯ <code>x</code> ä»æœªåœ¨å¾ªç¯å¤–è¢«å®šä¹‰&mldr;</p><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># è¿™æ¬¡æˆ‘ä»¬å…ˆåˆå§‹åŒ–x</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>7</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>6</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=s1>&#39;: for x inside loop&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=s1>&#39;: x in global&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=mi>6</span> <span class=p>:</span> <span class=k>for</span> <span class=n>x</span> <span class=n>inside</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=mi>6</span> <span class=p>:</span> <span class=n>x</span> <span class=ow>in</span> <span class=k>global</span>
</span></span></code></pre></td></tr></table></div></div><p>3.</p><pre tabindex=0><code>x = 1
print([x for x in range(5)])
print(x, &#39;: x in global&#39;)
</code></pre><p><strong>Output (on Python 2.x):</strong></p><pre tabindex=0><code>[0, 1, 2, 3, 4]
(4, &#39;: x in global&#39;)
</code></pre><p><strong>Output (on Python 3.x):</strong></p><pre tabindex=0><code>[0, 1, 2, 3, 4]
1 : x in global
</code></pre><h4 id=-è¯´æ˜-32>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-32>#</a></h4><ul><li><p>åœ¨ Python ä¸­, for å¾ªç¯ä½¿ç”¨æ‰€åœ¨ä½œç”¨åŸŸå¹¶åœ¨ç»“æŸåä¿ç•™å®šä¹‰çš„å¾ªç¯å˜é‡. å¦‚æœæˆ‘ä»¬æ›¾åœ¨å…¨å±€å‘½åç©ºé—´ä¸­å®šä¹‰è¿‡å¾ªç¯å˜é‡. åœ¨è¿™ç§æƒ…å†µä¸‹, å®ƒä¼šé‡æ–°ç»‘å®šç°æœ‰å˜é‡.</p></li><li><p>Python 2.x å’Œ Python 3.x è§£é‡Šå™¨åœ¨åˆ—è¡¨æ¨å¯¼å¼ç¤ºä¾‹ä¸­çš„è¾“å‡ºå·®å¼‚, åœ¨æ–‡æ¡£ <a href=https://docs.python.org/3/whatsnew/3.0.html target=_blank rel=noopener>Whatâ€™s New In Python 3.0</a>
ä¸­å¯ä»¥æ‰¾åˆ°ç›¸å…³çš„è§£é‡Š:</p><blockquote><p>&ldquo;åˆ—è¡¨æ¨å¯¼ä¸å†æ”¯æŒå¥æ³•å½¢å¼ <code>[... for var in item1, item2, ...]</code>. å–è€Œä»£ä¹‹çš„æ˜¯ <code>[... for var in (item1, item2, ...)]</code>. å¦å¤–, æ³¨æ„åˆ—è¡¨æ¨å¯¼å…·æœ‰ä¸åŒçš„è¯­ä¹‰: å®ƒä»¬æ›´æ¥è¿‘äº <code>list()</code> æ„é€ å‡½æ•°ä¸­ç”Ÿæˆå™¨è¡¨è¾¾å¼çš„è¯­æ³•ç³–(è¯‘: è¿™ä¸€å¥æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ˜ç™½), ç‰¹åˆ«æ˜¯å¾ªç¯æ§åˆ¶å˜é‡ä¸å†æ³„æ¼åˆ°å‘¨å›´çš„ä½œç”¨åŸŸä¸­.&rdquo;</p></blockquote></li></ul><hr><h3 id=-beware-of-default-mutable-argumentså½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°>> Beware of default mutable arguments!/å½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°!<a hidden class=anchor aria-hidden=true href=#-beware-of-default-mutable-argumentså½“å¿ƒé»˜è®¤çš„å¯å˜å‚æ•°>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func</span><span class=p>(</span><span class=n>default_arg</span><span class=o>=</span><span class=p>[]):</span>
</span></span><span class=line><span class=cl>    <span class=n>default_arg</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;some_string&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>default_arg</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;some_string&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;some_string&#39;</span><span class=p>,</span> <span class=s1>&#39;some_string&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>([])</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;some_string&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;some_string&#39;</span><span class=p>,</span> <span class=s1>&#39;some_string&#39;</span><span class=p>,</span> <span class=s1>&#39;some_string&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-33>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-33>#</a></h4><ul><li><p>Pythonä¸­å‡½æ•°çš„é»˜è®¤å¯å˜å‚æ•°å¹¶ä¸æ˜¯æ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶éƒ½ä¼šè¢«åˆå§‹åŒ–. ç›¸å, å®ƒä»¬ä¼šä½¿ç”¨æœ€è¿‘åˆ†é…çš„å€¼ä½œä¸ºé»˜è®¤å€¼. å½“æˆ‘ä»¬æ˜ç¡®çš„å°† <code>[]</code> ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>some_func</code> çš„æ—¶å€™, å°±ä¸ä¼šä½¿ç”¨ <code>default_arg</code> çš„é»˜è®¤å€¼, æ‰€ä»¥å‡½æ•°ä¼šè¿”å›æˆ‘ä»¬æ‰€æœŸæœ›çš„ç»“æœ.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func</span><span class=p>(</span><span class=n>default_arg</span><span class=o>=</span><span class=p>[]):</span>
</span></span><span class=line><span class=cl>    <span class=n>default_arg</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;some_string&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>default_arg</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=o>.</span><span class=vm>__defaults__</span> <span class=c1># è¿™é‡Œä¼šæ˜¾ç¤ºå‡½æ•°çš„é»˜è®¤å‚æ•°çš„å€¼</span>
</span></span><span class=line><span class=cl><span class=p>([],)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=o>.</span><span class=vm>__defaults__</span>
</span></span><span class=line><span class=cl><span class=p>([</span><span class=s1>&#39;some_string&#39;</span><span class=p>],)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=o>.</span><span class=vm>__defaults__</span>
</span></span><span class=line><span class=cl><span class=p>([</span><span class=s1>&#39;some_string&#39;</span><span class=p>,</span> <span class=s1>&#39;some_string&#39;</span><span class=p>],)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>([])</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=o>.</span><span class=vm>__defaults__</span>
</span></span><span class=line><span class=cl><span class=p>([</span><span class=s1>&#39;some_string&#39;</span><span class=p>,</span> <span class=s1>&#39;some_string&#39;</span><span class=p>],)</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>é¿å…å¯å˜å‚æ•°å¯¼è‡´çš„é”™è¯¯çš„å¸¸è§åšæ³•æ˜¯å°† <code>None</code> æŒ‡å®šä¸ºå‚æ•°çš„é»˜è®¤å€¼, ç„¶åæ£€æŸ¥æ˜¯å¦æœ‰å€¼ä¼ ç»™å¯¹åº”çš„å‚æ•°. ä¾‹:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func</span><span class=p>(</span><span class=n>default_arg</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>default_arg</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>default_arg</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=n>default_arg</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;some_string&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>default_arg</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=-catching-the-exceptionsæ•è·å¼‚å¸¸>> Catching the Exceptions/æ•è·å¼‚å¸¸<a hidden class=anchor aria-hidden=true href=#-catching-the-exceptionsæ•è·å¼‚å¸¸>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``IndexError``</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>some_list</span><span class=p>[</span><span class=mi>4</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>IndexError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Caught!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``ValueError``</span>
</span></span><span class=line><span class=cl>    <span class=n>some_list</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>IndexError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Caught again!&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 2.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>Caught</span><span class=err>!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=ne>ValueError</span><span class=p>:</span> <span class=nb>list</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>x</span><span class=p>):</span> <span class=n>x</span> <span class=ow>not</span> <span class=ow>in</span> <span class=nb>list</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 3.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;input&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>IndexError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                     <span class=o>^</span>
</span></span><span class=line><span class=cl><span class=ne>SyntaxError</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>syntax</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-34>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-34>#</a></h4><ul><li><p>å¦‚æœä½ æƒ³è¦åŒæ—¶æ•è·å¤šä¸ªä¸åŒç±»å‹çš„å¼‚å¸¸æ—¶, ä½ éœ€è¦å°†å®ƒä»¬ç”¨æ‹¬å·åŒ…æˆä¸€ä¸ªå…ƒç»„ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’. ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰åç§°, å¦‚æœä½ æä¾›, å®ƒå°†ä¸è¢«æ•è·çš„å¼‚å¸¸å®ä¾‹ç»‘å®š. ä¾‹,</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>   <span class=c1># è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ ``ValueError``</span>
</span></span><span class=line><span class=cl>   <span class=n>some_list</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=p>(</span><span class=ne>IndexError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>),</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>   <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Caught again!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 2.x):</strong></p><pre tabindex=0><code>Caught again!
list.remove(x): x not in list
</code></pre><p><strong>Output (Python 3.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;input&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=p>(</span><span class=ne>IndexError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>),</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                                     <span class=o>^</span>
</span></span><span class=line><span class=cl><span class=ne>IndentationError</span><span class=p>:</span> <span class=n>unindent</span> <span class=n>does</span> <span class=ow>not</span> <span class=k>match</span> <span class=nb>any</span> <span class=n>outer</span> <span class=n>indentation</span> <span class=n>level</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>åœ¨ Python 3 ä¸­, ç”¨é€—å·åŒºåˆ†å¼‚å¸¸ä¸å¯é€‰åç§°æ˜¯æ— æ•ˆçš„; æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨ <code>as</code> å…³é”®å­—. ä¾‹,</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>some_list</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=p>(</span><span class=ne>IndexError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Caught again!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><pre tabindex=0><code>Caught again!
list.remove(x): x not in list
</code></pre></li></ul><hr><h3 id=-same-operands-different-storyåŒäººä¸åŒå‘½>> Same operands, different story!/åŒäººä¸åŒå‘½!<a hidden class=anchor aria-hidden=true href=#-same-operands-different-storyåŒäººä¸åŒå‘½>#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>a</span> <span class=o>+</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>+=</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-35>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-35>#</a></h4><ul><li><p><code>a += b</code> å¹¶ä¸æ€»æ˜¯ä¸ <code>a = a + b</code> è¡¨ç°ç›¸åŒ. ç±»å®ç° <em><code>op=</code></em> è¿ç®—ç¬¦çš„æ–¹å¼ <em>ä¹Ÿè®¸</em> æ˜¯ä¸åŒçš„, åˆ—è¡¨å°±æ˜¯è¿™æ ·åšçš„.</p></li><li><p>è¡¨è¾¾å¼ <code>a = a + [5,6,7,8]</code> ä¼šç”Ÿæˆä¸€ä¸ªæ–°åˆ—è¡¨, å¹¶è®© <code>a</code> å¼•ç”¨è¿™ä¸ªæ–°åˆ—è¡¨, åŒæ—¶ä¿æŒ <code>b</code> ä¸å˜.</p></li><li><p>è¡¨è¾¾å¼ <code>a += [5,6,7,8]</code> å®é™…ä¸Šæ˜¯ä½¿ç”¨çš„æ˜¯ &ldquo;extend&rdquo; å‡½æ•°, æ‰€ä»¥ <code>a</code> å’Œ <code>b</code> ä»ç„¶æŒ‡å‘å·²è¢«ä¿®æ”¹çš„åŒä¸€åˆ—è¡¨.</p></li></ul><hr><h3 id=-the-out-of-scope-variableå¤–éƒ¨ä½œç”¨åŸŸå˜é‡>> The out of scope variable/å¤–éƒ¨ä½œç”¨åŸŸå˜é‡<a hidden class=anchor aria-hidden=true href=#-the-out-of-scope-variableå¤–éƒ¨ä½œç”¨åŸŸå˜é‡>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>another_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=ne>UnboundLocalError</span><span class=p>:</span> <span class=n>local</span> <span class=n>variable</span> <span class=s1>&#39;a&#39;</span> <span class=n>referenced</span> <span class=n>before</span> <span class=n>assignment</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-36>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-36>#</a></h4><ul><li><p>å½“ä½ åœ¨ä½œç”¨åŸŸä¸­å¯¹å˜é‡è¿›è¡Œèµ‹å€¼æ—¶, å˜é‡ä¼šå˜æˆè¯¥ä½œç”¨åŸŸå†…çš„å±€éƒ¨å˜é‡. å› æ­¤ <code>a</code> ä¼šå˜æˆ <code>another_func</code> å‡½æ•°ä½œç”¨åŸŸä¸­çš„å±€éƒ¨å˜é‡, ä½†å®ƒåœ¨å‡½æ•°ä½œç”¨åŸŸä¸­å¹¶æ²¡æœ‰è¢«åˆå§‹åŒ–, æ‰€ä»¥ä¼šå¼•å‘é”™è¯¯.</p></li><li><p>å¯ä»¥é˜…è¯»<a href=http://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html target=_blank rel=noopener>è¿™ä¸ª</a>
ç®€çŸ­å´å¾ˆæ£’çš„æŒ‡å—, äº†è§£æ›´å¤šå…³äº Python ä¸­å‘½åç©ºé—´å’Œä½œç”¨åŸŸçš„å·¥ä½œåŸç†.</p></li><li><p>æƒ³è¦åœ¨ <code>another_func</code> ä¸­ä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ <code>a</code> çš„è¯, å¯ä»¥ä½¿ç”¨ <code>global</code> å…³é”®å­—.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>another_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>another_func</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=-be-careful-with-chained-operationså°å¿ƒé“¾å¼æ“ä½œ>> Be careful with chained operations/å°å¿ƒé“¾å¼æ“ä½œ<a hidden class=anchor aria-hidden=true href=#-be-careful-with-chained-operationså°å¿ƒé“¾å¼æ“ä½œ>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>(</span><span class=kc>False</span> <span class=o>==</span> <span class=kc>False</span><span class=p>)</span> <span class=ow>in</span> <span class=p>[</span><span class=kc>False</span><span class=p>]</span> <span class=c1># å¯ä»¥ç†è§£</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kc>False</span> <span class=o>==</span> <span class=p>(</span><span class=kc>False</span> <span class=ow>in</span> <span class=p>[</span><span class=kc>False</span><span class=p>])</span> <span class=c1># å¯ä»¥ç†è§£</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kc>False</span> <span class=o>==</span> <span class=kc>False</span> <span class=ow>in</span> <span class=p>[</span><span class=kc>False</span><span class=p>]</span> <span class=c1># ä¸ºæ¯›?</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kc>True</span> <span class=ow>is</span> <span class=kc>False</span> <span class=o>==</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kc>False</span> <span class=ow>is</span> <span class=kc>False</span> <span class=ow>is</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mi>1</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&lt;</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>(</span><span class=mi>1</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mi>1</span> <span class=o>&gt;</span> <span class=p>(</span><span class=mi>0</span> <span class=o>&lt;</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-37>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-37>#</a></h4><p>æ ¹æ® <a href=https://docs.python.org/2/reference/expressions.html#not-in target=_blank rel=noopener>https://docs.python.org/2/reference/expressions.html#not-in</a></p><blockquote><p>å½¢å¼ä¸Š, å¦‚æœ a, b, c, &mldr;, y, z æ˜¯è¡¨è¾¾å¼, è€Œ op1, op2, &mldr;, opN æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦, é‚£ä¹ˆé™¤äº†æ¯ä¸ªè¡¨è¾¾å¼æœ€å¤šåªå‡ºç°ä¸€æ¬¡ä»¥å¤– a op1 b op2 c &mldr; y opN z å°±ç­‰äº a op1 b and b op2 c and &mldr; y opN z.</p></blockquote><p>è™½ç„¶ä¸Šé¢çš„ä¾‹å­ä¼¼ä¹å¾ˆæ„šè ¢, ä½†æ˜¯åƒ <code>a == b == c</code> æˆ– <code>0 &lt;= x &lt;= 100</code> å°±å¾ˆæ£’äº†.</p><ul><li><code>False is False is False</code> ç›¸å½“äº <code>(False is False) and (False is False)</code></li><li><code>True is False == False</code> ç›¸å½“äº <code>True is False and False == False</code>, ç”±äºè¯­å¥çš„ç¬¬ä¸€éƒ¨åˆ† (<code>True is False</code>) ç­‰äº <code>False</code>, å› æ­¤æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœä¸º <code>False</code>.</li><li><code>1 > 0 &lt; 1</code> ç›¸å½“äº <code>1 > 0 and 0 &lt; 1</code>, æ‰€ä»¥æœ€ç»ˆç»“æœä¸º <code>True</code>.</li><li>è¡¨è¾¾å¼ <code>(1 > 0) &lt; 1</code> ç›¸å½“äº <code>True &lt; 1</code> ä¸”<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>int</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kc>True</span> <span class=o>+</span> <span class=mi>1</span> <span class=c1># ä¸è¿™ä¸ªä¾‹å­æ— å…³ï¼Œåªæ˜¯å¥½ç©</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>
</span></span></code></pre></td></tr></table></div></div>æ‰€ä»¥, <code>1 &lt; 1</code> ç­‰äº <code>False</code></li></ul><hr><h3 id=-name-resolution-ignoring-class-scopeå¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ>> Name resolution ignoring class scope/å¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ<a hidden class=anchor aria-hidden=true href=#-name-resolution-ignoring-class-scopeå¿½ç•¥ç±»ä½œç”¨åŸŸçš„åç§°è§£æ>#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SomeClass</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>17</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=p>(</span><span class=n>SomeClass</span><span class=o>.</span><span class=n>y</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>
</span></span></code></pre></td></tr></table></div></div><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SomeClass</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>17</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 2.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>SomeClass</span><span class=o>.</span><span class=n>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>17</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 3.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>SomeClass</span><span class=o>.</span><span class=n>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-38>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-38>#</a></h4><ul><li>ç±»å®šä¹‰ä¸­åµŒå¥—çš„ä½œç”¨åŸŸä¼šå¿½ç•¥ç±»å†…çš„åç§°ç»‘å®š.</li><li>ç”Ÿæˆå™¨è¡¨è¾¾å¼æœ‰å®ƒè‡ªå·±çš„ä½œç”¨åŸŸ.</li><li>ä» Python 3.X å¼€å§‹, åˆ—è¡¨æ¨å¯¼å¼ä¹Ÿæœ‰è‡ªå·±çš„ä½œç”¨åŸŸ.</li></ul><hr><h3 id=-needle-in-a-haystackå¤§æµ·æé’ˆ>> Needle in a Haystack/å¤§æµ·æé’ˆ<a hidden class=anchor aria-hidden=true href=#-needle-in-a-haystackå¤§æµ·æé’ˆ>#</a></h3><p>1.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>if</span> <span class=kc>True</span> <span class=k>else</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><pre tabindex=0><code>&gt;&gt;&gt; x, y  # æœŸæœ›çš„ç»“æœæ˜¯ (0, 1)
((0, 1), None)
</code></pre><p>å‡ ä¹æ¯ä¸ª Python ç¨‹åºå‘˜éƒ½é‡åˆ°è¿‡ç±»ä¼¼çš„æƒ…å†µ.</p><p>2.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>t</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;one&#39;</span><span class=p>,</span> <span class=s1>&#39;two&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>t</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>t</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;one&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>t</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>t</span> <span class=o>=</span> <span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>one</span>
</span></span><span class=line><span class=cl><span class=n>two</span>
</span></span><span class=line><span class=cl><span class=n>o</span>
</span></span><span class=line><span class=cl><span class=n>n</span>
</span></span><span class=line><span class=cl><span class=n>e</span>
</span></span><span class=line><span class=cl><span class=nb>tuple</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-39>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-39>#</a></h4><ul><li>å¯¹äº 1, æ­£ç¡®çš„è¯­å¥æ˜¯ <code>x, y = (0, 1) if True else (None, None)</code>.</li><li>å¯¹äº 2, æ­£ç¡®çš„è¯­å¥æ˜¯ <code>t = ('one',)</code> æˆ–è€… <code>t = 'one',</code> (ç¼ºå°‘é€—å·) å¦åˆ™è§£é‡Šå™¨ä¼šè®¤ä¸º <code>t</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸², å¹¶é€ä¸ªå­—ç¬¦å¯¹å…¶è¿›è¡Œè¿­ä»£.</li><li><code>()</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ï¼Œè¡¨ç¤ºç©ºå…ƒç»„.</li></ul><hr><hr><h2 id=section-the-hidden-treasureséšè—çš„å®è—>Section: The Hidden treasures!/éšè—çš„å®è—!<a hidden class=anchor aria-hidden=true href=#section-the-hidden-treasureséšè—çš„å®è—>#</a></h2><p>This section contains few of the lesser-known interesting things about Python that most beginners like me are unaware of (well, not anymore).</p><h3 id=-okay-python-can-you-make-me-flypython-å¯å¦å¸¦æˆ‘é£->> Okay Python, Can you make me fly?/Python, å¯å¦å¸¦æˆ‘é£? *<a hidden class=anchor aria-hidden=true href=#-okay-python-can-you-make-me-flypython-å¯å¦å¸¦æˆ‘é£->#</a></h3><p>å¥½, å»å§.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>antigravity</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong>
å˜˜.. è¿™æ˜¯ä¸ªè¶…çº§ç§˜å¯†.</p><h4 id=-è¯´æ˜-40>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-40>#</a></h4><ul><li><code>antigravity</code> æ¨¡å—æ˜¯ Python å¼€å‘äººå‘˜å‘å¸ƒçš„å°‘æ•°å¤æ´»èŠ‚å½©è›‹ä¹‹ä¸€.</li><li><code>import antigravity</code> ä¼šæ‰“å¼€ä¸€ä¸ª Python çš„<a href=http://xkcd.com/353/ target=_blank rel=noopener>ç»å…¸ XKCD æ¼«ç”»</a>
é¡µé¢.</li><li>ä¸æ­¢å¦‚æ­¤. è¿™ä¸ª<strong>å¤æ´»èŠ‚å½©è›‹é‡Œè¿˜æœ‰ä¸€ä¸ªå¤æ´»èŠ‚å½©è›‹</strong>. å¦‚æœä½ çœ‹ä¸€ä¸‹<a href=https://github.com/python/cpython/blob/master/Lib/antigravity.py#L7-L17 target=_blank rel=noopener>ä»£ç </a>
, å°±ä¼šå‘ç°è¿˜æœ‰ä¸€ä¸ªå‡½æ•°å®ç°äº† <a href=https://xkcd.com/426/ target=_blank rel=noopener>XKCD&rsquo;s geohashing ç®—æ³•</a>
.</li></ul><hr><h3 id=-goto-but-whygoto-ä½†ä¸ºä»€ä¹ˆ->> <code>goto</code>, but why?/<code>goto</code>, ä½†ä¸ºä»€ä¹ˆ? *<a hidden class=anchor aria-hidden=true href=#-goto-but-whygoto-ä½†ä¸ºä»€ä¹ˆ->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>goto</span> <span class=kn>import</span> <span class=n>goto</span><span class=p>,</span> <span class=n>label</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>9</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>9</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>9</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;I&#39;m trapped, please rescue!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>k</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>goto</span> <span class=o>.</span><span class=n>breakout</span> <span class=c1># ä»å¤šé‡å¾ªç¯ä¸­è·³å‡º</span>
</span></span><span class=line><span class=cl><span class=n>label</span> <span class=o>.</span><span class=n>breakout</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Freedom!&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output (Python 2.3):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>I</span><span class=s1>&#39;m trapped, please rescue!</span>
</span></span><span class=line><span class=cl><span class=n>I</span><span class=s1>&#39;m trapped, please rescue!</span>
</span></span><span class=line><span class=cl><span class=n>Freedom</span><span class=err>!</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-41>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-41>#</a></h4><ul><li>2004å¹´4æœˆ1æ—¥, Python <a href=https://mail.python.org/pipermail/python-announce-list/2004-April/002982.html target=_blank rel=noopener>å®£å¸ƒ</a>
åŠ å…¥ä¸€ä¸ªå¯ç”¨çš„ <code>goto</code> ä½œä¸ºæ„šäººèŠ‚ç¤¼ç‰©.</li><li>å½“å‰ç‰ˆæœ¬çš„ Python å¹¶æ²¡æœ‰è¿™ä¸ªæ¨¡å—.</li><li>å°±ç®—å¯ä»¥ç”¨, ä¹Ÿè¯·ä¸è¦ä½¿ç”¨å®ƒ. è¿™é‡Œæ˜¯ä¸ºä»€ä¹ˆPythonä¸­æ²¡æœ‰ <code>goto</code> çš„<a href=https://docs.python.org/3/faq/design.html#why-is-there-no-goto target=_blank rel=noopener>åŸå› </a>
.</li></ul><hr><h3 id=-brace-yourselfåšå¥½æ€æƒ³å‡†å¤‡->> Brace yourself!/åšå¥½æ€æƒ³å‡†å¤‡ *<a hidden class=anchor aria-hidden=true href=#-brace-yourselfåšå¥½æ€æƒ³å‡†å¤‡->#</a></h3><p>å¦‚æœä½ ä¸å–œæ¬¢åœ¨Pythonä¸­ä½¿ç”¨ç©ºæ ¼æ¥è¡¨ç¤ºä½œç”¨åŸŸ, ä½ å¯ä»¥å¯¼å…¥ C é£æ ¼çš„ {},</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>braces</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;some_file.py&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>braces</span>
</span></span><span class=line><span class=cl><span class=ne>SyntaxError</span><span class=p>:</span> <span class=ow>not</span> <span class=n>a</span> <span class=n>chance</span>
</span></span></code></pre></td></tr></table></div></div><p>æƒ³ç”¨å¤§æ‹¬å·? æ²¡é—¨! è§‰å¾—ä¸çˆ½, è¯·å»ç”¨java.</p><h4 id=-è¯´æ˜-42>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-42>#</a></h4><ul><li>é€šå¸¸ <code>__future__</code> ä¼šæä¾› Python æœªæ¥ç‰ˆæœ¬çš„åŠŸèƒ½. ç„¶è€Œï¼Œè¿™é‡Œçš„ â€œæœªæ¥â€ æ˜¯ä¸€ä¸ªè®½åˆº.</li><li>è¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾ç¤¾åŒºå¯¹æ­¤ç±»é—®é¢˜æ€åº¦çš„å¤æ´»èŠ‚å½©è›‹.</li></ul><hr><h3 id=-lets-meet-friendly-language-uncle-for-lifeè®©ç”Ÿæ´»æ›´å‹å¥½->> Let&rsquo;s meet Friendly Language Uncle For Life/è®©ç”Ÿæ´»æ›´å‹å¥½ *<a hidden class=anchor aria-hidden=true href=#-lets-meet-friendly-language-uncle-for-lifeè®©ç”Ÿæ´»æ›´å‹å¥½->#</a></h3><p><strong>Output (Python 3.x)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>barry_as_FLUFL</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s2>&#34;Ruby&#34;</span> <span class=o>!=</span> <span class=s2>&#34;Python&#34;</span> <span class=c1># è¿™é‡Œæ²¡ä»€ä¹ˆç–‘é—®</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;some_file.py&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Ruby&#34;</span> <span class=o>!=</span> <span class=s2>&#34;Python&#34;</span>
</span></span><span class=line><span class=cl>              <span class=o>^</span>
</span></span><span class=line><span class=cl><span class=ne>SyntaxError</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>syntax</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s2>&#34;Ruby&#34;</span> <span class=o>&lt;&gt;</span> <span class=s2>&#34;Python&#34;</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™å°±å¯¹äº†.</p><h4 id=-è¯´æ˜-43>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-43>#</a></h4><ul><li><p>ç›¸å…³çš„ <a href=https://www.python.org/dev/peps/pep-0401/ target=_blank rel=noopener>PEP-401</a>
å‘å¸ƒäº 2009å¹´4æœˆ1æ—¥ (æ‰€ä»¥ä½ ç°åœ¨çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆäº†å§).</p></li><li><p>å¼•ç”¨ PEP-401</p><blockquote><p>æ„è¯†åˆ° Python 3.0 é‡Œçš„ != è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªä¼šå¼•èµ·æ‰‹æŒ‡ç–¼ç—›çš„ææ€–é”™è¯¯, FLUFL å°† &lt;> è¿ç®—ç¬¦æ¢å¤ä¸ºå”¯ä¸€å†™æ³•.</p></blockquote></li><li><p>Uncle Barry åœ¨ PEP ä¸­è¿˜åˆ†äº«äº†å…¶ä»–ä¸œè¥¿; ä½ å¯ä»¥åœ¨<a href=https://www.python.org/dev/peps/pep-0401/ target=_blank rel=noopener>è¿™é‡Œ</a>
è·å¾—ä»–ä»¬.</p></li><li><p>(è¯‘: è™½ç„¶æ–‡æ¡£ä¸­æ²¡å†™ï¼Œä½†åº”è¯¥æ˜¯åªèƒ½åœ¨äº¤äº’è§£é‡Šå™¨ä¸­ä½¿ç”¨.)</p></li></ul><hr><h3 id=-even-python-understands-that-love-is-complicatedè¿pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„->> Even Python understands that love is complicated/è¿Pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„ *<a hidden class=anchor aria-hidden=true href=#-even-python-understands-that-love-is-complicatedè¿pythonä¹ŸçŸ¥é“çˆ±æ˜¯éš¾è¨€çš„->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>this</span>
</span></span></code></pre></td></tr></table></div></div><p>ç­‰ç­‰, <strong>this</strong> æ˜¯ä»€ä¹ˆ? <code>this</code> æ˜¯çˆ± :heart:</p><p><strong>Output:</strong></p><pre tabindex=0><code>The Zen of Python, by Tim Peters

Beautiful is better than ugly.
ä¼˜ç¾èƒœäºä¸‘é™‹ï¼ˆPython ä»¥ç¼–å†™ä¼˜ç¾çš„ä»£ç ä¸ºç›®æ ‡ï¼‰
Explicit is better than implicit.
æ˜äº†èƒœäºæ™¦æ¶©ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ˜äº†çš„ï¼Œå‘½åè§„èŒƒï¼Œé£æ ¼ç›¸ä¼¼ï¼‰
Simple is better than complex.
ç®€æ´èƒœäºå¤æ‚ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯ç®€æ´çš„ï¼Œä¸è¦æœ‰å¤æ‚çš„å†…éƒ¨å®ç°ï¼‰
Complex is better than complicated.
å¤æ‚èƒœäºå‡Œä¹±ï¼ˆå¦‚æœå¤æ‚ä¸å¯é¿å…ï¼Œé‚£ä»£ç é—´ä¹Ÿä¸èƒ½æœ‰éš¾æ‡‚çš„å…³ç³»ï¼Œè¦ä¿æŒæ¥å£ç®€æ´ï¼‰
Flat is better than nested.
æ‰å¹³èƒœäºåµŒå¥—ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ‰å¹³çš„ï¼Œä¸èƒ½æœ‰å¤ªå¤šçš„åµŒå¥—ï¼‰
Sparse is better than dense.
é—´éš”èƒœäºç´§å‡‘ï¼ˆä¼˜ç¾çš„ä»£ç æœ‰é€‚å½“çš„é—´éš”ï¼Œä¸è¦å¥¢æœ›ä¸€è¡Œä»£ç è§£å†³é—®é¢˜ï¼‰
Readability counts.
å¯è¯»æ€§å¾ˆé‡è¦ï¼ˆä¼˜ç¾çš„ä»£ç ä¸€å®šæ˜¯å¯è¯»çš„ï¼‰
Special cases aren&#39;t special enough to break the rules.
æ²¡æœ‰ç‰¹ä¾‹ç‰¹æ®Šåˆ°éœ€è¦è¿èƒŒè¿™äº›è§„åˆ™ï¼ˆè¿™äº›è§„åˆ™è‡³é«˜æ— ä¸Šï¼‰
Although practicality beats purity.
å°½ç®¡æˆ‘ä»¬æ›´å€¾å‘äºå®ç”¨æ€§
Errors should never pass silently.
ä¸è¦å®‰é™çš„åŒ…å®¹æ‰€æœ‰é”™è¯¯
Unless explicitly silenced.
é™¤éä½ ç¡®å®šéœ€è¦è¿™æ ·åšï¼ˆç²¾å‡†åœ°æ•è·å¼‚å¸¸ï¼Œä¸å†™ except:pass é£æ ¼çš„ä»£ç ï¼‰
In the face of ambiguity, refuse the temptation to guess.
æ‹’ç»è¯±æƒ‘ä½ å»çŒœæµ‹çš„æš§æ˜§äº‹ç‰©
There should be one-- and preferably only one --obvious way to do it.
è€Œæ˜¯å°½é‡æ‰¾ä¸€ç§ï¼Œæœ€å¥½æ˜¯å”¯ä¸€ä¸€ç§æ˜æ˜¾çš„è§£å†³æ–¹æ¡ˆï¼ˆå¦‚æœä¸ç¡®å®šï¼Œå°±ç”¨ç©·ä¸¾æ³•ï¼‰
Although that way may not be obvious at first unless you&#39;re Dutch.
è™½ç„¶è¿™å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºä½ ä¸æ˜¯ Python ä¹‹çˆ¶ï¼ˆè¿™é‡Œçš„ Dutch æ˜¯æŒ‡ Guido ï¼‰
Now is better than never.
ç°åœ¨è¡ŒåŠ¨å¥½è¿‡æ°¸è¿œä¸è¡ŒåŠ¨
Although never is often better than *right* now.
å°½ç®¡ä¸è¡ŒåŠ¨è¦å¥½è¿‡é²è½è¡ŒåŠ¨
If the implementation is hard to explain, it&#39;s a bad idea.
å¦‚æœä½ æ— æ³•å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£è‚¯å®šä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼›
If the implementation is easy to explain, it may be a good idea.
å¦‚æœä½ èƒ½è½»æ¾å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£ä¹Ÿè®¸ä¼šæ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼ˆæ–¹æ¡ˆæµ‹è¯„æ ‡å‡†ï¼‰
Namespaces are one honking great idea -- let&#39;s do more of those!
å‘½åç©ºé—´æ˜¯ä¸€ç§ç»å¦™çš„ç†å¿µï¼Œæˆ‘ä»¬åº”å½“å¤šåŠ åˆ©ç”¨ï¼ˆå€¡å¯¼ä¸å·å¬ï¼‰
</code></pre><p>è¿™æ˜¯ Python ä¹‹ç¦…!</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>love</span> <span class=o>=</span> <span class=n>this</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>this</span> <span class=ow>is</span> <span class=n>love</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>love</span> <span class=ow>is</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>love</span> <span class=ow>is</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>love</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>True</span> <span class=ow>or</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>love</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>True</span> <span class=ow>or</span> <span class=kc>False</span><span class=p>;</span> <span class=n>love</span> <span class=ow>is</span> <span class=n>love</span>  <span class=c1># çˆ±æ˜¯éš¾è¨€çš„</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-44>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-44>#</a></h4><ul><li><code>this</code> æ¨¡å—æ˜¯å…³äº Python ä¹‹ç¦…çš„å¤æ´»èŠ‚å½©è›‹ (<a href=https://www.python.org/dev/peps/pep-0020 target=_blank rel=noopener>PEP 20</a>
).</li><li>å¦‚æœä½ è®¤ä¸ºè¿™å·²ç»å¤Ÿæœ‰è¶£çš„äº†, å¯ä»¥çœ‹çœ‹ <a href=https://hg.python.org/cpython/file/c3896275c0f6/Lib/this.py target=_blank rel=noopener>this.py</a>
çš„å®ç°. æœ‰è¶£çš„æ˜¯, Python ä¹‹ç¦…çš„å®ç°ä»£ç è¿åäº†ä»–è‡ªå·± (è¿™å¯èƒ½æ˜¯å”¯ä¸€ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µçš„åœ°æ–¹).
*
è‡³äº <code>love is not True or False; love is love</code>, æ„å¤–å´åˆä¸è¨€è€Œå–».</li></ul><hr><h3 id=-yes-it-existsæ˜¯çš„-å®ƒå­˜åœ¨>> Yes, it exists!/æ˜¯çš„, å®ƒå­˜åœ¨!<a hidden class=anchor aria-hidden=true href=#-yes-it-existsæ˜¯çš„-å®ƒå­˜åœ¨>#</a></h3><p><strong>å¾ªç¯çš„ <code>else</code>.</strong> ä¸€ä¸ªå…¸å‹çš„ä¾‹å­:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>does_exists_num</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>to_find</span><span class=p>):</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>l</span><span class=p>:</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>num</span> <span class=o>==</span> <span class=n>to_find</span><span class=p>:</span>
</span></span><span class=line><span class=cl>              <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Exists!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>              <span class=k>break</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>          <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Does not exist&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>does_exists_num</span><span class=p>(</span><span class=n>some_list</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Exists</span><span class=err>!</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>does_exists_num</span><span class=p>(</span><span class=n>some_list</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Does</span> <span class=ow>not</span> <span class=n>exist</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>å¼‚å¸¸çš„ <code>else</code> .</strong> ä¾‹,</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Exception occurred!!!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Try block executed successfully...&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>Try</span> <span class=n>block</span> <span class=n>executed</span> <span class=n>successfully</span><span class=o>...</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-45>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-45>#</a></h4><ul><li>å¾ªç¯åçš„ <code>else</code> å­å¥åªä¼šåœ¨å¾ªç¯æ²¡æœ‰è§¦å‘ <code>break</code> è¯­å¥, æ­£å¸¸ç»“æŸçš„æƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œ.</li><li>try ä¹‹åçš„ <code>else</code> å­å¥ä¹Ÿè¢«ç§°ä¸º &ldquo;å®Œæˆå­å¥&rdquo;, å› ä¸ºåœ¨ <code>try</code> è¯­å¥ä¸­åˆ°è¾¾ <code>else</code> å­å¥æ„å‘³ç€tryå—å®é™…ä¸Šå·²æˆåŠŸå®Œæˆ.</li></ul><hr><h3 id=-inpinityæ— é™->> Inpinity/æ— é™ *<a hidden class=anchor aria-hidden=true href=#-inpinityæ— é™->#</a></h3><p>è‹±æ–‡æ‹¼å†™æ˜¯æœ‰æ„çš„, è¯·ä¸è¦ä¸ºæ­¤æäº¤è¡¥ä¸.
(è¯‘: è¿™é‡Œæ˜¯ä¸ºäº†çªå‡º Python ä¸­æ— é™çš„å®šä¹‰ä¸<a href=https://en.wikipedia.org/wiki/Pi target=_blank rel=noopener>Pi</a>
æœ‰å…³, æ‰€ä»¥å°†ä¸¤ä¸ªå•è¯æ‹¼æ¥äº†.)</p><p><strong>Output (Python 3.x):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>infinity</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;infinity&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>hash</span><span class=p>(</span><span class=n>infinity</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>314159</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>hash</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=s1>&#39;-inf&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=mi>314159</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-46>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-46>#</a></h4><ul><li>infinity çš„å“ˆå¸Œå€¼æ˜¯ 10âµ x Ï€.</li><li>æœ‰æ„æ€çš„æ˜¯, <code>float('-inf')</code> çš„å“ˆå¸Œå€¼åœ¨ Python 3 ä¸­æ˜¯ &ldquo;-10âµ x Ï€&rdquo; , è€Œåœ¨ Python 2 ä¸­æ˜¯ &ldquo;-10âµ x e&rdquo;.</li></ul><hr><h3 id=-mangling-timeä¿®é¥°æ—¶é—´->> Mangling time!/ä¿®é¥°æ—¶é—´! *<a hidden class=anchor aria-hidden=true href=#-mangling-timeä¿®é¥°æ—¶é—´->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Yo</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>__honey</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>bitch</span> <span class=o>=</span> <span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>Yo</span><span class=p>()</span><span class=o>.</span><span class=n>bitch</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>Yo</span><span class=p>()</span><span class=o>.</span><span class=n>__honey</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;Yo&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;__honey&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>Yo</span><span class=p>()</span><span class=o>.</span><span class=n>_Yo__honey</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¸ºä»€ä¹ˆ <code>Yo()._Yo__honey</code> èƒ½è¿è¡Œ? åªæœ‰å°åº¦äººç†è§£.(è¯‘: è¿™ä¸ªæ¢—å¯èƒ½æ˜¯æŒ‡å°åº¦éŸ³ä¹äºº<a href=https://en.wikipedia.org/wiki/Yo_Yo_Honey_Singh target=_blank rel=noopener>Yo Yo Honey Singh</a>
)</p><h4 id=-è¯´æ˜-47>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-47>#</a></h4><ul><li><a href=https://en.wikipedia.org/wiki/Name_mangling target=_blank rel=noopener>åå­—ä¿®é¥°</a>
ç”¨äºé¿å…ä¸åŒå‘½åç©ºé—´ä¹‹é—´åç§°å†²çª.</li><li>åœ¨ Python ä¸­, è§£é‡Šå™¨ä¼šé€šè¿‡ç»™ç±»ä¸­ä»¥ <code>__</code> (åŒä¸‹åˆ’çº¿)å¼€å¤´ä¸”ç»“å°¾æœ€å¤šåªæœ‰ä¸€ä¸ªä¸‹åˆ’çº¿çš„ç±»æˆå‘˜åç§°åŠ ä¸Š<code>_NameOfTheClass</code> æ¥ä¿®é¥°(mangles)åç§°.</li><li>æ‰€ä»¥, è¦è®¿é—® <code>__honey</code> å¯¹è±¡,æˆ‘ä»¬éœ€è¦åŠ ä¸Š <code>_Yo</code> ä»¥é˜²æ­¢ä¸å…¶ä»–ç±»ä¸­å®šä¹‰çš„ç›¸åŒåç§°çš„å±æ€§å‘ç”Ÿå†²çª.</li></ul><hr><hr><h2 id=section-miscellaneousæ‚é¡¹>Section: Miscellaneous/æ‚é¡¹<a hidden class=anchor aria-hidden=true href=#section-miscellaneousæ‚é¡¹>#</a></h2><h3 id=--is-fasteræ›´å¿«çš„->> <code>+=</code> is faster/æ›´å¿«çš„ <code>+=</code><a hidden class=anchor aria-hidden=true href=#--is-fasteræ›´å¿«çš„->#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ç”¨ &#34;+&#34; è¿æ¥ä¸‰ä¸ªå­—ç¬¦ä¸²:</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s2>&#34;s1 = s1 + s2 + s3&#34;</span><span class=p>,</span> <span class=n>setup</span><span class=o>=</span><span class=s2>&#34;s1 = &#39; &#39; * 100000; s2 = &#39; &#39; * 100000; s3 = &#39; &#39; * 100000&#34;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mf>0.25748300552368164</span>
</span></span><span class=line><span class=cl><span class=c1># ç”¨ &#34;+=&#34; è¿æ¥ä¸‰ä¸ªå­—ç¬¦ä¸²:</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s2>&#34;s1 += s2 + s3&#34;</span><span class=p>,</span> <span class=n>setup</span><span class=o>=</span><span class=s2>&#34;s1 = &#39; &#39; * 100000; s2 = &#39; &#39; * 100000; s3 = &#39; &#39; * 100000&#34;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mf>0.012188911437988281</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-48>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-48>#</a></h4><ul><li>è¿æ¥ä¸¤ä¸ªä»¥ä¸Šçš„å­—ç¬¦ä¸²æ—¶ <code>+=</code> æ¯” <code>+</code> æ›´å¿«, å› ä¸ºåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸² (ä¾‹å¦‚, <code>s1 += s2 + s3</code> ä¸­çš„ <code>s1</code>) ä¸ä¼šè¢«é”€æ¯.(è¯‘: å°±æ˜¯ <code>+=</code> æ‰§è¡Œçš„æ˜¯è¿½åŠ æ“ä½œï¼Œå°‘äº†ä¸€ä¸ªé”€æ¯æ–°å»ºçš„åŠ¨ä½œ.)</li></ul><hr><h3 id=-lets-make-a-giant-stringæ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§>> Let&rsquo;s make a giant string!/æ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§ï¼<a hidden class=anchor aria-hidden=true href=#-lets-make-a-giant-stringæ¥åšä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²å§>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_string_with_plus</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>+=</span> <span class=s2>&#34;xyz&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=o>*</span><span class=n>iters</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_bytes_with_plus</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=sa>b</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>+=</span> <span class=sa>b</span><span class=s2>&#34;xyz&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=o>*</span><span class=n>iters</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_string_with_format</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>fs</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=si>{}</span><span class=s2>&#34;</span><span class=o>*</span><span class=n>iters</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=n>fs</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>*</span><span class=p>([</span><span class=s2>&#34;xyz&#34;</span><span class=p>]</span><span class=o>*</span><span class=n>iters</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=o>*</span><span class=n>iters</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_string_with_join</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>l</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>l</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;xyz&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>l</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=o>*</span><span class=n>iters</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>convert_list_to_string</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>l</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=o>*</span><span class=n>iters</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_plus</span><span class=p>(</span><span class=mi>10000</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=mi>1000</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>972</span> <span class=n>Âµs</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_bytes_with_plus</span><span class=p>(</span><span class=mi>10000</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=mi>1000</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>815</span> <span class=n>Âµs</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_format</span><span class=p>(</span><span class=mi>10000</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=mi>1000</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>508</span> <span class=n>Âµs</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_join</span><span class=p>(</span><span class=mi>10000</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=mi>1000</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>878</span> <span class=n>Âµs</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;xyz&#34;</span><span class=p>]</span><span class=o>*</span><span class=mi>10000</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>convert_list_to_string</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=mi>10000</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=mi>10000</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>80</span> <span class=n>Âµs</span> <span class=n>per</span> <span class=n>loop</span>
</span></span></code></pre></td></tr></table></div></div><p>è®©æˆ‘ä»¬å°†è¿­ä»£æ¬¡æ•°å¢åŠ 10å€.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_plus</span><span class=p>(</span><span class=mi>100000</span><span class=p>))</span> <span class=c1># æ‰§è¡Œæ—¶é—´çº¿æ€§å¢åŠ </span>
</span></span><span class=line><span class=cl><span class=mi>100</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mf>9.75</span> <span class=n>ms</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_bytes_with_plus</span><span class=p>(</span><span class=mi>100000</span><span class=p>))</span> <span class=c1># äºŒæ¬¡å¢åŠ </span>
</span></span><span class=line><span class=cl><span class=mi>1000</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>974</span> <span class=n>ms</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_format</span><span class=p>(</span><span class=mi>100000</span><span class=p>))</span> <span class=c1># çº¿æ€§å¢åŠ </span>
</span></span><span class=line><span class=cl><span class=mi>100</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mf>5.25</span> <span class=n>ms</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_join</span><span class=p>(</span><span class=mi>100000</span><span class=p>))</span> <span class=c1># çº¿æ€§å¢åŠ </span>
</span></span><span class=line><span class=cl><span class=mi>100</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mf>9.85</span> <span class=n>ms</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;xyz&#34;</span><span class=p>]</span><span class=o>*</span><span class=mi>100000</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>convert_list_to_string</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=mi>100000</span><span class=p>))</span> <span class=c1># çº¿æ€§å¢åŠ </span>
</span></span><span class=line><span class=cl><span class=mi>1000</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>723</span> <span class=n>Âµs</span> <span class=n>per</span> <span class=n>loop</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-49>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-49>#</a></h4><ul><li>ä½ å¯ä»¥åœ¨è¿™è·å¾—æ›´å¤š <a href=https://docs.python.org/3/library/timeit.html target=_blank rel=noopener>timeit</a>
çš„ç›¸å…³ä¿¡æ¯. å®ƒé€šå¸¸ç”¨äºè¡¡é‡ä»£ç ç‰‡æ®µçš„æ‰§è¡Œæ—¶é—´.</li><li>ä¸è¦ç”¨ <code>+</code> å»ç”Ÿæˆè¿‡é•¿çš„å­—ç¬¦ä¸², åœ¨ Python ä¸­, <code>str</code> æ˜¯ä¸å¯å˜çš„, æ‰€ä»¥åœ¨æ¯æ¬¡è¿æ¥ä¸­ä½ éƒ½è¦æŠŠå·¦å³ä¸¤ä¸ªå­—ç¬¦ä¸²å¤åˆ¶åˆ°æ–°çš„å­—ç¬¦ä¸²ä¸­. å¦‚æœä½ è¿æ¥å››ä¸ªé•¿åº¦ä¸º10çš„å­—ç¬¦ä¸², ä½ éœ€è¦æ‹·è´ (10+10) + ((10+10)+10) + (((10+10)+10)+10) = 90 ä¸ªå­—ç¬¦è€Œä¸æ˜¯ 40 ä¸ªå­—ç¬¦. éšç€å­—ç¬¦ä¸²çš„æ•°é‡å’Œå¤§å°çš„å¢åŠ , æƒ…å†µä¼šå˜å¾—è¶Šå‘çš„ç³Ÿç³• (å°±åƒ<code>add_bytes_with_plus</code> å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ä¸€æ ·)</li><li>å› æ­¤, æ›´å»ºè®®ä½¿ç”¨ <code>.format.</code> æˆ– <code>%</code> è¯­æ³• (ä½†æ˜¯, å¯¹äºçŸ­å­—ç¬¦ä¸², å®ƒä»¬æ¯” <code>+</code> ç¨æ…¢ä¸€ç‚¹).</li><li>åˆæˆ–è€…, å¦‚æœä½ æ‰€éœ€çš„å†…å®¹å·²ç»ä»¥å¯è¿­ä»£å¯¹è±¡çš„å½¢å¼æä¾›äº†, ä½¿ç”¨ <code>''.join(å¯è¿­ä»£å¯¹è±¡)</code> è¦å¿«å¤šäº†.</li><li><code>add_string_with_plus</code> çš„æ‰§è¡Œæ—¶é—´æ²¡æœ‰åƒ <code>add_bytes_with_plus</code> ä¸€æ ·å‡ºç°äºŒæ¬¡å¢åŠ æ˜¯å› ä¸ºè§£é‡Šå™¨ä¼šå¦‚åŒä¸Šä¸€ä¸ªä¾‹å­æ‰€è®¨è®ºçš„ä¸€æ ·ä¼˜åŒ– <code>+=</code>. ç”¨ <code>s = s + "x" + "y" + "z"</code> æ›¿ä»£ <code>s += "xyz"</code> çš„è¯, æ‰§è¡Œæ—¶é—´å°±ä¼šäºŒæ¬¡å¢åŠ äº†.<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_string_with_plus</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>iters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>=</span> <span class=n>s</span> <span class=o>+</span> <span class=s2>&#34;x&#34;</span> <span class=o>+</span> <span class=s2>&#34;y&#34;</span> <span class=o>+</span> <span class=s2>&#34;z&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=o>*</span><span class=n>iters</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_plus</span><span class=p>(</span><span class=mi>10000</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=mi>100</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mf>9.87</span> <span class=n>ms</span> <span class=n>per</span> <span class=n>loop</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>timeit</span><span class=p>(</span><span class=n>add_string_with_plus</span><span class=p>(</span><span class=mi>100000</span><span class=p>))</span> <span class=c1># æ‰§è¡Œæ—¶é—´äºŒæ¬¡å¢åŠ </span>
</span></span><span class=line><span class=cl><span class=mi>1</span> <span class=n>loops</span><span class=p>,</span> <span class=n>best</span> <span class=n>of</span> <span class=mi>3</span><span class=p>:</span> <span class=mf>1.09</span> <span class=n>s</span> <span class=n>per</span> <span class=n>loop</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=-explicit-typecast-of-stringså­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢>> Explicit typecast of strings/å­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢<a hidden class=anchor aria-hidden=true href=#-explicit-typecast-of-stringså­—ç¬¦ä¸²çš„æ˜¾å¼ç±»å‹è½¬æ¢>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;nan&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;-iNf&#39;</span><span class=p>)</span>  <span class=c1># è¿™äº›å­—ç¬¦ä¸²ä¸åŒºåˆ†å¤§å°å†™</span>
</span></span><span class=line><span class=cl><span class=n>d</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;nan&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Output:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=n>inf</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=n>nan</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>c</span>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=n>inf</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;some_other_string&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=ne>ValueError</span><span class=p>:</span> <span class=n>could</span> <span class=ow>not</span> <span class=n>convert</span> <span class=n>string</span> <span class=n>to</span> <span class=nb>float</span><span class=p>:</span> <span class=n>some_other_string</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>==</span> <span class=o>-</span><span class=n>c</span> <span class=c1>#inf==inf</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kc>None</span> <span class=o>==</span> <span class=kc>None</span> <span class=c1># None==None</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span> <span class=o>==</span> <span class=n>d</span> <span class=c1>#ä½†æ˜¯ nan!=nan</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mi>50</span><span class=o>/</span><span class=n>a</span>
</span></span><span class=line><span class=cl><span class=mf>0.0</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=o>/</span><span class=n>a</span>
</span></span><span class=line><span class=cl><span class=n>nan</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mi>23</span> <span class=o>+</span> <span class=n>b</span>
</span></span><span class=line><span class=cl><span class=n>nan</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-è¯´æ˜-50>ğŸ’¡ è¯´æ˜:<a hidden class=anchor aria-hidden=true href=#-è¯´æ˜-50>#</a></h4><p><code>'inf'</code> å’Œ <code>'nan'</code> æ˜¯ç‰¹æ®Šçš„å­—ç¬¦ä¸²(ä¸åŒºåˆ†å¤§å°å†™), å½“æ˜¾ç¤ºè½¬æ¢æˆ <code>float</code> å‹æ—¶, å®ƒä»¬åˆ†åˆ«ç”¨äºè¡¨ç¤ºæ•°å­¦æ„ä¹‰ä¸Šçš„ &ldquo;æ— ç©·å¤§&rdquo; å’Œ &ldquo;éæ•°å­—&rdquo;.</p><hr><h3 id=-minor-oneså°çŸ¥è¯†ç‚¹>> Minor Ones/å°çŸ¥è¯†ç‚¹<a hidden class=anchor aria-hidden=true href=#-minor-oneså°çŸ¥è¯†ç‚¹>#</a></h3><ul><li><p><code>join()</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ“ä½œè€Œä¸æ˜¯åˆ—è¡¨æ“ä½œ. (ç¬¬ä¸€æ¬¡æ¥è§¦ä¼šè§‰å¾—æœ‰ç‚¹è¿åç›´è§‰)</p><p><strong>ğŸ’¡ è¯´æ˜:</strong>
å¦‚æœ <code>join()</code> æ˜¯å­—ç¬¦ä¸²æ–¹æ³• é‚£ä¹ˆå®ƒå°±å¯ä»¥å¤„ç†ä»»ä½•å¯è¿­ä»£çš„å¯¹è±¡(åˆ—è¡¨ï¼Œå…ƒç»„ï¼Œè¿­ä»£å™¨). å¦‚æœå®ƒæ˜¯åˆ—è¡¨æ–¹æ³•, åˆ™å¿…é¡»åœ¨æ¯ç§ç±»å‹ä¸­å•ç‹¬å®ç°. å¦å¤–, åœ¨ <code>list</code> å¯¹è±¡çš„é€šç”¨APIä¸­å®ç°ä¸€ä¸ªä¸“ç”¨äºå­—ç¬¦ä¸²çš„æ–¹æ³•æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰.</p></li><li><p>çœ‹ç€å¥‡æ€ªä½†èƒ½æ­£ç¡®è¿è¡Œçš„è¯­å¥:</p><ul><li><code>[] = ()</code> è¯­å¥åœ¨è¯­ä¹‰ä¸Šæ˜¯æ­£ç¡®çš„ (è§£åŒ…ä¸€ä¸ªç©ºçš„ <code>tuple</code> å¹¶èµ‹å€¼ç»™ <code>list</code>)</li><li><code>'a'[0][0][0][0][0]</code> åœ¨è¯­ä¹‰ä¸Šä¹Ÿæ˜¯æ­£ç¡®çš„, å› ä¸ºåœ¨ Python ä¸­å­—ç¬¦ä¸²åŒæ—¶ä¹Ÿæ˜¯<a href=https://docs.python.org/3/glossary.html#term-sequence target=_blank rel=noopener>åºåˆ—</a>
(å¯è¿­ä»£å¯¹è±¡æ”¯æŒä½¿ç”¨æ•´æ•°ç´¢å¼•è®¿é—®å…ƒç´ ).</li><li><code>3 --0-- 5 == 8</code> å’Œ <code>--5 == 5</code> åœ¨è¯­ä¹‰ä¸Šéƒ½æ˜¯æ­£ç¡®çš„, ä¸”ç»“æœç­‰äº <code>True</code>.(è¯‘: 3å‡è´Ÿ0ç­‰äº3ï¼Œå†å‡è´Ÿ5ç›¸å½“äºåŠ 5ç­‰äº8ï¼›è´Ÿçš„è´Ÿ5ç­‰äº5.)</li></ul></li><li><p>é‰´äº <code>a</code> æ˜¯ä¸€ä¸ªæ•°å­—, <code>++a</code> å’Œ <code>--a</code> éƒ½æ˜¯æœ‰æ•ˆçš„ Python è¯­å¥, ä½†å…¶æ•ˆæœä¸ C, C++ æˆ– Java ç­‰ä¸ä¸€æ ·.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=o>++</span><span class=n>a</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=o>--</span><span class=n>a</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>ğŸ’¡ è¯´æ˜:</strong></p><ul><li>python é‡Œæ²¡æœ‰ <code>++</code> æ“ä½œç¬¦. è¿™å…¶å®æ˜¯ä¸¤ä¸ª <code>+</code> æ“ä½œç¬¦.</li><li><code>++a</code> è¢«è§£æä¸º <code>+(+a)</code> æœ€åç­‰äº <code>a</code>. <code>--a</code> åŒç†.</li><li>è¿™ä¸ª StackOverflow <a href=https://stackoverflow.com/questions/3654830/why-are-there-no-and-operators-in-python target=_blank rel=noopener>å›ç­”</a>
è®¨è®ºäº†ä¸ºä»€ä¹ˆ Python ä¸­ç¼ºå°‘å¢é‡å’Œå‡é‡è¿ç®—ç¬¦.</li></ul></li><li><p>Python ä½¿ç”¨ 2ä¸ªå­—èŠ‚å­˜å‚¨å‡½æ•°ä¸­çš„æœ¬åœ°å˜é‡. ç†è®ºä¸Š, è¿™æ„å‘³ç€å‡½æ•°ä¸­åªèƒ½å®šä¹‰65536ä¸ªå˜é‡. ä½†æ˜¯ï¼ŒPython å†…ç½®äº†ä¸€ä¸ªæ–¹ä¾¿çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ç”¨äºå­˜å‚¨è¶…è¿‡2^16ä¸ªå˜é‡å. ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å½“å®šä¹‰äº†è¶…è¿‡65536ä¸ªå±€éƒ¨å˜é‡æ—¶å †æ ˆä¸­å‘ç”Ÿçš„æƒ…å†µ (è­¦å‘Š: è¿™æ®µä»£ç ä¼šæ‰“å°å¤§çº¦2^18è¡Œæ–‡æœ¬, è¯·åšå¥½å‡†å¤‡!):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>dis</span>
</span></span><span class=line><span class=cl><span class=n>exec</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>def f():
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span> <span class=o>+</span> <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=s2>&#34;X&#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>x</span><span class=p>)</span><span class=o>+</span><span class=s2>&#34;=&#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>65539</span><span class=p>)]))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dis</span><span class=o>.</span><span class=n>dis</span><span class=p>(</span><span class=n>f</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>ä½ çš„ <em>Python ä»£ç </em> å¹¶ä¸ä¼šå¤šçº¿ç¨‹åŒæ—¶è¿è¡Œ (æ˜¯çš„, ä½ æ²¡å¬é”™!). è™½ç„¶ä½ è§‰å¾—ä¼šäº§ç”Ÿå¤šä¸ªçº¿ç¨‹å¹¶è®©å®ƒä»¬åŒæ—¶æ‰§è¡Œä½ çš„ä»£ç , ä½†æ˜¯, ç”±äº <a href=https://wiki.python.org/moin/GlobalInterpreterLock target=_blank rel=noopener>å…¨å±€è§£é‡Šé”</a>
çš„å­˜åœ¨, ä½ æ‰€åšçš„åªæ˜¯è®©ä½ çš„çº¿ç¨‹ä¾æ¬¡åœ¨åŒä¸€ä¸ªæ ¸å¿ƒä¸Šæ‰§è¡Œ. Python å¤šçº¿ç¨‹é€‚ç”¨äºIOå¯†é›†å‹çš„ä»»åŠ¡, ä½†å¦‚æœæƒ³è¦å¹¶è¡Œå¤„ç†CPUå¯†é›†å‹çš„ä»»åŠ¡, ä½ åº”è¯¥ä¼šæƒ³ä½¿ç”¨ <a href=https://docs.python.org/2/library/multiprocessing.html target=_blank rel=noopener>multiprocessing</a>
æ¨¡å—.</p></li><li><p>åˆ—è¡¨åˆ‡ç‰‡è¶…å‡ºç´¢å¼•è¾¹ç•Œè€Œä¸å¼•å‘ä»»ä½•é”™è¯¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>some_list</span><span class=p>[</span><span class=mi>111</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><code>int('Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©')</code> åœ¨ Python 3 ä¸­ä¼šè¿”å› <code>123456789</code>. åœ¨ Python ä¸­, åè¿›åˆ¶å­—ç¬¦åŒ…æ‹¬æ•°å­—å­—ç¬¦, ä»¥åŠå¯ç”¨äºå½¢æˆåè¿›åˆ¶æ•°å­—çš„æ‰€æœ‰å­—ç¬¦, ä¾‹å¦‚: U+0660, ARABIC-INDIC DIGIT ZERO. è¿™æœ‰ä¸€ä¸ªå…³äºæ­¤çš„ <a href=http://chris.improbable.org/2014/8/25/adventures-in-unicode-digits/ target=_blank rel=noopener>æœ‰è¶£æ•…äº‹</a>
.</p></li><li><p><code>'abc'.count('') == 4</code>. è¿™æœ‰ä¸€ä¸ª <code>count</code> æ–¹æ³•çš„ç›¸è¿‘å®ç°, èƒ½æ›´å¥½çš„è¯´æ˜é—®é¢˜</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>count</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>sub</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>-</span> <span class=nb>len</span><span class=p>(</span><span class=n>sub</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>+=</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>i</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>sub</span><span class=p>)]</span> <span class=o>==</span> <span class=n>sub</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªè¡Œä¸ºæ˜¯ç”±äºç©ºå­ä¸²(<code>''</code>)ä¸åŸå§‹å­—ç¬¦ä¸²ä¸­é•¿åº¦ä¸º0çš„åˆ‡ç‰‡ç›¸åŒ¹é…å¯¼è‡´çš„.</p></li></ul><hr><h1 id=contributingè´¡çŒ®>Contributing/è´¡çŒ®<a hidden class=anchor aria-hidden=true href=#contributingè´¡çŒ®>#</a></h1><p>æ¬¢è¿å„ç§è¡¥ä¸! è¯¦æƒ…è¯·çœ‹<a href=https://github.com/satwikkansal/wtfpython/blob/master/CONTRIBUTING.md target=_blank rel=noopener>CONTRIBUTING.md</a>
.(è¯‘: è¿™æ˜¯ç»™åŸåº“æè´¡çŒ®çš„è¦æ±‚æ¨¡ç‰ˆ)</p><p>ä½ å¯ä»¥é€šè¿‡æ–°å»º <a href=https://github.com/satwikkansal/wtfpython/issues/new target=_blank rel=noopener>issue</a>
æˆ–è€…åœ¨ä¸Š <a href=https://gitter.im/wtfpython/Lobby target=_blank rel=noopener>Gitter</a>
ä¸æˆ‘ä»¬è¿›è¡Œè®¨è®º.</p><p>(è¯‘: å¦‚æœä½ æƒ³å¯¹è¿™ä¸ªç¿»è¯‘é¡¹ç›®æä¾›å¸®åŠ©, è¯·çœ‹<a href=https://github.com/leisurelicht/wtfpython-cn/blob/master/CONTRIBUTING.md target=_blank rel=noopener>è¿™é‡Œ</a>
)</p><h1 id=acknowledgementsè‡´è°¢>Acknowledgements/è‡´è°¢<a hidden class=anchor aria-hidden=true href=#acknowledgementsè‡´è°¢>#</a></h1><p>è¿™ä¸ªç³»åˆ—æœ€åˆçš„æƒ³æ³•å’Œè®¾è®¡çµæ„Ÿæ¥è‡ªäº Denys Dovhan çš„é¡¹ç›® <a href=https://github.com/denysdovhan/wtfjs target=_blank rel=noopener>wtfjs</a>
. ç¤¾åŒºçš„å¼ºå¤§æ”¯æŒè®©å®ƒæˆé•¿ä¸ºç°åœ¨çš„æ¨¡æ ·.</p><h4 id=some-nice-linksä¸€äº›ä¸é”™çš„èµ„æº>Some nice Links!/ä¸€äº›ä¸é”™çš„èµ„æº<a hidden class=anchor aria-hidden=true href=#some-nice-linksä¸€äº›ä¸é”™çš„èµ„æº>#</a></h4><ul><li><a href="https://www.youtube.com/watch?v=sH4XF6pKKmk" target=_blank rel=noopener>https://www.youtube.com/watch?v=sH4XF6pKKmk</a></li><li><a href=https://www.reddit.com/r/Python/comments/3cu6ej/what_are_some_wtf_things_about_python target=_blank rel=noopener>https://www.reddit.com/r/Python/comments/3cu6ej/what_are_some_wtf_things_about_python</a></li><li><a href=https://sopython.com/wiki/Common_Gotchas_In_Python target=_blank rel=noopener>https://sopython.com/wiki/Common_Gotchas_In_Python</a></li><li><a href=https://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines target=_blank rel=noopener>https://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines</a></li><li><a href=https://stackoverflow.com/questions/1011431/common-pitfalls-in-python target=_blank rel=noopener>https://stackoverflow.com/questions/1011431/common-pitfalls-in-python</a></li><li><a href=https://www.python.org/doc/humor/ target=_blank rel=noopener>https://www.python.org/doc/humor/</a></li><li><a href=https://www.codementor.io/satwikkansal/python-practices-for-efficient-code-performance-memory-and-usability-aze6oiq65 target=_blank rel=noopener>https://www.codementor.io/satwikkansal/python-practices-for-efficient-code-performance-memory-and-usability-aze6oiq65</a></li></ul><h1 id=-licenseè®¸å¯>ğŸ“ License/è®¸å¯<a hidden class=anchor aria-hidden=true href=#-licenseè®¸å¯>#</a></h1><p><a href=http://www.wtfpl.net target=_blank rel=noopener><div class=post-img-view><a data-fancybox=gallery href="https://img.shields.io/badge/License-WTFPL%202.0-lightgrey.svg?style=flat-square"><img alt="CC 4.0" loading=lazy src="https://img.shields.io/badge/License-WTFPL%202.0-lightgrey.svg?style=flat-square" class=responsive-image src="https://img.shields.io/badge/License-WTFPL%202.0-lightgrey.svg?style=flat-square" style="display:block;margin:0 auto" alt="CC 4.0"></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></a></p><p>Â© <a href=https://satwikkansal.xyz target=_blank rel=noopener>Satwik Kansal</a></p><h2 id=helpå¸®åŠ©>Help/å¸®åŠ©<a hidden class=anchor aria-hidden=true href=#helpå¸®åŠ©>#</a></h2><p>å¦‚æœæ‚¨æœ‰ä»»ä½•æƒ³æ³•æˆ–å»ºè®®ï¼Œæ¬¢è¿åˆ†äº«.</p><h2 id=surprise-your-geeky-pythonist-friendsæƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ>Surprise your geeky pythonist friends?/æƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ?<a hidden class=anchor aria-hidden=true href=#surprise-your-geeky-pythonist-friendsæƒ³ç»™ä½ çš„æå®¢æœ‹å‹ä¸€ä¸ªæƒŠå–œ>#</a></h2><p>æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›å¿«é“¾å‘ Twitter å’Œ Linkedin ä¸Šçš„æœ‹å‹æ¨è wtfpython,</p><p><a href="https://twitter.com/intent/tweet?url=https://github.com/satwikkansal/wtfpython&amp;hastags=python,wtfpython" target=_blank rel=noopener>Twitter</a>
| <a href="https://www.linkedin.com/shareArticle?url=https://github.com/satwikkansal&amp;title=What%20the%20f*ck%20Python!&amp;summary=An%20interesting%20collection%20of%20subtle%20and%20tricky%20Python%20snippets." target=_blank rel=noopener>Linkedin</a></p><h2 id=need-a-pdf-versionéœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„>Need a pdf version?/éœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„?<a hidden class=anchor aria-hidden=true href=#need-a-pdf-versionéœ€è¦æ¥ä¸€ä»½pdfç‰ˆçš„>#</a></h2><p>æˆ‘æ”¶åˆ°ä¸€äº›æƒ³è¦pdfç‰ˆæœ¬çš„éœ€æ±‚. ä½ å¯ä»¥å¿«é€Ÿåœ¨<a href=https://satwikkansal.xyz/wtfpython-pdf/ target=_blank rel=noopener>è¿™</a>
è·å¾—.</p><h2 id=follow-commitè¿½è¸ªcommit>Follow Commit/è¿½è¸ªCommit<a hidden class=anchor aria-hidden=true href=#follow-commitè¿½è¸ªcommit>#</a></h2><p>è¿™æ˜¯ä¸­æ–‡ç‰ˆ fork æ—¶æ‰€å¤„çš„åŸåº“ Commit, å½“åŸåº“æ›´æ–°æ—¶æˆ‘ä¼šè·Ÿéšæ›´æ–°.</p><p><a href=https://github.com/satwikkansal/wtfpython/commit/30e05a5973930c38cdb59f1c02b85b19b22ac531 target=_blank rel=noopener><div class=post-img-view><a data-fancybox=gallery href=https://img.shields.io/badge/Commit-30e05a-yellow.svg><img alt="Commit id" loading=lazy src=https://img.shields.io/badge/Commit-30e05a-yellow.svg class=responsive-image src=https://img.shields.io/badge/Commit-30e05a-yellow.svg style="display:block;margin:0 auto" alt="Commit id"></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></a></p><h2 id=996icu>996.icu<a hidden class=anchor aria-hidden=true href=#996icu>#</a></h2><p><a href=https://996.icu target=_blank rel=noopener><div class=post-img-view><a data-fancybox=gallery href=https://img.shields.io/badge/link-996.icu-red.svg><img alt=996.icu loading=lazy src=https://img.shields.io/badge/link-996.icu-red.svg class=responsive-image src=https://img.shields.io/badge/link-996.icu-red.svg style="display:block;margin:0 auto" alt=996.icu></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://aikenh.cn/hugotest/tags/langs/>Langs</a></li><li><a href=https://aikenh.cn/hugotest/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://aikenh.cn/hugotest/posts/markup_langs/><span class=title>Â« Prev</span><br><span>python ä¸æ ‡è®°è¯­è¨€çš„äº¤äº’</span>
</a><a class=next href=https://aikenh.cn/hugotest/posts/cpp%E8%A6%81%E7%82%B9%E8%BE%A8%E6%9E%90%E4%B8%8E%E8%A1%A5%E5%85%85/><span class=title>Next Â»</span><br><span>C++çš„å¸¸è§æ•°æ®ç±»å‹å’Œæ“ä½œ</span></a></nav></footer><div id=disqus_thread></div><script>function loadDisqus(){var e=document,t=e.createElement("script");t.src="https://aiken-hugo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t),window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href.substring(18)}}var runningOnBrowser=typeof window!="undefined",isBot=runningOnBrowser&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver(function(t){t[0].isIntersecting&&(loadDisqus(),e.disconnect())},{threshold:[0]});e.observe(document.getElementById("disqus_thread"))}else loadDisqus()},1)</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2024 <a href=https://aikenh.cn/hugotest/>aiken's blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container>Visitors: <span id=busuanzi_value_site_uv></span>
Views: <span id=busuanzi_value_site_pv></span></span></footer><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),o=13863,i=16993;if(!e||!t){console.error("Busuanzi elements not found.");return}const n=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+o;break}}),s=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){s.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+i;break}});n.observe(e,{childList:!0}),s.observe(t,{childList:!0})})</script><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))}),document.getElementById("theme-toggle-nav").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("/js/pangu.js",function(){pangu.spacingPage()})</script></body></html>