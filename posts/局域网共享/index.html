<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Windows Configuration03 LAN sharing | aiken's blog</title>
<meta name=keywords content="Tool,Windows,Tobefinnish"><meta name=description content="在同一个局域网（像是链接同一个wifi的环境）中，设置共享的文件夹或者磁盘，可提升文件分享的效率和速度，特别适用于与女朋友合租、与兄弟合租的情景。

Win 系统开放共享权限
Windows的设置首先要在控制面板中开启共享功能：


  
    
  





针对专用网络开启


  
    
  





为了信息和数据安全关闭来宾和公用，并开启加密


  
    
  




"><meta name=author content="aikenhong"><link rel=canonical href=https://aikenh.cn/hugotest/posts/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB/><link crossorigin=anonymous href=/hugotest/assets/css/stylesheet.2f85ca17c12c62fa86b1e474b8a51aca4856f0d645debfe4922a4d5ddc6aa978.css integrity="sha256-L4XKF8EsYvqGseR0uKUaykhW8NZF3r/kkipNXdxqqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://aikenh.cn/favicon/ghost.ico><link rel=icon type=image/png sizes=16x16 href=https://aikenh.cn/favicon/ghost-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aikenh.cn/favicon/ghost-32x32.png><link rel=apple-touch-icon href=https://aikenh.cn/favicon/ghost-apple-touch-icon.png><link rel=mask-icon href=https://aikenh.cn/favicon/ghost-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://aikenh.cn/hugotest/posts/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://cdn.jsdmirror.com/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.css><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.js></script><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel=stylesheet><meta property="og:url" content="https://aikenh.cn/hugotest/posts/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB/"><meta property="og:site_name" content="aiken's blog"><meta property="og:title" content="Windows Configuration03 LAN sharing"><meta property="og:description" content="在同一个局域网（像是链接同一个wifi的环境）中，设置共享的文件夹或者磁盘，可提升文件分享的效率和速度，特别适用于与女朋友合租、与兄弟合租的情景。
Win 系统开放共享权限 Windows的设置首先要在控制面板中开启共享功能：
针对专用网络开启
为了信息和数据安全关闭来宾和公用，并开启加密"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-31T23:43:00+00:00"><meta property="article:modified_time" content="2022-07-31T23:43:00+00:00"><meta property="article:tag" content="Tool"><meta property="article:tag" content="Windows"><meta property="article:tag" content="Tobefinnish"><meta property="og:image" content="https://aikenh.cn/cover/cover0.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aikenh.cn/cover/cover0.jpeg"><meta name=twitter:title content="Windows Configuration03 LAN sharing"><meta name=twitter:description content="在同一个局域网（像是链接同一个wifi的环境）中，设置共享的文件夹或者磁盘，可提升文件分享的效率和速度，特别适用于与女朋友合租、与兄弟合租的情景。

Win 系统开放共享权限
Windows的设置首先要在控制面板中开启共享功能：


  
    
  





针对专用网络开启


  
    
  





为了信息和数据安全关闭来宾和公用，并开启加密


  
    
  




"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aikenh.cn/hugotest/posts/"},{"@type":"ListItem","position":2,"name":"Windows Configuration03 LAN sharing","item":"https://aikenh.cn/hugotest/posts/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Windows Configuration03 LAN sharing","name":"Windows Configuration03 LAN sharing","description":"在同一个局域网（像是链接同一个wifi的环境）中，设置共享的文件夹或者磁盘，可提升文件分享的效率和速度，特别适用于与女朋友合租、与兄弟合租的情景。\nWin 系统开放共享权限 Windows的设置首先要在控制面板中开启共享功能：\n针对专用网络开启\n为了信息和数据安全关闭来宾和公用，并开启加密\n","keywords":["Tool","Windows","Tobefinnish"],"articleBody":"在同一个局域网（像是链接同一个wifi的环境）中，设置共享的文件夹或者磁盘，可提升文件分享的效率和速度，特别适用于与女朋友合租、与兄弟合租的情景。\nWin 系统开放共享权限 Windows的设置首先要在控制面板中开启共享功能：\n针对专用网络开启\n为了信息和数据安全关闭来宾和公用，并开启加密\n基于该设置，在访问共享文件夹之时，需要输入账号和密码。\nWin 共享文件夹设置 直接使用默认的共享功能可以方便设置，但是存在可访问父级文件夹的 bug，建议设置好用户后使用。\n如果操作得当可以使用高级共享功能来创建更为安全的文件夹共享。\n使用高级共享中的设置来定义权限Everyone（是否允许修改等其他权限）\n至此，完成了文件夹和文件的共享设置，使用同样的设置，便可以在LAN中的其他设备访问开放共享的文件夹。\n共享用户创建 可以在默认的共享设置中设置权限的时候，选择设置新用户，跳过使用 Microsoft 账号，创建本地账号，后面共享链接的时候就可以用该账号登录了。\n然后选择管理其他账户 ，然后选择添加新用户-\u003e 添加账户即可。\nLinux 共享文件夹设置 设置 Linux 的文件夹共享，安装对应的 Samba 来启动 SMB 文件共享（需要注意的是，这一步安装不能使用远程桌面进行）\n设置好对应的文件读写权限，同时使用下列命令设置好允许访问 smb 文件夹的用户：\n1 sudo smbpasswd -a 需要为 linux 的有效用户，设置好 SMB 账号密码即可开启完整的访问服务。\n各平台访问共享文件夹 windows 访问 使用以下的方式访问共享文件夹：\n\\\\192.168.31.108\\\\Folder 可以使用\\\\localhost在资源管理器中访问《网络》中《我的共享文件夹》，确保当前网络为专用的情况下，可以打开另外终端资源管理器中的《网络》来访问当前共享文件夹。\n经测试，文件访问和读取的速度较快，在带宽充足的情况下，能够取代 U 盘等进行文件的传输和共享，也能实现视频流的实时播放。\nios 访问 在默认的文件 APP 中，连接服务器，连接到 pc 的 ip 地址，用指定的账户登录即可。\nmac 访问 在访达中选择前往，然后选择连接服务器，然后选中局域网的 IP 并输入指定的账号密码即可登录。\nLinux 访问 linux开机挂载文件夹,Linux开机挂载windows共享文件夹_正妻空母加贺桑的博客-CSDN博客 【交互界面】方法 1：在 File Manager 里面选择 other Location 中的 Connect to Server，连接到 windows 的 SMB 服务器即可。\n【推荐】方法 2：使用手动挂载命令，将 windows 的共享文件夹挂载到指定目录下。\n1 sudo mount -t cifs //192.168.31.201/ -o username='username',password='passwd',vers=2.0 【成功】方法 2.1：使用开机启动脚本 /etc/rc.local 开机执行上述脚本即可，Ubuntu 22.04 LTS 不用再自己写rc-local.service了-简易百科 (isolves.com) ，原本系统中没有 rc.local 文件，但是 Ubuntu 中已经无需自己编写，但是需要新建后赋予其执行权限\n1 sudo chmod +x /etc/rc.local 这里需要注意的是，编写挂载脚本的时候，因为树莓派在刚开机的时候挂载会失败，所以需要引入 sleep 一段时间。具体的操作流程如下：\n创建脚本文件 startup.sh 在任意位置，内容参考手动挂载命令，在这之前添加 sleep。 1 2 3 4 5 6 7 8 sleep 30 # 下面两者选一个用即可 # 选项1 使用方法2.手动挂载命令挂载 sudo mount -t cifs //192.168.31.201/ -o username='username',password='passwd',vers=2.0 # 选项2 使用方法2.3 已经在fstab中加入挂载的命令 sudo mount -a 在 rc.local 的 exit0之前添加调用执行该脚本 1 2 3 4 5 ... ... sudo sh //startup.sh exit 0 如果失败了可以尝试 chmod +x startup.Sh 修改成可执行。\n【成功】方法 2.2：加入开机启动项 ，在 /etc/init.d 中编写需要开机启动的脚本，然后执行以下的命令加入开机启动中：\n1 sudo update-rc.d xxx.sh defaults 90 最后一个数字是脚本启动的顺序，数字越大，执行越晚，重启即可完成测试，以下命令可以查看全部服务列表：\n1 sudo service --status-all 卸载启动脚本的方法：\n1 sudo update-rc.d -f xxx.sh remove 【成功一半】方法 2.3：使用自动挂载命令，修改 fstab ，将以下的命令添加到该文件下面即可生效：\n1 //192.168.31.201/ /mnt/windows-share cifs username='username',password='passwd' 0 0 如果要卸载网络共享目录使用以下命令：\n1 sudo umount 可以通过 df -h 查看挂载是否成功。\n【可选】方法 3: 要进入 smb 的命令操作空间\n1 2 # 安装Smbclient sudo apt-get install smbclinent 安装好后，就可以访问共享的文件夹，这样会进入 smb 的命令操作空间\n1 smbclient --user=share //192.168.31.198/share ","wordCount":"240","inLanguage":"en","image":"https://aikenh.cn/cover/cover0.jpeg","datePublished":"2022-07-31T23:43:00Z","dateModified":"2022-07-31T23:43:00Z","author":[{"@type":"Person","name":"aikenhong"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://aikenh.cn/hugotest/posts/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB/"},"publisher":{"@type":"Organization","name":"aiken's blog","logo":{"@type":"ImageObject","url":"https://aikenh.cn/favicon/ghost.ico"}}}</script></head><body id=top><script type=module src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.esm.js defer></script><script nomodule src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.js defer></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aikenh.cn/hugotest/ accesskey=h title="aiken's blog (Alt + H)">aiken's blog</a><div class=logo-switches><button id=theme-toggle-nav accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://aikenh.cn/hugotest/ title=home><span>home</span></a></li><li><a href=https://aikenh.cn/hugotest/posts/ title=posts><span>posts</span></a></li><li><a href=https://aikenh.cn/hugotest/tags/ title=tags><span>tags</span></a></li><li><a href=https://aikenh.cn/hugotest/categories/ title=categories><span>categories</span></a></li><li><a href=https://aikenh.cn/hugotest/archives/ title=archives><span>archives</span></a></li><li><a href=https://aikenh.cn/hugotest/about/ title=about><span>about</span></a></li><li><a href=https://aikenh.cn/hugotest/search title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><div class=sidebar><ul><li class=logo style=--bg:#333><a href=#><div class=logo-icon><img src=/logo/logo.png></div><div class=logo-text>Aiken's Blog</div></a></li><div class=menulist><li style=--bg:#f44336><a href=https://aikenh.cn/hugotest/ title=home><div class=logo-icon><ion-icon name=home-outline></ion-icon></div><div class=logo-text>home</div></a></li><li style=--bg:#b145e9><a href=https://aikenh.cn/hugotest/posts/ title=posts><div class=logo-icon><ion-icon name=newspaper-outline></ion-icon></div><div class=logo-text>posts</div></a></li><li style=--bg:#0f93c7><a href=https://aikenh.cn/hugotest/tags/ title=tags><div class=logo-icon><ion-icon name=pricetags-outline></ion-icon></div><div class=logo-text>tags</div></a></li><li style=--bg:#ffa117><a href=https://aikenh.cn/hugotest/categories/ title=categories><div class=logo-icon><ion-icon name=grid-outline></ion-icon></div><div class=logo-text>categories</div></a></li><li style=--bg:#0fc70f><a href=https://aikenh.cn/hugotest/archives/ title=archives><div class=logo-icon><ion-icon name=folder-outline></ion-icon></div><div class=logo-text>archives</div></a></li><li style=--bg:#d16111><a href=https://aikenh.cn/hugotest/about/ title=about><div class=logo-icon><ion-icon name=person></ion-icon></div><div class=logo-text>about</div></a></li><li style=--bg:#15c095><a href=https://aikenh.cn/hugotest/search title="search (Alt + /)" accesskey=/><div class=logo-icon><ion-icon name=search></ion-icon></div><div class=logo-text>search</div></a></li></div><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt +T)"><li><div class=logo-icon id=moon><ion-icon name=moon-outline></ion-icon></div><div class=logo-icon id=sun><ion-icon name=sunny-outline></ion-icon></div></li></button></div></ul></div><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://aikenh.cn/hugotest/>Home</a>&nbsp;»&nbsp;<a href=https://aikenh.cn/hugotest/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Windows Configuration03 LAN sharing</h1><div class=post-meta><span title='2022-07-31 23:43:00 +0000 UTC'>July 31, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;240 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/tool> Tool</a>&nbsp;·&nbsp;<a href=/tags/windows> Windows</a>&nbsp;·&nbsp;<a href=/tags/tobefinnish> Tobefinnish</a>&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/%e5%b1%80%e5%9f%9f%e7%bd%91%e5%85%b1%e4%ba%ab.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://aikenh.cn/cover/cover0.jpeg alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#win-%e7%b3%bb%e7%bb%9f%e5%bc%80%e6%94%be%e5%85%b1%e4%ba%ab%e6%9d%83%e9%99%90 aria-label="Win 系统开放共享权限">Win 系统开放共享权限</a></li><li><a href=#win-%e5%85%b1%e4%ba%ab%e6%96%87%e4%bb%b6%e5%a4%b9%e8%ae%be%e7%bd%ae aria-label="Win 共享文件夹设置">Win 共享文件夹设置</a><ul class=header-level-2><li><a href=#%e5%85%b1%e4%ba%ab%e7%94%a8%e6%88%b7%e5%88%9b%e5%bb%ba aria-label=共享用户创建>共享用户创建</a></li></ul></li><li><a href=#linux-%e5%85%b1%e4%ba%ab%e6%96%87%e4%bb%b6%e5%a4%b9%e8%ae%be%e7%bd%ae aria-label="Linux 共享文件夹设置">Linux 共享文件夹设置</a></li><li><a href=#%e5%90%84%e5%b9%b3%e5%8f%b0%e8%ae%bf%e9%97%ae%e5%85%b1%e4%ba%ab%e6%96%87%e4%bb%b6%e5%a4%b9 aria-label=各平台访问共享文件夹>各平台访问共享文件夹</a><ul class=header-level-2><li><a href=#windows-%e8%ae%bf%e9%97%ae aria-label="windows 访问">windows 访问</a></li><li><a href=#ios-%e8%ae%bf%e9%97%ae aria-label="ios 访问">ios 访问</a></li><li><a href=#mac-%e8%ae%bf%e9%97%ae aria-label="mac 访问">mac 访问</a></li><li><a href=#linux-%e8%ae%bf%e9%97%ae aria-label="Linux 访问">Linux 访问</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;document.addEventListener("DOMContentLoaded",function(){if(checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),elements.length>0){activeElement=elements[0];const e=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${e}"]`).classList.add("active")}const t=document.getElementById("top-link");t&&t.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;if(e===0)return;elements&&elements.length>0&&(elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase(),n=document.querySelector(`.inner ul li a[href="#${t}"]`);n.classList.remove("read")}),activeElement=Array.from(elements).find(t=>{if(getOffsetTop(t)-e>0&&getOffsetTop(t)-e<window.innerHeight/2)return t})||activeElement,elements.forEach((t)=>{const o=encodeURI(t.getAttribute("id")).toLowerCase(),s=document.querySelector(`.inner ul li a[href="#${o}"]`);if(t===activeElement){s.classList.add("active");const e=document.querySelector(".toc .inner"),t=s.offsetTop,n=e.clientHeight,o=s.clientHeight,i=t-n/2+o/2;e.scrollTo({top:i,behavior:"smooth"})}else getOffsetTop(t)<e&&s.classList.add("read"),s.classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return!document.querySelector(".hugo-encryptor-prompt")&&elements.length!=0&&(elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),console.log("Elements re-queried:",elements)),0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>在同一个局域网（像是链接同一个wifi的环境）中，设置共享的文件夹或者磁盘，可提升文件分享的效率和速度，特别适用于与女朋友合租、与兄弟合租的情景。</p><h2 id=win-系统开放共享权限>Win 系统开放共享权限<a hidden class=anchor aria-hidden=true href=#win-系统开放共享权限>#</a></h2><p>Windows的设置首先要在控制面板中开启共享功能：</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801160336296.png><img alt=image-20220801160336296 loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801160336296.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801160336296.png style="display:block;margin:0 auto" alt=image-20220801160336296></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>针对专用网络开启</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801161142132.png><img alt=image-20220801161142132 loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801161142132.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801161142132.png style="display:block;margin:0 auto" alt=image-20220801161142132></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>为了信息和数据安全关闭来宾和公用，并开启加密</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801161340594.png><img alt=image-20220801161340594 loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801161340594.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801161340594.png style="display:block;margin:0 auto" alt=image-20220801161340594></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>基于该设置，在访问共享文件夹之时，需要输入账号和密码。</p><h2 id=win-共享文件夹设置>Win 共享文件夹设置<a hidden class=anchor aria-hidden=true href=#win-共享文件夹设置>#</a></h2><p>直接使用默认的共享功能可以方便设置，但是存在可访问父级文件夹的 bug，建议设置好用户后使用。</p><p>如果操作得当可以使用高级共享功能来创建更为安全的文件夹共享。</p><p>使用高级共享中的设置来定义权限Everyone（是否允许修改等其他权限）</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801162822427.png><img alt=image-20220801162822427 loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801162822427.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/imgs/image-20220801162822427.png style="display:block;margin:0 auto" alt=image-20220801162822427></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>至此，完成了文件夹和文件的共享设置，使用同样的设置，便可以在LAN中的其他设备访问开放共享的文件夹。</p><h3 id=共享用户创建>共享用户创建<a hidden class=anchor aria-hidden=true href=#共享用户创建>#</a></h3><p>可以在默认的共享设置中设置权限的时候，选择设置新用户，跳过使用 Microsoft 账号，创建本地账号，后面共享链接的时候就可以用该账号登录了。</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230322092927.png><img alt=image.png loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230322092927.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230322092927.png style="display:block;margin:0 auto" alt=image.png></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>然后选择管理其他账户<div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230322092954.png><img alt=image.png loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230322092954.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230322092954.png style="display:block;margin:0 auto" alt=image.png></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script>，然后选择添加新用户-> 添加账户即可。</p><h2 id=linux-共享文件夹设置>Linux 共享文件夹设置<a hidden class=anchor aria-hidden=true href=#linux-共享文件夹设置>#</a></h2><p>设置 Linux 的文件夹共享，安装对应的 Samba 来启动 SMB 文件共享（需要注意的是，这一步安装不能使用远程桌面进行）</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230625181635.png><img alt=image.png loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230625181635.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230625181635.png style="display:block;margin:0 auto" alt=image.png></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>设置好对应的文件读写权限，同时使用下列命令设置好允许访问 smb 文件夹的用户：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo smbpasswd -a &lt;username&gt;
</span></span></code></pre></td></tr></table></div></div><p><code>&lt;username></code> 需要为 linux 的有效用户，设置好 SMB 账号密码即可开启完整的访问服务。</p><h2 id=各平台访问共享文件夹>各平台访问共享文件夹<a hidden class=anchor aria-hidden=true href=#各平台访问共享文件夹>#</a></h2><h3 id=windows-访问>windows 访问<a hidden class=anchor aria-hidden=true href=#windows-访问>#</a></h3><p>使用以下的方式访问共享文件夹：</p><pre tabindex=0><code>\\192.168.31.108\\Folder
</code></pre><p>可以使用<code>\\localhost</code>在资源管理器中访问《网络》中《我的共享文件夹》，确保当前网络为<strong>专用</strong>的情况下，可以打开另外终端资源管理器中的《网络》来访问当前共享文件夹。</p><p>经测试，文件访问和读取的速度较快，在带宽充足的情况下，能够取代 U 盘等进行文件的传输和共享，也能实现视频流的实时播放。</p><h3 id=ios-访问>ios 访问<a hidden class=anchor aria-hidden=true href=#ios-访问>#</a></h3><p>在默认的文件 APP 中，连接服务器，连接到 pc 的 ip 地址，用指定的账户登录即可。</p><h3 id=mac-访问>mac 访问<a hidden class=anchor aria-hidden=true href=#mac-访问>#</a></h3><p>在访达中选择前往，然后选择连接服务器，然后选中局域网的 IP 并输入指定的账号密码即可登录。</p><h3 id=linux-访问>Linux 访问<a hidden class=anchor aria-hidden=true href=#linux-访问>#</a></h3><p><a href=https://blog.csdn.net/weixin_36118049/article/details/116648793 target=_blank rel=noopener>linux开机挂载文件夹,Linux开机挂载windows共享文件夹_正妻空母加贺桑的博客-CSDN博客</a></p><p>【交互界面】方法 1：在 File Manager 里面选择 other Location 中的 Connect to Server，连接到 windows 的 SMB 服务器即可。</p><p><div class=post-img-view><a data-fancybox=gallery href=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230625180602.png><img alt=image.png loading=lazy src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230625180602.png class=responsive-image src=https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/3070PC/20230625180602.png style="display:block;margin:0 auto" alt=image.png></a></div><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".responsive-image"),t=window.innerHeight/2.5;e.forEach(function(e){e.style.maxHeight=t+"px"})})</script></p><p>【推荐】方法 2：使用手动挂载命令，将 windows 的共享文件夹挂载到指定目录下。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mount -t cifs //192.168.31.201/&lt;share dir&gt; &lt;local-position&gt; -o <span class=nv>username</span><span class=o>=</span><span class=s1>&#39;username&#39;</span>,password<span class=o>=</span><span class=s1>&#39;passwd&#39;</span>,vers<span class=o>=</span>2.0
</span></span></code></pre></td></tr></table></div></div><p>【成功】方法 2.1：使用<a href=https://www.cnblogs.com/52php/p/5677805.html target=_blank rel=noopener>开机启动脚本</a>
<code>/etc/rc.local</code> 开机执行上述脚本即可，<a href=https://m.isolves.com/it/rj/czxt/linux/2022-06-17/55976.html target=_blank rel=noopener>Ubuntu 22.04 LTS 不用再自己写rc-local.service了-简易百科 (isolves.com)</a>
，原本系统中没有 <code>rc.local</code> 文件，但是 Ubuntu 中已经无需自己编写，但是需要新建后赋予其执行权限</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chmod +x /etc/rc.local
</span></span></code></pre></td></tr></table></div></div><p>这里需要注意的是，编写挂载脚本的时候，因为树莓派在刚开机的时候挂载会失败，所以需要引入 sleep 一段时间。具体的操作流程如下：</p><ul><li>创建脚本文件 <code>startup.sh</code> 在任意位置，内容参考手动挂载命令，在这之前添加 sleep。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sleep <span class=m>30</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 下面两者选一个用即可</span>
</span></span><span class=line><span class=cl><span class=c1># 选项1 使用方法2.手动挂载命令挂载</span>
</span></span><span class=line><span class=cl>sudo mount -t cifs //192.168.31.201/&lt;share dir&gt; &lt;local-position&gt; -o <span class=nv>username</span><span class=o>=</span><span class=s1>&#39;username&#39;</span>,password<span class=o>=</span><span class=s1>&#39;passwd&#39;</span>,vers<span class=o>=</span>2.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 选项2 使用方法2.3 已经在fstab中加入挂载的命令</span>
</span></span><span class=line><span class=cl>sudo mount -a
</span></span></code></pre></td></tr></table></div></div><ul><li>在 <code>rc.local</code> 的 exit0之前添加调用执行该脚本</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo sh /&lt;path-to-your-script&gt;/startup.sh
</span></span><span class=line><span class=cl><span class=nb>exit</span> <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><p>如果失败了可以尝试 chmod +x startup.Sh 修改成可执行。</p><p>【成功】方法 2.2：<a href=https://www.80tm.com/2022/12/17/ubuntu%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4/ target=_blank rel=noopener>加入开机启动项</a>
，在 <code>/etc/init.d</code> 中编写需要开机启动的脚本，然后执行以下的命令加入开机启动中：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo update-rc.d xxx.sh defaults <span class=m>90</span>
</span></span></code></pre></td></tr></table></div></div><p>最后一个数字是脚本启动的顺序，数字越大，执行越晚，重启即可完成测试，以下命令可以查看全部服务列表：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo service --status-all
</span></span></code></pre></td></tr></table></div></div><p>卸载启动脚本的方法：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo update-rc.d -f xxx.sh remove
</span></span></code></pre></td></tr></table></div></div><p>【成功一半】方法 2.3：使用自动挂载命令，修改 <a href=https://www.cnblogs.com/arnoldlu/p/11613842.html target=_blank rel=noopener>fstab</a>
，将以下的命令添加到该文件下面即可生效：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>//192.168.31.201/&lt;share dir&gt; /mnt/windows-share cifs username=&#39;username&#39;,password=&#39;passwd&#39; 0 0 
</span></span></code></pre></td></tr></table></div></div><p>如果要卸载网络共享目录使用以下命令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo umount &lt;local-postion&gt;
</span></span></code></pre></td></tr></table></div></div><p>可以通过 <code>df -h</code> 查看挂载是否成功。</p><p>【可选】方法 3: 要进入 smb 的命令操作空间</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装Smbclient</span>
</span></span><span class=line><span class=cl>sudo apt-get install smbclinent
</span></span></code></pre></td></tr></table></div></div><p>安装好后，就可以访问共享的文件夹，这样会进入 smb 的命令操作空间</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>smbclient --user<span class=o>=</span>share //192.168.31.198/share
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://aikenh.cn/hugotest/tags/tool/>Tool</a></li><li><a href=https://aikenh.cn/hugotest/tags/windows/>Windows</a></li><li><a href=https://aikenh.cn/hugotest/tags/tobefinnish/>Tobefinnish</a></li></ul><nav class=paginav><a class=prev href=https://aikenh.cn/hugotest/posts/sql1/><span class=title>« Prev</span><br><span>SQL Chapter1 Introduce</span>
</a><a class=next href=https://aikenh.cn/hugotest/posts/windowsterminal/><span class=title>Next »</span><br><span>Windows Configuration02 Terminal</span></a></nav></footer><div id=disqus_thread></div><script>function loadDisqus(){var e=document,t=e.createElement("script");t.src="https://aiken-hugo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t),window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href.substring(18)}}var runningOnBrowser=typeof window!="undefined",isBot=runningOnBrowser&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver(function(t){t[0].isIntersecting&&(loadDisqus(),e.disconnect())},{threshold:[0]});e.observe(document.getElementById("disqus_thread"))}else loadDisqus()},1)</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2024 <a href=https://aikenh.cn/hugotest/>aiken's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container>Visitors: <span id=busuanzi_value_site_uv></span>
Views: <span id=busuanzi_value_site_pv></span></span></footer><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),o=13863,i=16993;if(!e||!t){console.error("Busuanzi elements not found.");return}const n=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+o;break}}),s=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){s.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+i;break}});n.observe(e,{childList:!0}),s.observe(t,{childList:!0})})</script><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))}),document.getElementById("theme-toggle-nav").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("/js/pangu.js",function(){pangu.spacingPage()})</script></body></html>