<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Python00 Conda 与 Pip | aiken's blog</title>
<meta name=keywords content="Python,Conda,Pip,Env"><meta name=description content='@Aikenhong 的旧笔记翻新完善 1.0
Python 的灵活和广泛应用场景来自于众多的第三方库，由于强大的可拓展性和众多的库，使得 Python 的使用简单灵活，且应用面极广。
但是不同库之间的相互依赖关系，对版本的不同要求等等因素，使得"环境配置"成为了开发者闻之变色的一词，对一个新的库和项目环境的配置尝尝会花去大量的时间，这可能也是 Docker、Venv（虚拟环境）必须存在的原因之一。

这里不对 Docker 及其相关技术，进行说明，会另开章节进行学习。

才疏学浅的本菜鸡希望从 python 开发者避不开的 conda 和 pip 出发介绍一下关于库安装的一些事情，以及这两个 CLI 的关系。'><meta name=author content="aikenhong"><link rel=canonical href=https://hugotest-phi.vercel.app/posts/python_pack_manager/><link crossorigin=anonymous href=/assets/css/stylesheet.2f85ca17c12c62fa86b1e474b8a51aca4856f0d645debfe4922a4d5ddc6aa978.css integrity="sha256-L4XKF8EsYvqGseR0uKUaykhW8NZF3r/kkipNXdxqqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://hugotest-phi.vercel.app/favicon/ghost.ico><link rel=icon type=image/png sizes=16x16 href=https://hugotest-phi.vercel.app/favicon/ghost-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hugotest-phi.vercel.app/favicon/ghost-32x32.png><link rel=apple-touch-icon href=https://hugotest-phi.vercel.app/favicon/ghost-apple-touch-icon.png><link rel=mask-icon href=https://hugotest-phi.vercel.app/favicon/ghost-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://hugotest-phi.vercel.app/posts/python_pack_manager/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://cdn.jsdmirror.com/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.css><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.js></script><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel=stylesheet><meta property="og:url" content="https://hugotest-phi.vercel.app/posts/python_pack_manager/"><meta property="og:site_name" content="aiken's blog"><meta property="og:title" content="Python00 Conda 与 Pip"><meta property="og:description" content='@Aikenhong 的旧笔记翻新完善 1.0
Python 的灵活和广泛应用场景来自于众多的第三方库，由于强大的可拓展性和众多的库，使得 Python 的使用简单灵活，且应用面极广。
但是不同库之间的相互依赖关系，对版本的不同要求等等因素，使得"环境配置"成为了开发者闻之变色的一词，对一个新的库和项目环境的配置尝尝会花去大量的时间，这可能也是 Docker、Venv（虚拟环境）必须存在的原因之一。
这里不对 Docker 及其相关技术，进行说明，会另开章节进行学习。
才疏学浅的本菜鸡希望从 python 开发者避不开的 conda 和 pip 出发介绍一下关于库安装的一些事情，以及这两个 CLI 的关系。'><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-06T11:27:52+00:00"><meta property="article:modified_time" content="2023-03-06T11:27:52+00:00"><meta property="article:tag" content="Python"><meta property="article:tag" content="Conda"><meta property="article:tag" content="Pip"><meta property="article:tag" content="Env"><meta property="og:image" content="https://hugotest-phi.vercel.app/cover/cover26.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hugotest-phi.vercel.app/cover/cover26.jpeg"><meta name=twitter:title content="Python00 Conda 与 Pip"><meta name=twitter:description content='@Aikenhong 的旧笔记翻新完善 1.0
Python 的灵活和广泛应用场景来自于众多的第三方库，由于强大的可拓展性和众多的库，使得 Python 的使用简单灵活，且应用面极广。
但是不同库之间的相互依赖关系，对版本的不同要求等等因素，使得"环境配置"成为了开发者闻之变色的一词，对一个新的库和项目环境的配置尝尝会花去大量的时间，这可能也是 Docker、Venv（虚拟环境）必须存在的原因之一。

这里不对 Docker 及其相关技术，进行说明，会另开章节进行学习。

才疏学浅的本菜鸡希望从 python 开发者避不开的 conda 和 pip 出发介绍一下关于库安装的一些事情，以及这两个 CLI 的关系。'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hugotest-phi.vercel.app/posts/"},{"@type":"ListItem","position":2,"name":"Python00 Conda 与 Pip","item":"https://hugotest-phi.vercel.app/posts/python_pack_manager/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python00 Conda 与 Pip","name":"Python00 Conda 与 Pip","description":"@Aikenhong 的旧笔记翻新完善 1.0\nPython 的灵活和广泛应用场景来自于众多的第三方库，由于强大的可拓展性和众多的库，使得 Python 的使用简单灵活，且应用面极广。\n但是不同库之间的相互依赖关系，对版本的不同要求等等因素，使得\u0026quot;环境配置\u0026quot;成为了开发者闻之变色的一词，对一个新的库和项目环境的配置尝尝会花去大量的时间，这可能也是 Docker、Venv（虚拟环境）必须存在的原因之一。\n这里不对 Docker 及其相关技术，进行说明，会另开章节进行学习。\n才疏学浅的本菜鸡希望从 python 开发者避不开的 conda 和 pip 出发介绍一下关于库安装的一些事情，以及这两个 CLI 的关系。\n","keywords":["Python","Conda","Pip","Env"],"articleBody":"@Aikenhong 的旧笔记翻新完善 1.0\nPython 的灵活和广泛应用场景来自于众多的第三方库，由于强大的可拓展性和众多的库，使得 Python 的使用简单灵活，且应用面极广。\n但是不同库之间的相互依赖关系，对版本的不同要求等等因素，使得\"环境配置\"成为了开发者闻之变色的一词，对一个新的库和项目环境的配置尝尝会花去大量的时间，这可能也是 Docker、Venv（虚拟环境）必须存在的原因之一。\n这里不对 Docker 及其相关技术，进行说明，会另开章节进行学习。\n才疏学浅的本菜鸡希望从 python 开发者避不开的 conda 和 pip 出发介绍一下关于库安装的一些事情，以及这两个 CLI 的关系。\nAnaconda MiniConda 和 Conda anaconda 是一个针对数据科学的 Python 发行版，其包含了一下三个方面的内容：\n完整的 python，ipython numpy、Script 等常用的数据科学库 包管理器 Conda 和 pip 软件发行版是在系统上提前编译和配置好的软件包集合， 装好了后就可以直接用\nminiconda 是 conda 的发行版，其包含了 conda 本体和其所需的所有环境，安装了 miniconda 后就可以正常使用 conda，由于其不包含 python 和诸多第三方包，所以会比 anaconda 纯净得多，我们可以基于其从零开始搭建一个完整的环境。\n而 conda 只是一个包（lib、package）和环境（env）的管理工具，其用于自动安装，升级，（也可分析包之间的相互依赖关系）的工具。\nConda 和 Pip 的关联和区别 conda 是通用（语言无关且跨平台）的包管理器，它发源于 python 的 pydata 社区，但他不仅适用于 python 包的管理，还适用于任何语言写的包和依赖，但是我们应该大多数时候只用来做 python 管理。\n其只能在 conda 环境中安装包，但是可以安装各种语言和各种类型的包。 pip（pip install package） 是 python 官方认证的 python 包通用管理器，只能管理 python 包，安装发布于 python package index（pypi）上的所有包，均由 python 官方管理。\n其支持所有平台，但是只能安装 python 包 接下来从一些重要的特性来讲述两者的区别和联系。\n虚拟环境支持对比 上述提到，我们希望有一个纯净的开发环境，在配置环境的时候出现诸多冲突，例如：\nPackageA 需要 PackageC\u003e3.11，而 PackageB 需要 PackageC\u003c3.10 导致运行起来冲突，或者无法安装的情况。\n因此我们希望能将每个开发环境隔离起来，项目 A、B、C 有分离的 python 版本和对应的一些 python 库。（这里我把环境简单的理解为 python+python 安装的所有 Package ）\n而通过 pip 和 conda 都能在不同程度上，实现以上的需求，conda 原生支持虚拟环境管理，pip 则是需要借助 venv 或者 virtualenv 库来支持。参考：[pip 与 conda 的区别] ( https://zhuanlan.zhihu.com/p/379321816 )\nCLI Python 版本独立 Python 依赖（lib）独立 非 Python 的其他依赖管理 Conda y y y Pip+vir* n y y python 版本独立的意思是，不同环境之间是不是可以安装不同的 python，pip 只能将依赖分离，而对应的 python 都是同一个。\n可以看出在于包管理上，conda 还是更具优势，主要是因为其本身不需要依赖于某个既有的 python，不需要和该 Python 建立连接，没有沾亲带故的就更铁面无私嘛。具体可以参考上面的链接。\n包管理逻辑对比 基于上述说明，开发一个 python 项目，我们可以优先创建一个虚拟环境，再在其中安装需要的依赖，这样能保证每一个环境的纯净，也能减少一些不必要的麻烦，也就是说，创建完环境的下一步，就是需要安装和管理每个环境中的包了。\nCLI Source 依赖校验 是否需要换源加速/代理 Conda Anaconda \u0026 Cloud auto(且支持非 python 的依赖) 狗头 Pip Pypi 自动检查、手动选择是否 狗头 从上述简单的对比可以看出，两者安装 package 的源不同，这样有以下的两个影响：\nConda 最好是添加一些常用的 Channel，添加其软件来源，方便使用 conda 进行包的安装； 即使倾向于使用 conda 做管理，还是会在开发中遇到需要混用 pip 的场景（蛮多） ，那么这样是否会有影响呢？下面我们从两个管理器的安装逻辑来说（结合虚拟环境）： conda 安装包的逻辑是这样的：\n基于 conda install 安装的库都会放在 Anaconda 的 Pkgs 目录下统一存储，例如 windows 就是 E:\\anaconda\\pkgs\\ ，通过这样的方式，当新的环境中需要一个某个环境中已经安装过的包的时候，就只需要把对应的文件复制到到新环境的 lib\\python\u003c*\u003e\\site-packages 目录中即可，无需重复下载。\nanaconda 中会对每个环境创建一个新的目录。而该环境的的库就是存在 、env\\\\lib\\pythonxxx\\site-packages 路径下。\npip 安装包的逻辑是这样的：\n基于 pip install 安装的库会放在对应的就会放在 xxx\\pythonxxx\\site-packages 中。\n综上所述，（正常）混用的话基本上是没有影响的，还是能保证我们的环境进行分离，这是因为：\n当 conda 切换虚拟环境的时候，对应的 pip 也会进行切换，这样通过 pip 安装的包也会仅安装在当前环境的目录中，和 conda 进行安装是一致的 同时两者之间还有这样的交互关系：\nconda list 列出的包中，build 项目为 pypi 的即为 pip 安装的包。 卸载的时候两者是一致的： conda uninstall 和 pip uninstall 都只是讲当前环境中的库删除了，不会删除 conda 的 pkg 目录中的备份，如果要清空该已下载库，通过 conda clean -h 实现 （need check）（not recommand）理解了这样的安装关系后，我们也可以知道如何为一个环境手动安装一个 package 了，在 pypi 上下载压缩包后，解压到对应的目录中，执行以下命令即可\n1 python setup.py install 网络问题的话建议换源，还是不要手动安装。\n其他相关资料 windows conda 路径问题 在 windows 上安装 anaconda 之前，如果原本有 python，建议是删掉该 python 避免带来不必要的路径问题。 windows 上如果出现输入 python 跳转 win 商店的话，八成是系统路径中的问题，可以将 winstore 的路径往后挪。 pip 和 pip3 python2 只能用 pip python3 都可以用，如果仅有 python3，那么两者等价 如果装了 python2 和 python3，那么默认 pip 给 python2 用，pip3 给 python3 用，功能一样。 虚拟环境中，若只存在一个 python 版本，可以认为在用系统中 pip 和 pip3 命令都是相同的 pip 删除所有安装的包 删除pip安装的所有软件包的最简单方法是什么？ (qiniu.com) ","wordCount":"318","inLanguage":"en","image":"https://hugotest-phi.vercel.app/cover/cover26.jpeg","datePublished":"2023-03-06T11:27:52Z","dateModified":"2023-03-06T11:27:52Z","author":[{"@type":"Person","name":"aikenhong"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://hugotest-phi.vercel.app/posts/python_pack_manager/"},"publisher":{"@type":"Organization","name":"aiken's blog","logo":{"@type":"ImageObject","url":"https://hugotest-phi.vercel.app/favicon/ghost.ico"}}}</script></head><body id=top><script type=module src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.esm.js defer></script><script nomodule src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.js defer></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hugotest-phi.vercel.app/ accesskey=h title="aiken's blog (Alt + H)">aiken's blog</a><div class=logo-switches><button id=theme-toggle-nav accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hugotest-phi.vercel.app/ title=home><span>home</span></a></li><li><a href=https://hugotest-phi.vercel.app/archives/ title=archives><span>archives</span></a></li><li><a href=https://hugotest-phi.vercel.app/search title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><div class=sidebar><ul><li class=logo style=--bg:#333><a href=#><div class=logo-icon><img src=/logo/logo.png></div><div class=logo-text>Aiken's Blog</div></a></li><div class=menulist><li style=--bg:#f44336><a href=https://hugotest-phi.vercel.app/ title=home><div class=logo-icon><ion-icon name=home-outline></ion-icon></div><div class=logo-text>home</div></a></li><li style=--bg:#b145e9><a href=https://hugotest-phi.vercel.app/posts/ title=posts><div class=logo-icon><ion-icon name=newspaper-outline></ion-icon></div><div class=logo-text>posts</div></a></li><li style=--bg:#0f93c7><a href=https://hugotest-phi.vercel.app/tags/ title=tags><div class=logo-icon><ion-icon name=pricetags-outline></ion-icon></div><div class=logo-text>tags</div></a></li><li style=--bg:#ffa117><a href=https://hugotest-phi.vercel.app/categories/ title=categories><div class=logo-icon><ion-icon name=grid-outline></ion-icon></div><div class=logo-text>categories</div></a></li><li style=--bg:#0fc70f><a href=https://hugotest-phi.vercel.app/archives/ title=archives><div class=logo-icon><ion-icon name=folder-outline></ion-icon></div><div class=logo-text>archives</div></a></li><li style=--bg:#d16111><a href=https://hugotest-phi.vercel.app/about/ title=about><div class=logo-icon><ion-icon name=person></ion-icon></div><div class=logo-text>about</div></a></li><li style=--bg:#15c095><a href=https://hugotest-phi.vercel.app/search title="search (Alt + /)" accesskey=/><div class=logo-icon><ion-icon name=search></ion-icon></div><div class=logo-text>search</div></a></li></div><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt +T)"><li><div class=logo-icon id=moon><ion-icon name=moon-outline></ion-icon></div><div class=logo-icon id=sun><ion-icon name=sunny-outline></ion-icon></div></li></button></div></ul></div><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hugotest-phi.vercel.app/>Home</a>&nbsp;»&nbsp;<a href=https://hugotest-phi.vercel.app/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Python00 Conda 与 Pip</h1><div class=post-meta><span title='2023-03-06 11:27:52 +0000 UTC'>March 6, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;318 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/python> Python</a>&nbsp;·&nbsp;<a href=/tags/conda> Conda</a>&nbsp;·&nbsp;<a href=/tags/pip> Pip</a>&nbsp;·&nbsp;<a href=/tags/env> Env</a>&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/python_pack_manager.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://hugotest-phi.vercel.app/cover/cover26.jpeg alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#anaconda-miniconda-%e5%92%8c-conda aria-label="Anaconda MiniConda 和 Conda">Anaconda MiniConda 和 Conda</a></li><li><a href=#conda-%e5%92%8c-pip-%e7%9a%84%e5%85%b3%e8%81%94%e5%92%8c%e5%8c%ba%e5%88%ab aria-label="Conda 和 Pip 的关联和区别">Conda 和 Pip 的关联和区别</a><ul class=header-level-2><li><a href=#%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83%e6%94%af%e6%8c%81%e5%af%b9%e6%af%94 aria-label=虚拟环境支持对比>虚拟环境支持对比</a></li><li><a href=#%e5%8c%85%e7%ae%a1%e7%90%86%e9%80%bb%e8%be%91%e5%af%b9%e6%af%94 aria-label=包管理逻辑对比>包管理逻辑对比</a></li></ul></li><li><a href=#%e5%85%b6%e4%bb%96%e7%9b%b8%e5%85%b3%e8%b5%84%e6%96%99 aria-label=其他相关资料>其他相关资料</a><ul class=header-level-2><li><a href=#windows-conda-%e8%b7%af%e5%be%84%e9%97%ae%e9%a2%98 aria-label="windows conda 路径问题">windows conda 路径问题</a></li><li><a href=#pip-%e5%92%8c-pip3 aria-label="pip 和 pip3">pip 和 pip3</a></li><li><a href=#pip-%e5%88%a0%e9%99%a4%e6%89%80%e6%9c%89%e5%ae%89%e8%a3%85%e7%9a%84%e5%8c%85 aria-label="pip 删除所有安装的包">pip 删除所有安装的包</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;document.addEventListener("DOMContentLoaded",function(){if(checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),elements.length>0){activeElement=elements[0];const e=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${e}"]`).classList.add("active")}const t=document.getElementById("top-link");t&&t.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;if(e===0)return;elements&&elements.length>0&&(elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase(),n=document.querySelector(`.inner ul li a[href="#${t}"]`);n.classList.remove("read")}),activeElement=Array.from(elements).find(t=>{if(getOffsetTop(t)-e>0&&getOffsetTop(t)-e<window.innerHeight/2)return t})||activeElement,elements.forEach((t)=>{const o=encodeURI(t.getAttribute("id")).toLowerCase(),s=document.querySelector(`.inner ul li a[href="#${o}"]`);if(t===activeElement){s.classList.add("active");const e=document.querySelector(".toc .inner"),t=s.offsetTop,n=e.clientHeight,o=s.clientHeight,i=t-n/2+o/2;e.scrollTo({top:i,behavior:"smooth"})}else getOffsetTop(t)<e&&s.classList.add("read"),s.classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return!document.querySelector(".hugo-encryptor-prompt")&&elements.length!=0&&(elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),console.log("Elements re-queried:",elements)),0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>@Aikenhong 的旧笔记翻新完善 1.0</p><p>Python 的灵活和广泛应用场景来自于众多的第三方库，由于强大的可拓展性和众多的库，使得 Python 的使用简单灵活，且应用面极广。</p><p>但是不同库之间的相互依赖关系，对版本的不同要求等等因素，使得"环境配置"成为了开发者闻之变色的一词，对一个新的库和项目环境的配置尝尝会花去大量的时间，这可能也是 Docker、Venv（虚拟环境）必须存在的原因之一。</p><blockquote><p>这里不对 Docker 及其相关技术，进行说明，会另开章节进行学习。</p></blockquote><p>才疏学浅的本菜鸡希望从 python 开发者避不开的 conda 和 pip 出发介绍一下关于库安装的一些事情，以及这两个 CLI 的关系。</p><h2 id=anaconda-miniconda-和-conda>Anaconda MiniConda 和 Conda<a hidden class=anchor aria-hidden=true href=#anaconda-miniconda-和-conda>#</a></h2><p>anaconda 是一个针对数据科学的 Python 发行版，其包含了一下三个方面的内容：</p><ul><li>完整的 python，ipython</li><li>numpy、Script 等常用的数据科学库</li><li>包管理器 Conda 和 pip</li></ul><blockquote><p>软件发行版是在系统上提前编译和配置好的软件包集合， 装好了后就可以直接用</p></blockquote><p>miniconda 是 conda 的发行版，其包含了 conda 本体和其所需的所有环境，安装了 miniconda 后就可以正常使用 conda，由于其不包含 python 和诸多第三方包，所以会比 anaconda 纯净得多，我们可以基于其从零开始搭建一个完整的环境。</p><p>而 conda 只是一个包（lib、package）和环境（env）的管理工具，其用于自动安装，升级，（也可分析包之间的相互依赖关系）的工具。</p><h2 id=conda-和-pip-的关联和区别>Conda 和 Pip 的关联和区别<a hidden class=anchor aria-hidden=true href=#conda-和-pip-的关联和区别>#</a></h2><p><strong>conda</strong> 是通用（语言无关且跨平台）的包管理器，它发源于 python 的 pydata 社区，但他不仅适用于 python 包的管理，还适用于任何语言写的包和依赖，但是我们应该大多数时候只用来做 python 管理。</p><ul><li>其只能在 conda 环境中安装包，但是可以安装各种语言和各种类型的包。</li></ul><p><strong>pip</strong>（pip install package） 是 python 官方认证的 python 包通用管理器，只能管理 python 包，安装发布于 python package index（pypi）上的所有包，均由 python 官方管理。</p><ul><li>其支持所有平台，但是只能安装 python 包</li></ul><p>接下来从一些重要的特性来讲述两者的区别和联系。</p><h3 id=虚拟环境支持对比>虚拟环境支持对比<a hidden class=anchor aria-hidden=true href=#虚拟环境支持对比>#</a></h3><p>上述提到，我们希望有一个纯净的开发环境，在配置环境的时候出现诸多冲突，例如：</p><blockquote><p>PackageA 需要 PackageC>3.11，而 PackageB 需要 PackageC&lt;3.10 导致运行起来冲突，或者无法安装的情况。</p></blockquote><p>因此我们希望能将每个开发环境隔离起来，项目 A、B、C 有分离的 python 版本和对应的一些 python 库。（这里我把环境简单的理解为 python+python 安装的所有 Package ）</p><p>而通过 pip 和 conda 都能在不同程度上，实现以上的需求，conda 原生支持虚拟环境管理，pip 则是需要借助 venv 或者 virtualenv 库来支持。参考：[pip 与 conda 的区别] ( <a href=https://zhuanlan.zhihu.com/p/379321816 target=_blank rel=noopener>https://zhuanlan.zhihu.com/p/379321816</a>
)</p><table><thead><tr><th>CLI</th><th>Python 版本独立</th><th>Python 依赖（lib）独立</th><th>非 Python 的其他依赖管理</th></tr></thead><tbody><tr><td>Conda</td><td>y</td><td>y</td><td>y</td></tr><tr><td>Pip+vir*</td><td>n</td><td>y</td><td>y</td></tr></tbody></table><blockquote><p>python 版本独立的意思是，不同环境之间是不是可以安装不同的 python，pip 只能将依赖分离，而对应的 python 都是同一个。</p></blockquote><p>可以看出在于包管理上，conda 还是更具优势，主要是因为其本身不需要依赖于某个既有的 python，不需要和该 Python 建立连接，没有沾亲带故的就更铁面无私嘛。具体可以参考上面的链接。</p><h3 id=包管理逻辑对比>包管理逻辑对比<a hidden class=anchor aria-hidden=true href=#包管理逻辑对比>#</a></h3><p>基于上述说明，开发一个 python 项目，我们可以优先创建一个虚拟环境，再在其中安装需要的依赖，这样能保证每一个环境的纯净，也能减少一些不必要的麻烦，也就是说，创建完环境的下一步，就是需要安装和管理每个环境中的包了。</p><table><thead><tr><th>CLI</th><th>Source</th><th>依赖校验</th><th>是否需要换源加速/代理</th></tr></thead><tbody><tr><td>Conda</td><td>Anaconda & Cloud</td><td>auto(且支持非 python 的依赖)</td><td>狗头</td></tr><tr><td>Pip</td><td>Pypi</td><td>自动检查、手动选择是否</td><td>狗头</td></tr></tbody></table><p>从上述简单的对比可以看出，两者安装 package 的源不同，这样有以下的两个影响：</p><ol><li>Conda 最好是添加一些常用的 Channel，添加其软件来源，方便使用 conda 进行包的安装；</li><li>即使倾向于使用 conda 做管理，还是会在开发中遇到需要混用 pip 的场景（蛮多） ，那么这样是否会有影响呢？下面我们从两个管理器的安装逻辑来说（结合虚拟环境）：</li></ol><p><strong>conda 安装包的逻辑</strong>是这样的：</p><p>基于 <code>conda install &lt;pkg></code> 安装的库都会放在 Anaconda 的 Pkgs 目录下统一存储，例如 windows 就是 <code>E:\anaconda\pkgs\&lt;pkg></code> ，通过这样的方式，当新的环境中需要一个某个环境中<strong>已经安装过的包</strong>的时候，就只需要把对应的文件复制到到新环境的 <code>lib\python&lt;*>\site-packages</code> 目录中即可，无需重复下载。</p><blockquote><p>anaconda 中会对每个环境创建一个新的目录。而该环境的的库就是存在 <code>、env\&lt;env-name>\lib\pythonxxx\site-packages</code> 路径下。</p></blockquote><p><strong>pip 安装包的逻辑</strong>是这样的：</p><p>基于 <code>pip install &lt;pkg></code> 安装的库会放在对应的就会放在 <code>xxx\pythonxxx\site-packages</code> 中。</p><p><strong>综上所述</strong>，（正常）混用的话基本上是没有影响的，还是能保证我们的环境进行分离，这是因为：</p><ul><li>当 conda 切换虚拟环境的时候，对应的 pip 也会进行切换，这样通过 pip 安装的包也会仅安装在当前环境的目录中，和 conda 进行安装是一致的</li></ul><p><strong>同时两者之间还有这样的交互关系：</strong></p><ul><li><code>conda list</code> 列出的包中，build 项目为 pypi 的即为 pip 安装的包。</li><li>卸载的时候两者是一致的： <code>conda uninstall &lt;pkg></code> 和 <code>pip uninstall &lt;pkg></code> 都只是讲当前环境中的库删除了，不会删除 conda 的 pkg 目录中的备份，如果要清空该已下载库，通过 <code>conda clean -h</code> 实现</li></ul><p>（need check）（<strong>not recommand</strong>）理解了这样的安装关系后，我们也可以知道如何为一个环境手动安装一个 package 了，在 pypi 上下载压缩包后，解压到对应的目录中，执行以下命令即可</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>python setup.py install
</span></span></code></pre></td></tr></table></div></div><p>网络问题的话建议换源，还是不要手动安装。</p><h2 id=其他相关资料>其他相关资料<a hidden class=anchor aria-hidden=true href=#其他相关资料>#</a></h2><h3 id=windows-conda-路径问题>windows conda 路径问题<a hidden class=anchor aria-hidden=true href=#windows-conda-路径问题>#</a></h3><ol><li>在 windows 上安装 anaconda 之前，如果原本有 python，建议是删掉该 python 避免带来不必要的路径问题。</li><li>windows 上如果出现输入 python 跳转 win 商店的话，八成是系统路径中的问题，可以将 winstore 的路径往后挪。</li></ol><h3 id=pip-和-pip3>pip 和 pip3<a hidden class=anchor aria-hidden=true href=#pip-和-pip3>#</a></h3><ul><li>python2 只能用 pip</li><li>python3 都可以用，如果仅有 python3，那么两者等价</li><li>如果装了 python2 和 python3，那么默认 pip 给 python2 用，pip3 给 python3 用，功能一样。</li><li>虚拟环境中，若只存在一个 python 版本，可以认为在用系统中 pip 和 pip3 命令都是相同的</li></ul><h3 id=pip-删除所有安装的包>pip 删除所有安装的包<a hidden class=anchor aria-hidden=true href=#pip-删除所有安装的包>#</a></h3><p><a href=https://www.qiniu.com/qfans/qnso-11248073 target=_blank rel=noopener>删除pip安装的所有软件包的最简单方法是什么？ (qiniu.com)</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://hugotest-phi.vercel.app/tags/python/>Python</a></li><li><a href=https://hugotest-phi.vercel.app/tags/conda/>Conda</a></li><li><a href=https://hugotest-phi.vercel.app/tags/pip/>Pip</a></li><li><a href=https://hugotest-phi.vercel.app/tags/env/>Env</a></li></ul><nav class=paginav><a class=prev href=https://hugotest-phi.vercel.app/posts/countminsketch/><span class=title>« Prev</span><br><span>Count_Min Sketch算法</span>
</a><a class=next href=https://hugotest-phi.vercel.app/posts/powershell/><span class=title>Next »</span><br><span>Windows Powershell 00 Install and Config</span></a></nav></footer><div id=disqus_thread></div><script>function loadDisqus(){var e=document,t=e.createElement("script");t.src="https://aiken-hugo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t),window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href.substring(18)}}var runningOnBrowser=typeof window!="undefined",isBot=runningOnBrowser&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver(function(t){t[0].isIntersecting&&(loadDisqus(),e.disconnect())},{threshold:[0]});e.observe(document.getElementById("disqus_thread"))}else loadDisqus()},1)</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2024 <a href=https://hugotest-phi.vercel.app/>aiken's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container>Visitors: <span id=busuanzi_value_site_uv></span>
Views: <span id=busuanzi_value_site_pv></span></span></footer><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),o=13863,i=16993;if(!e||!t){console.error("Busuanzi elements not found.");return}const n=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+o;break}}),s=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){s.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+i;break}});n.observe(e,{childList:!0}),s.observe(t,{childList:!0})})</script><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))}),document.getElementById("theme-toggle-nav").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("/js/pangu.js",function(){pangu.spacingPage()})</script></body></html>