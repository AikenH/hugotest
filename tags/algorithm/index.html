<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Algorithm | aiken's blog</title>
<meta name=keywords content><meta name=description content="Let's learn and innovate together!"><meta name=author content="aikenhong"><link rel=canonical href=https://aikenh.cn/hugotest/tags/algorithm/><link crossorigin=anonymous href=/hugotest/assets/css/stylesheet.2f85ca17c12c62fa86b1e474b8a51aca4856f0d645debfe4922a4d5ddc6aa978.css integrity="sha256-L4XKF8EsYvqGseR0uKUaykhW8NZF3r/kkipNXdxqqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://aikenh.cn/favicon/ghost.ico><link rel=icon type=image/png sizes=16x16 href=https://aikenh.cn/favicon/ghost-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aikenh.cn/favicon/ghost-32x32.png><link rel=apple-touch-icon href=https://aikenh.cn/favicon/ghost-apple-touch-icon.png><link rel=mask-icon href=https://aikenh.cn/favicon/ghost-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://aikenh.cn/hugotest/tags/algorithm/index.xml><link rel=alternate hreflang=en href=https://aikenh.cn/hugotest/tags/algorithm/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://cdn.jsdmirror.com/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.css><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.js></script><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel=stylesheet><meta property="og:url" content="https://aikenh.cn/hugotest/tags/algorithm/"><meta property="og:site_name" content="aiken's blog"><meta property="og:title" content="Algorithm"><meta property="og:description" content="Let's learn and innovate together!"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Algorithm"><meta name=twitter:description content="Let's learn and innovate together!"></head><body class=list id=top><script type=module src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.esm.js defer></script><script nomodule src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.js defer></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aikenh.cn/hugotest/ accesskey=h title="aiken's blog (Alt + H)">aiken's blog</a><div class=logo-switches><button id=theme-toggle-nav accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://aikenh.cn/hugotest/ title=home><span>home</span></a></li><li><a href=https://aikenh.cn/hugotest/posts/ title=posts><span>posts</span></a></li><li><a href=https://aikenh.cn/hugotest/tags/ title=tags><span>tags</span></a></li><li><a href=https://aikenh.cn/hugotest/categories/ title=categories><span>categories</span></a></li><li><a href=https://aikenh.cn/hugotest/archives/ title=archives><span>archives</span></a></li><li><a href=https://aikenh.cn/hugotest/about/ title=about><span>about</span></a></li><li><a href=https://aikenh.cn/hugotest/search title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><div class=sidebar><ul><li class=logo style=--bg:#333><a href=#><div class=logo-icon><img src=/logo/logo.png></div><div class=logo-text>Aiken's Blog</div></a></li><div class=menulist><li style=--bg:#f44336><a href=https://aikenh.cn/hugotest/ title=home><div class=logo-icon><ion-icon name=home-outline></ion-icon></div><div class=logo-text>home</div></a></li><li style=--bg:#b145e9><a href=https://aikenh.cn/hugotest/posts/ title=posts><div class=logo-icon><ion-icon name=newspaper-outline></ion-icon></div><div class=logo-text>posts</div></a></li><li style=--bg:#0f93c7><a href=https://aikenh.cn/hugotest/tags/ title=tags><div class=logo-icon><ion-icon name=pricetags-outline></ion-icon></div><div class=logo-text>tags</div></a></li><li style=--bg:#ffa117><a href=https://aikenh.cn/hugotest/categories/ title=categories><div class=logo-icon><ion-icon name=grid-outline></ion-icon></div><div class=logo-text>categories</div></a></li><li style=--bg:#0fc70f><a href=https://aikenh.cn/hugotest/archives/ title=archives><div class=logo-icon><ion-icon name=folder-outline></ion-icon></div><div class=logo-text>archives</div></a></li><li style=--bg:#d16111><a href=https://aikenh.cn/hugotest/about/ title=about><div class=logo-icon><ion-icon name=person></ion-icon></div><div class=logo-text>about</div></a></li><li style=--bg:#15c095><a href=https://aikenh.cn/hugotest/search title="search (Alt + /)" accesskey=/><div class=logo-icon><ion-icon name=search></ion-icon></div><div class=logo-text>search</div></a></li></div><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt +T)"><li><div class=logo-icon id=moon><ion-icon name=moon-outline></ion-icon></div><div class=logo-icon id=sun><ion-icon name=sunny-outline></ion-icon></div></li></button></div></ul></div><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/sakana-widget@2.7.0/lib/sakana.min.css><div id=sakana-widget></div><script>function initSakanaWidget(){const e=SakanaWidget.getCharacter("chisato");e.initialState={...e.initialState,controls:!1,t:.8,i:.002,s:1,d:.999,t:.5,w:.05},e.image="https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/mac/%E5%B7%B2%E7%A7%BB%E9%99%A4%E8%83%8C%E6%99%AF%E7%9A%84Xnip2024-11-30_00-47-03.png",SakanaWidget.registerCharacter("ronSang",e),new SakanaWidget({character:"ronSang"}).mount("#sakana-widget");const t=SakanaWidget.getCharacter("chisato");t.initialState={...t.initialState,controls:!1,t:.8,i:.002,s:1,d:.999,t:.5,w:.05},t.image="https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/mac/%E5%B7%B2%E7%A7%BB%E9%99%A4%E8%83%8C%E6%99%AF%E7%9A%84Xnip2024-11-30_00-36-37.png",SakanaWidget.registerCharacter("xinxin",t),new SakanaWidget({character:"xinxin"}).mount("#sakana-widget")}</script><script async onload=initSakanaWidget() src=https://cdn.jsdmirror.com/npm/sakana-widget@2.7.0/lib/sakana.min.js></script><main class=main><header class=page-header><div class=breadcrumbs><a href=https://aikenh.cn/hugotest/>Home</a>&nbsp;Â»&nbsp;<a href=https://aikenh.cn/hugotest/tags/>Tags</a></div><h1>Algorithm
<a href=/hugotest/tags/algorithm/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://aikenh.cn/cover/cover24.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>Count_Min Sketchç®—æ³•</h2></header><section class=entry-content><p>æœ¬æ–‡ä»‹ç»è®¡ç®—å¤§è§„æ¨¡æ•°æ®æµä¸­çš„å…ƒç´ å‡ºç°é¢‘æ¬¡çš„æ–¹æ³• CMSï¼Œä»¥åŠå…¶ç®€å•æ”¹è¿›Count-Mean-Min-Sketch
Intro & Scene åœ¨å¤§æ•°æ®åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚ç½‘é¡µçš„ TopK é—®é¢˜ï¼Œçˆ¬è™«çš„æ˜¯å¦è®¿é—®è¿‡çš„é—®é¢˜ï¼Œéƒ½æ˜¯ä¸€ç§å‡ºç°é¢‘æ¬¡ç›¸å…³çš„é—®é¢˜ï¼Œé‚£ä¹ˆåœ¨ç³»ç»Ÿè®¾è®¡çš„æ—¶å€™ï¼Œå¦‚ä½•é€‰æ‹©ç­–ç•¥å’Œæ•°æ®ç»“æ„å»å­˜å‚¨ç›¸å…³çš„æ•°æ®æ˜¯æœ€é«˜æ•ˆåˆé€‚çš„å‘¢ï¼Ÿ
...</p></section><footer class=entry-footer><span title='2023-03-10 13:12:20 +0000 UTC'>March 10, 2023</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;450 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/algorithm> Algorithm</a>&nbsp;Â·&nbsp;<a href=/tags/hash> Hash</a>&nbsp;Â·&nbsp;<a href=/tags/frequency> Frequency</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/algorithm style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Algorithm
</a><a href=/tags/hash style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Hash
</a><a href=/tags/frequency style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Frequency</a></div></div></div><a class=entry-link aria-label="post link to Count_Min Sketchç®—æ³•" href=https://aikenh.cn/hugotest/posts/countminsketch/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://aikenh.cn/cover/cover8.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>Markov Junior</h2></header><section class=entry-content><p>@Reference: Jack Cui | Github-Markov Junior | Wiki Markov algorithm ç¬¬ä¸€ç¯‡æ–‡ç« ç®€è¦ä»‹ç»äº†ä¸€ä¸‹è¯¥ç¼–ç¨‹è¯­è¨€èƒ½å®ç°ä»€ä¹ˆæ•ˆæœï¼›ç¬¬äºŒä¸ªæ˜¯å®˜æ–¹repoï¼Œå…¶æ–‡æ¡£å’Œä»£ç éƒ½æœ‰å¾ˆå¼ºçš„å€Ÿé‰´æ„ä¹‰ï¼›ç¬¬ä¸‰ä¸ªæ˜¯wikipediaå¯¹é©¬å°”å¯å¤«ç®—æ³•çš„è§£é‡Šï¼Œåœ¨è¯¥ç¼–ç¨‹è¯­è¨€çš„å®ç°ä¸­æœ‰é‡è¦çš„æ„ä¹‰ã€‚
markov algorithm é©¬å°”å¯å¤«ç®—æ³•æŒ‡çš„æ˜¯å­—ç¬¦ä¸²é‡å†™ç®—æ³•ï¼Œå…¶åŸºæœ¬é€»è¾‘å¦‚ä¸‹:
è‡ªé¡¶å‘ä¸‹ä¾æ¬¡æ£€æŸ¥è§„åˆ™ï¼Œçœ‹æ˜¯å¦èƒ½åœ¨ç¬¦å·ä¸²ä¸­æ‰¾åˆ°ä»»ä½•åœ¨ç®­å¤´å·¦è¾¹çš„å­—ç¬¦ä¸²ã€‚ å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåœæ­¢æ‰§è¡Œç®—æ³•ã€‚ å¦‚æœæ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªï¼ŒæŠŠç¬¦å·ä¸²ä¸­çš„æœ€å·¦åŒ¹é…çš„æ–‡å­—æ›¿æ¢ä¸ºåœ¨ç¬¬ä¸€ä¸ªç›¸åº”è§„åˆ™çš„ç®­å¤´å³è¾¹çš„å­—ç¬¦ä¸²ã€‚ è¿”å›æ­¥éª¤1å¹¶ç»§ç»­ã€‚ï¼ˆå¦‚æœåº”ç”¨çš„è§„åˆ™æ˜¯ç»ˆæ­¢è§„åˆ™ï¼Œåˆ™åœæ­¢æ‰§è¡Œç®—æ³•ã€‚ï¼‰ [1] MarkovJunior Markov Junioræ˜¯ä¸€ç§åŸºäºæ¦‚ç‡çš„ç¼–ç¨‹è¯­è¨€ï¼Œé€šè¿‡é‡å†™å’Œä¼ æ’­è§„åˆ™ï¼ˆçº¦æŸï¼‰æ¥å®ç°éšæœºçš„ç”Ÿæˆå’Œç¼–å†™ã€‚æœ€ç»ˆå¯¹ç”»å¸ƒè¿›è¡Œé‡å†™æ¥å®ç°éšæœºçš„ç”Ÿæˆã€‚
...</p></section><footer class=entry-footer><span title='2022-07-10 11:26:00 +0000 UTC'>July 10, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;26 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/algorithm> Algorithm</a>&nbsp;Â·&nbsp;<a href=/tags/game> Game</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/algorithm style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Algorithm
</a><a href=/tags/game style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Game</a></div></div></div><a class=entry-link aria-label="post link to Markov Junior" href=https://aikenh.cn/hugotest/posts/markovjunior/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://aikenh.cn/cover/cover1.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>Wave Function Collapse</h2></header><section class=entry-content><p>@Reference: Github-Mxgmn | zhihu æ¦‚å¿µç®€ä»‹å’Œå¤ä¹  æœ¬è´¨ä¸Šè¯¥æ–¹æ³•çš„åº•å±‚æ€æƒ³å°±æ˜¯æ¡ä»¶æ¦‚ç‡çš„å¯å‘å¼éšæœºç”Ÿæˆç®—æ³•ã€‚
æ³¢å‡½æ•°åå¡Œ åœ¨ä»‹ç»ç®—æ³•ä¹‹å‰é¦–å…ˆéœ€è¦æ˜ç¡®å‡ ä¸ªæ¦‚å¿µï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯**â€œæ³¢å‡½æ•°åå¡Œâ€ï¼ˆåå­—çš„æ¥æºæ˜¯é‡å­åŠ›å­¦ä¸­çš„æ¦‚å¿µï¼‰ï¼Œå‚è€ƒâ€œè–›å®šè°”çš„çŒ«â€ï¼Œå¯ä»¥ç†è§£æˆï¼šåœ¨ä¸€ç³»åˆ—çš„ä¸ç¡®å®šåƒç´ ï¼ˆå­˜åœ¨å¤šç§å¯èƒ½ï¼‰çš„åŸºç¡€ä¹‹ä¸Šï¼Œé€šè¿‡ç¡®å®šçš„è§„åˆ™**ã€ç›¸å…³å…³ç³»ï¼Œéšæœºçš„å°†æ‰€æœ‰çš„åƒç´ å˜æˆç¡®å®šçš„çŠ¶æ€ã€‚ï¼ˆå¯ä»¥é€šè¿‡ç»™å®šç§å­æ¥å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡éšæœºè§„åˆ™æ¥å¯åŠ¨ï¼‰ï¼Œå®ç°åœ¨ä¸€å®šè§„åˆ™æˆ–è€…æ¨¡å¼ä¸‹çš„éšæœºç”Ÿæˆã€‚
ç†µ ç†µä½œä¸ºçƒ­åŠ›å­¦ä¸­ï¼Œè¡¨ç¤ºç‰©ç†çŠ¶æ€çš„å‚é‡ï¼Œå…¶å«ä¹‰åœ¨äºè¡¨ç¤ºç‰©è´¨çš„æ··ä¹±ç¨‹åº¦ï¼ˆæ­£ç›¸å…³ï¼‰ã€‚åœ¨å½“å‰çš„åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ä¿¡æ¯ç†µï¼ˆè€Œéçƒ­ç†µï¼‰æ¥è¡¡é‡å˜é‡çš„ä¸ç¡®å®šç¨‹åº¦ï¼ˆå®Œå…¨éšæœºï¼Œæˆ–è€…æœ‰é™éšæœºï¼Œæˆ–è€…äºŒé€‰ä¸€ç­‰ç­‰ï¼‰ã€‚
$$ H(X) = \sum_{x\in X}p(x)log p(x)
$$
å¼ä¸­æè¿°çš„æ˜¯ä¿¡æ¯ç†µçš„è®¡ç®—å…¬å¼ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•è¡¨ç¤ºçŠ¶æ€ä¸ç¡®å®šç¨‹åº¦çš„åº¦é‡æ¥è¿›è¡Œä¸€ä¸‹çš„è®¡ç®—ã€‚
ç®—æ³•åŸç†-æµç¨‹ åŠ¨æ€åœ°ä½¿å¯é€‰çš„èŒƒå›´è¶Šæ¥è¶Šå°ï¼Œç›´åˆ°æœ€åæ•´ä½“éƒ½æ˜¯ç¡®å®šçš„çŠ¶æ€ã€‚è€Œç¼©å°èŒƒå›´çš„æ–¹æ³•æ ¸å¿ƒå¯ä»¥æ€»ç»“ä¸ºï¼ˆæ•°ç‹¬ï¼‰ï¼š
çº¦æŸè§„åˆ™ã€çŠ¶æ€ä¼ æ’­ã€å›æº¯
ä»æœ€å°ç†µçš„å•ä½å¼€å§‹åç¼©ï¼Œä¿è¯æœ€å°æ¦‚ç‡çš„åç¼©å¤±è´¥ï¼Œä»è€Œå‡å°‘å¤§é‡çš„å›æº¯è¿‡ç¨‹ï¼Œæ¥å‡å°‘è®¡ç®—é‡ã€‚
ä»¥åœ°å›¾ç”Ÿæˆä¸ºä¾‹ï¼š
çº¦æŸè§„åˆ™ï¼šï¼ˆé€‰æ‹©ä¸€ä¸ªç†µæœ€å°çš„slotå¼€å§‹ï¼‰é’ˆå¯¹äºæ¯ä¸ªslotçš„åç¼©ï¼Œæ˜¯åœ¨ModuleSetï¼ˆå¯é€‰æ¨¡å—é›†åˆï¼‰ä¸­éšæœºå–ä¸€ä¸ªæ¦‚ç‡æœ€é«˜çš„æ¨¡å—ï¼Œè¿›è¡Œåˆæˆï¼Œè€Œè¿™ä¸ªæ¦‚ç‡å—æˆ‘ä»¬åˆ¶å®šçš„è§„åˆ™ï¼Œå‘¨è¾¹çš„Slotçš„çŠ¶æ€å½±å“ã€‚ çŠ¶æ€ä¼ æ’­ï¼šæ¨¡å—ç¡®å®šåå°±å°†è¯¥çŠ¶æ€å’Œè§„åˆ™ä¼ é€’åˆ°ç›¸é‚»çš„modulesetä¸­ï¼Œåˆ é™¤ä¸åŒ¹é…çš„æ¨¡å—ç­‰ã€‚ å›æº¯ï¼šå½“åç¼©é™·å…¥çŸ›ç›¾ï¼ˆä¸è§„åˆ™ç›¸äº’çŸ›ç›¾ï¼Œåç¼©å¤±æ•ˆï¼‰ï¼Œå°±å¯¹çŠ¶æ€è¿›è¡Œå›æº¯ï¼ˆBacktrackï¼‰é‡æ–°è¿›è¡ŒçŠ¶æ€æœç´¢å’Œå›æº¯ã€‚
Read the input bitmap and count NxN patterns. (optional) Augment pattern data with rotations and reflections. Create an array with the dimensions of the output (called â€œwaveâ€ in the source). Each element of this array represents a state of an NxN region in the output. A state of an NxN region is a superposition of NxN patterns of the input with boolean coefficients (so a state of a pixel in the output is a superposition of input colors with real coefficients). False coefficient means that the corresponding pattern is forbidden, true coefficient means that the corresponding pattern is not yet forbidden. Initialize the wave in the completely unobserved state, i.e. with all the boolean coefficients being true. Repeat the following steps: Observation: Find a wave element with the minimal nonzero entropy. If there is no such elements (if all elements have zero or undefined entropy) then break the cycle (4) and go to step (5). Collapse this element into a definite state according to its coefficients and the distribution of NxN patterns in the input. Propagation: propagate information gained on the previous observation step. By now all the wave elements are either in a completely observed state (all the coefficients except one being zero) or in the contradictory state (all the coefficients being zero). In the first case return the output. In the second case finish the work without returning anything. Code å®˜æ–¹ä»“åº“ä¸­æœ‰è¯¸å¤šæ ·ä¾‹å’Œå„ç§ä»£ç ç‰ˆæœ¬çš„å®ç°ï¼Œå¯ä»¥å‚è€ƒå¹¶å®ç°éƒ¨åˆ†ç‰ˆæœ¬ã€‚
...</p></section><footer class=entry-footer><span title='2022-07-10 09:42:50 +0000 UTC'>July 10, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;261 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/game> Game</a>&nbsp;Â·&nbsp;<a href=/tags/algorithm> Algorithm</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/game style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Game
</a><a href=/tags/algorithm style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Algorithm</a></div></div></div><a class=entry-link aria-label="post link to Wave Function Collapse" href=https://aikenh.cn/hugotest/posts/wfc%E7%AE%97%E6%B3%95/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://aikenh.cn/cover/cover0.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>Algorithm Sort</h2></header><section class=entry-content><p>è®°å½•å„ç§æ’åºæ“ä½œï¼Œæš‚æ—¶ä¸è¡¥å……æœ€åŸºç¡€çš„æ’åºæ–¹å¼å’Œç†è®ºï¼Œåªè®°å½•æ’åºç®—æ³•çš„æ‹“å±•åº”ç”¨ã€‚
åœ¨ç†è®ºåˆ†æçš„éƒ¨åˆ†ä¸»è¦ä½¿ç”¨cppè¿›è¡Œæ’°å†™ï¼Œè€Œåœ¨å…·ä½“ä½¿ç”¨çš„æ—¶å€™ï¼Œç›®å‰ä¼šä¸»è¦æŒ‰ç…§pythonæ¥è¿›è¡Œç¼–å†™ï¼Œè¿™ä¸»è¦æ˜¯é¢å‘çš„åœºæ™¯ä¸åŒå†³å®šçš„ã€‚
åŸºç¡€çš„æ’åºç†è®ºï¼ŒåŒ…æ‹¬å¿«æ’ç­‰ç­‰ç®—æ³•çš„åˆ†æåœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­è®°å½•ï¼ˆå½“åˆå®ä¹ å‡†å¤‡çš„æ—¶å€™æœ‰æ•´ç†è¿‡ï¼Œåç»­é‡æ–°æ•´ç†å‡ºæ¥ï¼‰
æ’åºç®—æ³•å’Œç†è®º placeholder
æ’åºç®—æ³•åº”ç”¨ placeholder
åŒæ­¥æ’åº å¸¸ç”¨äºMachine Learningä¸­ï¼Œå°†æ•°æ®é›†ä¸­çš„æ•°æ®å’Œæ ‡ç­¾è¿›è¡ŒåŒæ­¥æ’åºï¼Œé¿å…æ‰“ä¹±å…¶ä¸­çš„å¯¹åº”å…³ç³»ã€‚
ä½¿ç”¨numpyçš„ argsortåŠŸèƒ½æ¥è¿›è¡Œæ’åºï¼š
1 2 3 idx = np.argsort(labels) labels = labels[idx] datas = datas[idx,...] ä½¿ç”¨sortä¸­çš„args: keyæ¥è¿›è¡ŒåŒæ­¥æ’åºï¼Œé€‰å‡ºä¸€ä¸ªä½œä¸ºä¾æ®, ä½†æ˜¯è¿™ç§æ–¹å¼ä¸æ”¯æŒå­˜åœ¨npçš„æƒ…å†µï¼Œå› ä¸ºnpæ— æ³•å»ºç«‹hashï¼Œé™¤éæˆ‘ä»¬è½¬åŒ–æˆtupleå†è½¬å›æ¥ã€‚
1 2 3 4 5 # é»˜è®¤æŒ‰ç…§ç¬¬0ç»´åº¦è¿›è¡Œæ’åº lables, datas = [list(x) for x in zip(*sorted(zip(labels, datas)))] # è‹¥è¦æŒ‡å®šç‰¹å®šç»´åº¦ from operator import itemgetter datas, labels = [list(x) for x in zip(*sorted(zip(datas, labels), key=itemgetter(1)))] é¢å¤–ä»‹ç»æˆ‘çš„æ„šè ¢å®ç°æ€è·¯ï¼š
ç”¨ $index/length$ ä½œä¸ºå°æ•°ä½æ·»åŠ åˆ° $labelList$ ä¸Š $SORT$ æ’åºåˆ—è¡¨ï¼Œåˆ†ç¦»å¹¶å¤åŸIndex åŸºäºIndexå¯¹åˆ—è¡¨è¿›è¡Œæ’åºèµ‹å€¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 def sort_dataset(dataset): # the num_new_class can be calculate by some formula, but in this part make it HARD # sort those data and label which make it easier to del class. num_data = len(dataset) up_limit = pow(10, len(str(num_data))) index = [index /up_limit for index in num_data] # using this mark to sort the data for i, _ in enumerate(dataset.targets): dataset.targets[i] += index[i] dataset.targets.sort() # get the new order new_order = [target - int(target) for target in dataset.targets] * up_limit dataset.targets = [int(target) for target in dataset.targets] # it's necessary for us to swith to list or not? dataset.data = list(np.array(dataset.data)[new_order]) return None</p></section><footer class=entry-footer><span title='2021-12-06 17:05:03 +0000 UTC'>December 6, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;189 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/algorithm> Algorithm</a>&nbsp;Â·&nbsp;<a href=/tags/sort> Sort</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/algorithm style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Algorithm
</a><a href=/tags/sort style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Sort</a></div></div></div><a class=entry-link aria-label="post link to Algorithm Sort" href=https://aikenh.cn/hugotest/posts/sorttrick/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://aikenh.cn/cover/cover6.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>Hungarian</h2></header><section class=entry-content><p>@AikenHong 2021 @Code: Scipyï¼ˆrepoï¼‰ @Reference: åŒˆç‰™åˆ©ç®—æ³•&amp;KMç®—æ³• è¯¥ç¯‡ç¬”è®°ç”¨æ¥ä»‹ç»åŒˆç‰™åˆ©ç®—æ³•å’ŒKMç®—æ³•(Kuhn-Munkres Algorithm)ï¼Œè¿™ä¸¤ä¸ªç®—æ³•é€šå¸¸ç”¨æ¥åšç›®æ ‡ä¹‹é—´çš„åŒ¹é…é—®é¢˜ã€‚ å¸¸ç”¨äºï¼šå¤šç›®æ ‡è·Ÿè¸ªï¼Œå’Œæ·±åº¦èšç±»ä¸­çš„æ ‡ç­¾åŒ¹é…é—®é¢˜ã€‚
Method è¿™ä¸¤ç§æ–¹æ³•å®é™…ä¸Šè§£å†³çš„é—®é¢˜éƒ½æ˜¯ï¼š äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…é—®é¢˜ï¼› é¦–å…ˆéœ€è¦å¯¹äºŒåˆ†å›¾æœ‰ä¸ªåŸºæœ¬çš„äº†è§£ï¼š
å®é™…ä¸Šå°±æ˜¯å°†æ•°æ®åˆ†ä¸ºä¸¤ç»„ï¼Œå„ç»„çš„æ¯ä¸€ä¸ªç‚¹éƒ½å»å¦ä¸€ä¸ªç»„æ‰¾å¯¹åº”çš„åŒ¹é…ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä¸¤ç»„ä¸­ï¼Œç›¸å…³çš„æ•°æ®å°½å¯èƒ½çš„å‡†ç¡®çš„åŒ¹é…èµ·æ¥ã€‚
å¯ä»¥æƒ³è±¡æˆï¼Œæ˜¯åŒä¸€ä¸ªæ•°æ®åœ¨ä¸åŒçš„æ˜ å°„ä¸‹çš„ä¸åŒè¡¨å¾éœ€è¦åšè¿™æ ·çš„åŒ¹é…å…³ç³»ã€‚
è§£å†³è¿™ç§é—®é¢˜çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨åŒˆç‰™åˆ©ç®—æ³•æˆ–è€…KMç®—æ³•
åŒˆç‰™åˆ©ç®—æ³• åŒˆç‰™åˆ©ç®—æ³•æ˜¯ä¸€ç§åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ä»»åŠ¡åˆ†é…é—®é¢˜çš„ç»„åˆä¼˜åŒ–ç®—æ³•
åŒˆç‰™åˆ©ç®—æ³•å¯ä»¥å°†äºŒåˆ†å›¾ä¸­çš„è¿çº¿ï¼Œçœ‹æˆæ˜¯æˆ‘ä»¬è®¤ä¸ºå¯èƒ½æ˜¯ç›¸åŒçš„ç›®æ ‡ï¼ˆä¸å¸¦æƒå€¼ï¼‰ï¼Œå®é™…ä¸Šå°±æ˜¯ä»ä¸Šåˆ°ä¸‹å‡æƒ³æˆç«‹ï¼Œç„¶åè¿›è¡Œå”¯ä¸€åŒ¹é…çš„æœç´¢ï¼Œæœ‰ç‚¹åƒBackTrackçš„è¿‡ç¨‹ã€‚
æ•´ä½“ç®—æ³•çš„æˆåŠŸç‡æˆ–è€…å‡†ç¡®ç‡å®é™…ä¸Šååˆ†ä¾èµ–ä¸è¿çº¿çš„å‡†ç¡®ç‡ï¼Œå¯¹ç®—æ³•è¾“å‡ºé¢„æµ‹çš„å‡†ç¡®åº¦è¦æ±‚æ›´é«˜ã€‚
KM KMè§£å†³çš„æ˜¯å¸¦æƒçš„äºŒåˆ†å›¾çš„æœ€ä¼˜åŒ¹é…çš„é—®é¢˜ã€‚
ç›¸å½“äºæˆ‘ä»¬ç»™æ¯æ¡çº¿éƒ½ç»™å‡ºä¸€ä¸ªç½®ä¿¡åº¦é¢„æµ‹å€¼ï¼ŒåŸºäºè¿™æ ·çš„æƒå€¼å›¾å»è®¡ç®—å¯¹åº”çš„åŒ¹é…å…³ç³»
Step1: å°†å·¦è¾¹èŠ‚ç‚¹æ ‡ä¸Šä¸ä»–æ‰€å…³è”çš„æœ€å¤§æƒå€¼çš„è¾¹çš„æ•°å€¼ Step2: å¯»æ‰¾åŒ¹é…ï¼ŒåŸåˆ™å¦‚ä¸‹
åªæœ‰æƒé‡å’Œå·¦è¾¹åˆ†æ•°ç›¸åŒçš„è¾¹æ‰è¿›è¡ŒåŒ¹é…ï¼› å¦‚æœæ‰¾ä¸åˆ°è¾¹ï¼Œæ­¤æ¡è·¯å¾„çš„æ‰€æœ‰å·¦è¾¹é¡¶ç‚¹-dï¼Œå³ä¾§+dï¼Œè¿™é‡Œæˆ‘ä»¬å°†då–å€¼ä¸º0.1 å¯¹äºè€ƒè™‘æ¢è¾¹çš„å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ— æ³•æ¢è¾¹ï¼Œä¹Ÿéœ€è¦å¯¹åº”çš„è¿›è¡Œ-d å…·ä½“çš„ä¾‹å­å¯ä»¥è¿™ä¹ˆçœ‹ï¼ˆæœ€å¥½è¿˜æ˜¯çœ‹blogï¼‰ï¼š ...</p></section><footer class=entry-footer><span title='2021-12-03 00:29:37 +0000 UTC'>December 3, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;46 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/algorithm> Algorithm</a>&nbsp;Â·&nbsp;<a href=/tags/matching> Matching</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/algorithm style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Algorithm
</a><a href=/tags/matching style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Matching</a></div></div></div><a class=entry-link aria-label="post link to Hungarian" href=https://aikenh.cn/hugotest/posts/hungarian/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://aikenh.cn/cover/cover12.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>Hard Task Sampling</h2></header><section class=entry-content><p>Trickï¼šHard Task æ€è·¯æ¥æºäºMeta-Tranfer-Learningï¼ŒåŸºæœ¬æ€è·¯æ˜¯åœ¨Meta-Learningçš„æ¯ä¸€æ¬¡Meta-Testçš„æ—¶å€™ï¼Œä¼šä»é¢„è®­ç»ƒé”™è¯¯ç‡æ¯”è¾ƒé«˜çš„Taskä¸­å†æ¬¡é‡‡æ ·ï¼Œå¢åŠ é‚£äº›taskçš„è®­ç»ƒæ¬¡æ•°ã€‚ä¹Ÿå°±æ˜¯éš¾é¢˜å¤šåšçš„ç­–ç•¥ã€‚
åŸºæœ¬æ€è·¯ å¯¹æ¯”Adaboost è¿™æ ·çš„æ€è·¯å…¶å®å’ŒAdaBoostçš„æƒ³æ³•æ˜¯æœ‰ä¸€å®šçš„å¼‚æ›²åŒå·¥ä¹‹å¦™çš„ï¼Œæˆ–è€…è¯´å…¶å®å°±æ˜¯AdaBoostçš„æ€è·¯ï¼š
Adaboost
å‚è€ƒç¬”è®° ï¼Œä»è¯¥ç¬”è®°ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒAdaBoostçš„åŸºæœ¬æ€è·¯å¦‚ä¸‹ï¼š
Boostingç®—æ³•çš„å·¥ä½œæœºåˆ¶æ˜¯é¦–å…ˆä»è®­ç»ƒé›†ç”¨åˆå§‹æƒé‡è®­ç»ƒå‡ºä¸€ä¸ªå¼±å­¦ä¹ å™¨1ï¼Œæ ¹æ®å¼±å­¦ä¹ çš„å­¦ä¹ è¯¯å·®ç‡è¡¨ç°æ¥æ›´æ–°è®­ç»ƒæ ·æœ¬çš„æƒé‡ï¼Œä½¿å¾—ä¹‹å‰å¼±å­¦ä¹ å™¨1å­¦ä¹ è¯¯å·®ç‡é«˜çš„è®­ç»ƒæ ·æœ¬ç‚¹çš„æƒé‡å˜é«˜ï¼Œä½¿å¾—è¿™äº›è¯¯å·®ç‡é«˜çš„ç‚¹åœ¨åé¢çš„å¼±å­¦ä¹ å™¨2ä¸­å¾—åˆ°æ›´å¤šçš„é‡è§†ã€‚ç„¶ååŸºäºè°ƒæ•´æƒé‡åçš„è®­ç»ƒé›†æ¥è®­ç»ƒå¼±å­¦ä¹ å™¨2.ï¼Œå¦‚æ­¤é‡å¤è¿›è¡Œï¼Œç›´åˆ°å¼±å­¦ä¹ å™¨æ•°è¾¾åˆ°äº‹å…ˆæŒ‡å®šçš„æ•°ç›®Tï¼Œæœ€ç»ˆå°†è¿™Tä¸ªå¼±å­¦ä¹ å™¨é€šè¿‡é›†åˆç­–ç•¥è¿›è¡Œæ•´åˆï¼Œå¾—åˆ°æœ€ç»ˆçš„å¼ºå­¦ä¹ å™¨.
å’ŒMeta-Transfer-Learningå¯¹æ¯”ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæ–¹æ³•å®é™…ä¸Šå°±æ˜¯è®²Transfer Learningçš„ä¸è®­ç»ƒç½‘ç»œå½“æˆå¼±å­¦ä¹ å™¨1ï¼Œç„¶åé€šè¿‡å¼±å­¦ä¹ å™¨1çš„è®­ç»ƒæ ·æœ¬æƒé‡ï¼Œæ¥å¢å¤§Hard-Taskçš„é…æ¯”ï¼ˆä¹Ÿå°±æ˜¯å¢åŠ ä»»åŠ¡çš„æƒé‡ï¼‰å®Œå…¨ä¸€è‡´ã€‚
å…·ä½“å®ç° å®ç°ä¸Šä¸»è¦æ˜¯ï¼Œæ ·æœ¬sampleçš„è¿‡ç¨‹ï¼Œå°±æ˜¯å¦‚ä½•åœ¨è¿›è¡Œå‚æ•°é€‰æ‹©åå’ŒåŸæœ¬çš„Dataloaderï¼Œç»“åˆèµ·æ¥ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¸»è¦å‚è€ƒMTLä¸­çš„æ–¹æ³•ï¼Œè¿›è¡Œç½‘ç»œçš„æ„å»ºå¤„ç†ã€‚
ç¬¬ä¸€éƒ¨åˆ†ï¼šsampleræ„å»ºï¼Œä¸ºäº†åç»­Dataloaderä¸­è¿›è¡Œæ•°æ®çš„é‡‡æ ·ï¼Œéœ€è¦æ„å»ºä¸€ä¸ªè¿™æ ·çš„samplerï¼Œå…³é”®åœ¨äºindexçš„å¯¹åº”å…³ç³»ï¼Œä»¥åŠæœ€åè¾“å‡ºçš„æ˜¯indexçš„é›†åˆã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 import torch import numpy as np # æ³¨æ„çš„ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šæˆ‘ä»¬batchæ•°ç›®ï¼Œclsæ•°ç›®å’Œæ¯æ¬¡æ¯ä¸ªclsé€‰å‡ºå¤šå°‘ä¸ªæ•°æ®per # ç´§æ¥ç€å®šä¹‰ä¸€ä¸ªsampleï¼Œsampleè¾“å‡ºçš„æ˜¯å¯¹åº”åŸdatasetä¸­çš„æ•°æ®çš„indexï¼Œ class CatagoriesSampler(): def __init__(self, label, n_batch, n_cls, n_per): self.n_batch = n_batch self.n_cls = n_cls self.n_per = n_per label = np.array(label) # æ ¹æ®ä¸åŒçš„labelè¾“å…¥æƒ…å†µï¼Œæˆ‘ä»¬å¯å¯èƒ½éœ€è¦æ‰¾åˆ°æ¯ä¸ªlabelå¯¹åº”çš„æ ·æœ¬çš„indexï¼Œå°†å…¶æ•´åˆåœ¨ä¸€èµ·ã€‚å¦‚ä¸‹ï¼ˆoptionï¼‰ self.m_idx = [] for i in range(max(label)+1): idx = np.argwhere(label==i).reshape(-1) idx = torch.from_numpy(idx) self.m_idx.append(idx) def __len__(self): # è¦æ³¨æ„ä¸€ä¸‹è¿™é‡Œæ•°æ®çš„é•¿åº¦æ˜¯æ ¹æ®æˆ‘ä»¬è¦è¾“å‡ºçš„batchæ•°ç›®å†³å®šçš„ return self.n_batch def __iter__(self): # ç›´æ¥å®šä¹‰æ¯æ¬¡é‡‡æ ·çš„æ—¶å€™çš„batchè¾“å‡º for i_batch in range(self.n_batch): batch = [] classes = torch.randperm(len(self.m_idx))[:self.n_cls] for c in classes: # éšæœºé€‰æ‹©å‡ºçš„ç±»æ ‡ç­¾ l = self.m_idx[c] # éšæœºé€‰æ‹©æ ·æœ¬ random_pos = torch.randperm(len(l))[:self.n_per] batch.append(l[random_pos]) # stack t and reshapeçš„ä½œç”¨ğŸ‘‡ # stack å˜æˆn_cls * n_per , tè½¬ç½®ï¼Œreshapeï¼ˆ-1ï¼‰å˜æˆè¡Œå‘é‡ batch = torch.stack(batch).t().reshape(-1) yield batch ç¬¬äºŒéƒ¨åˆ†ï¼šç›´æ¥è°ƒç”¨éƒ¨åˆ†
...</p></section><footer class=entry-footer><span title='2021-11-28 06:24:17 +0000 UTC'>November 28, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;182 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/algorithm> Algorithm</a>&nbsp;Â·&nbsp;<a href=/tags/sampling> Sampling</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/algorithm style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Algorithm
</a><a href=/tags/sampling style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Sampling</a></div></div></div><a class=entry-link aria-label="post link to Hard Task Sampling" href=https://aikenh.cn/hugotest/posts/hardtask/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://aikenh.cn/cover/cover6.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>Astar</h2></header><section class=entry-content><p>A* æ˜¯ä¸€ç§åœ¨å¹³é¢å›¾å½¢ä¸Šè®¡ç®—æœ€ä¼˜è·¯å¾„çš„æ–¹æ³•ï¼Œé€šå¸¸ç”¨æ¥åš 2D æ¸¸æˆçš„æœ€çŸ­å¯»è·¯ï¼Œè¯¥ç®—æ³•æ˜¯ä¸€ç§ Dijkstra ç®—æ³•çš„å˜ä½“ï¼Œä½¿ç”¨å¯å‘å¼çš„ç­–ç•¥æ¥æé«˜ç®—æ³•çš„æœç´¢æ•ˆç‡ã€‚
wikipedia ï¼›medium ï¼›pythonf åŸºæœ¬æ€æƒ³ åŸºäºå¯å‘å¼çš„æ–¹æ³•ï¼ŒåŸºäºBFSå»åšæœ€çŸ­è·¯å¾„æœç´¢ï¼Œå€ŸåŠ©ç±»ä¼¼Manhattanè·ç¦»ä½œä¸ºå¯å‘ï¼Œæ¯æ¬¡åŠ å…¥åç»­çš„å¤šä¸ªç‚¹ï¼Œç„¶åæŒ‰ç…§åç»­ç‚¹çš„å±æ€§å»æ’åºï¼Œä¸æ–­çš„åŠ å…¥closeçš„åŒºé—´ï¼Œç›´åˆ°ç¬¬ä¸€æ¬¡éå†åˆ°ç»ˆç‚¹å°±æ˜¯æœ€çŸ­çš„è·¯å¾„ã€‚
$$ f(n) = g(n) + h(n) $$
fä»£è¡¨çš„æ˜¯ç»è¿‡å½“å‰ç‚¹ï¼Œä»èµ·ç‚¹åˆ°æœ€ç»ˆç‚¹çš„è·ç¦»ï¼Œgä»£è¡¨çš„æ˜¯ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·ç¦»ï¼Œhä»£è¡¨çš„æ˜¯å¯å‘å¼æ–¹æ³•åˆ°ç»ˆç‚¹çš„è·ç¦»ã€‚
ç»´æŠ¤ä¸‰ä¸ªlistï¼šopen(å€™é€‰åˆ—è¡¨)ã€closeï¼ˆçŠ¶æ€ç¡®å®šçš„åˆ—è¡¨ï¼‰ã€childrenï¼ˆç­‰å¾…æ“ä½œçš„åˆ—è¡¨ï¼‰
é¦–å…ˆç”¨ bfs çš„æ–¹æ³•ï¼Œæ‰¾åˆ°å½“å‰èŠ‚ç‚¹çš„å¯è¾¾åç»­èŠ‚ç‚¹ï¼Œå°†è¿™äº›èŠ‚ç‚¹åŠ å…¥ childrenï¼Œç¡®å®š child ä¸åœ¨ close_list ä¸­åï¼ˆå³åœ¨ open ä¸­ï¼‰åˆ™åˆ¤æ–­å“ªä¸ªæ˜¯æœ€ä¼˜è§£ï¼Œç„¶åæ›´æ–° openlist å’Œ closelist ã€‚
å³ï¼šæ¯æ¬¡éå†çš„å½“å‰èŠ‚ç‚¹éƒ½ä» open ä¸­æ€»è·ç¦»æœ€å°çš„é€‰ï¼Œç„¶åæ”¾å…¥ closeã€‚ç›´åˆ° openlist ä¸ºç©ºã€‚
ç›¸å…³ç±»åˆ«å®šä¹‰ 1 2 3 4 5 6 7 8 9 10 11 class node(): def __init__(self, parent=None, position=None): self.parent = parent self.position = position self.g = 0 self.h = 0 self.f = 0 def __eq__(self, o: object) -> bool: return o.position == self.position å…·ä½“ä»£ç å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 def asterS(map,slope,start,end): # åœ¨astarç®—æ³•çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬éœ€è¦åŠ å…¥çš„æ˜¯é«˜åº¦çš„çº¦æŸ # é˜»ç¢çš„æ¡ä»¶æ˜¯é«˜åº¦ä¸åŒåŒæ—¶æ²¡æœ‰slopeçš„å­˜åœ¨ï¼Œè¿™ç§å°±æ˜¯wall # å…¶ä½™çš„å’ŒAstarç®—æ³•åº”è¯¥æ˜¯ä¸€æ ·çš„ # init the start and end node start_node = node(None,start) end_node = node(None,end) # init the open and closed lists open_list = [] close_list = [] # add the start node to the open list open_list.append(start_node) # loop util find the end_node while len(open_list)>0: # make the best node as current_node # init 1 current_node = open_list[0] current_index = 0 for index, nod in enumerate(open_list): if nod.f&lt;current_node.f: current_node = nod current_index = index # pop the curr node off open list, add to close list open_list.pop(current_index) close_list.append(current_node) # terminal conditions (reach the end node ) if current_node == end_node: path = [] while(current_node is not None): path.append(current_node.position) current_node = current_node.parent # return the path we find. return path[::-1] # the body of the loop: update the nodes # find the available children nodes children = [] # define the adjacent squares positions = [(-1,0),(1,0),(0,-1),(0,1)] for pos in positions: # get childrens positions node_pos = (current_node.position[0]+pos[0], current_node.position[1]+pos[1]) # make sure within range if node_pos[0] &lt; 0 or node_pos[0] >= map.shape[0] or node_pos[1] &lt; 0 or node_pos[1] >= map.shape[1]: continue # mkae sure walkab mapflag = map[current_node.position[0], current_node.position[1]] != map[node_pos[0], node_pos[1]] slopeflag1 = slope[node_pos[0], node_pos[1]] == 0 or slope[current_node.position[0], current_node.position[1]] == 0 slpopeflag2 = slope[node_pos[0], node_pos[1]] != slope[current_node.position[0], current_node.position[1]] if mapflag and (slopeflag1 or slpopeflag2): continue # we need creat node first to find out if it is in the openlist or closed list new_node = node(current_node, node_pos) children.append(new_node) # loop those children # using the __eq__ to judge if it's already traveled. for child in children: if child in close_list: continue # create f,g,h for the legal child child.g = current_node.g + 1 child.h = manhattan(child.position, end_node.position) child.f = child.g + child.f # if the child is already in the open list, compare it if child in open_list: open_index = open_list.index(child) open_node = open_list[open_index] if child.g > open_node.g: continue open_list.pop(open_index) # if it is not in the open/closelist or better than that in open list, we add it. open_list.append(child)</p></section><footer class=entry-footer><span title='2021-09-28 05:34:21 +0000 UTC'>September 28, 2021</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;507 words&nbsp;Â·&nbsp;aikenhong&nbsp;Â·&nbsp;<a href=/tags/algorithm> Algorithm</a>&nbsp;Â·&nbsp;<a href=/tags/python> Python</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/algorithm style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Algorithm
</a><a href=/tags/python style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Python</a></div></div></div><a class=entry-link aria-label="post link to Astar" href=https://aikenh.cn/hugotest/posts/astar/></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://aikenh.cn/hugotest/>aiken's blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container>Visitors: <span id=busuanzi_value_site_uv></span>
Views: <span id=busuanzi_value_site_pv></span></span></footer><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),o=13863,i=16993;if(!e||!t){console.error("Busuanzi elements not found.");return}const n=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+o;break}}),s=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){s.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+i;break}});n.observe(e,{childList:!0}),s.observe(t,{childList:!0})})</script><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))}),document.getElementById("theme-toggle-nav").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("/js/pangu.js",function(){pangu.spacingPage()})</script></body></html>