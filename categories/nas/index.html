<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>NAS | aiken's blog</title>
<meta name=keywords content><meta name=description content="Let's learn and innovate together!"><meta name=author content="aikenhong"><link rel=canonical href=https://hugotest-phi.vercel.app/categories/nas/><link crossorigin=anonymous href=/assets/css/stylesheet.2f85ca17c12c62fa86b1e474b8a51aca4856f0d645debfe4922a4d5ddc6aa978.css integrity="sha256-L4XKF8EsYvqGseR0uKUaykhW8NZF3r/kkipNXdxqqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://hugotest-phi.vercel.app/favicon/ghost.ico><link rel=icon type=image/png sizes=16x16 href=https://hugotest-phi.vercel.app/favicon/ghost-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hugotest-phi.vercel.app/favicon/ghost-32x32.png><link rel=apple-touch-icon href=https://hugotest-phi.vercel.app/favicon/ghost-apple-touch-icon.png><link rel=mask-icon href=https://hugotest-phi.vercel.app/favicon/ghost-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://hugotest-phi.vercel.app/categories/nas/index.xml><link rel=alternate hreflang=en href=https://hugotest-phi.vercel.app/categories/nas/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://cdn.jsdmirror.com/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdmirror.com/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.css><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/katex.min.js></script><script defer src=https://cdn.jsdmirror.com/npm/katex@0.16.11/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel=stylesheet><meta property="og:url" content="https://hugotest-phi.vercel.app/categories/nas/"><meta property="og:site_name" content="aiken's blog"><meta property="og:title" content="NAS"><meta property="og:description" content="Let's learn and innovate together!"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="NAS"><meta name=twitter:description content="Let's learn and innovate together!"></head><body class=list id=top><script type=module src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.esm.js defer></script><script nomodule src=https://cdn.jsdmirror.com/npm/ionicons@7.1.0/dist/ionicons/ionicons.js defer></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hugotest-phi.vercel.app/ accesskey=h title="aiken's blog (Alt + H)">aiken's blog</a><div class=logo-switches><button id=theme-toggle-nav accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hugotest-phi.vercel.app/ title=home><span>home</span></a></li><li><a href=https://hugotest-phi.vercel.app/archives/ title=archives><span>archives</span></a></li><li><a href=https://hugotest-phi.vercel.app/search title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><div class=sidebar><ul><li class=logo style=--bg:#333><a href=#><div class=logo-icon><img src=/logo/logo.png></div><div class=logo-text>Aiken's Blog</div></a></li><div class=menulist><li style=--bg:#f44336><a href=https://hugotest-phi.vercel.app/ title=home><div class=logo-icon><ion-icon name=home-outline></ion-icon></div><div class=logo-text>home</div></a></li><li style=--bg:#b145e9><a href=https://hugotest-phi.vercel.app/posts/ title=posts><div class=logo-icon><ion-icon name=newspaper-outline></ion-icon></div><div class=logo-text>posts</div></a></li><li style=--bg:#0f93c7><a href=https://hugotest-phi.vercel.app/tags/ title=tags><div class=logo-icon><ion-icon name=pricetags-outline></ion-icon></div><div class=logo-text>tags</div></a></li><li style=--bg:#ffa117><a href=https://hugotest-phi.vercel.app/categories/ title=categories><div class=logo-icon><ion-icon name=grid-outline></ion-icon></div><div class=logo-text>categories</div></a></li><li style=--bg:#0fc70f><a href=https://hugotest-phi.vercel.app/archives/ title=archives><div class=logo-icon><ion-icon name=folder-outline></ion-icon></div><div class=logo-text>archives</div></a></li><li style=--bg:#d16111><a href=https://hugotest-phi.vercel.app/about/ title=about><div class=logo-icon><ion-icon name=person></ion-icon></div><div class=logo-text>about</div></a></li><li style=--bg:#15c095><a href=https://hugotest-phi.vercel.app/search title="search (Alt + /)" accesskey=/><div class=logo-icon><ion-icon name=search></ion-icon></div><div class=logo-text>search</div></a></li></div><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt +T)"><li><div class=logo-icon id=moon><ion-icon name=moon-outline></ion-icon></div><div class=logo-icon id=sun><ion-icon name=sunny-outline></ion-icon></div></li></button></div></ul></div><link rel=stylesheet href=https://cdn.jsdmirror.com/npm/sakana-widget@2.7.0/lib/sakana.min.css><div id=sakana-widget></div><script>function initSakanaWidget(){const e=SakanaWidget.getCharacter("chisato");e.initialState={...e.initialState,controls:!1,t:.8,i:.002,s:1,d:.999,t:.5,w:.05},e.image="https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/mac/%E5%B7%B2%E7%A7%BB%E9%99%A4%E8%83%8C%E6%99%AF%E7%9A%84Xnip2024-11-30_00-47-03.png",SakanaWidget.registerCharacter("ronSang",e),new SakanaWidget({character:"ronSang"}).mount("#sakana-widget");const t=SakanaWidget.getCharacter("chisato");t.initialState={...t.initialState,controls:!1,t:.8,i:.002,s:1,d:.999,t:.5,w:.05},t.image="https://picture-bed-001-1310572365.cos.ap-guangzhou.myqcloud.com/mac/%E5%B7%B2%E7%A7%BB%E9%99%A4%E8%83%8C%E6%99%AF%E7%9A%84Xnip2024-11-30_00-36-37.png",SakanaWidget.registerCharacter("xinxin",t),new SakanaWidget({character:"xinxin"}).mount("#sakana-widget")}</script><script async onload=initSakanaWidget() src=https://cdn.jsdmirror.com/npm/sakana-widget@2.7.0/lib/sakana.min.js></script><main class=main><header class=page-header><div class=breadcrumbs><a href=https://hugotest-phi.vercel.app/>Home</a>&nbsp;»&nbsp;<a href=https://hugotest-phi.vercel.app/categories/>Categories</a></div><h1>NAS
<a href=/categories/nas/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover14.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>家庭服务器的备份工具选择</h2></header><section class=entry-content><p>Summary
在搭建了 Immich 服务之后，考虑到数据本身的重要性，又对硬盘本身的寿命和各种数据安全的场景有所顾虑，对加密备份的需求就浮出水面了，希望能有一个备份的预案来对抗各种数据风险，因此有本篇文章，对各种备份工具做简单调研和选择。
👾Intro 调研对象介绍 👍出场选手介绍，节选来自以下网站的备份方案：awesome-sysadmin-backup kopia urBackUp restic rclone duplicity Duplicati Duplicacy 脚本实现简单的备份和上传：Crontab+自动 tar 加密+Webdav 接口进行上传 为了备份大量包含隐私的图像信息，这里最基础的需求有以下几点：加密，支持云端存储服务/Webdav，增量备份，免费；
额外如果能够支持以下的需求则额外加分：压缩，去重，平台一致性，用户界面友好（备份状态检查等）
🏓Compare 特性对比 Name PSWD Zip Webdav Add Type ui Consis free rate kopia y y y y Full y y y 🔥🔥🔥🔥🔥 urbackup y n n y C/S y y y 🔥 restic y n r/o y CLI n y y 🔥 duplicity y n y y CLI n n y 🔥🔥 duplicati y n y y Full y n y 🔥🔥🔥🔥 duplicacy y y y y Full y- y y- 🔥🔥🔥🔥🔥 ...</p></section><footer class=entry-footer><span title='2023-12-29 08:04:06 +0000 UTC'>December 29, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;238 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/nas> NAS</a>&nbsp;·&nbsp;<a href=/tags/cli> CLI</a>&nbsp;·&nbsp;<a href=/tags/survey> Survey</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS
</a><a href=/tags/cli style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#CLI
</a><a href=/tags/survey style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Survey</a></div></div></div><a class=entry-link aria-label="post link to 家庭服务器的备份工具选择" href=https://hugotest-phi.vercel.app/posts/backuptoolsforhomeserver/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover12.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>破解本地自托管Emby服务</h2></header><section class=entry-content><p>Intro 问题描述 以 emby 为例，学习如何对这种自托管的服务，请求验证网站的软件进行破解，破解的整体思路分为以下的两类：
一种是改客户端，一种是改服务端。两种方式的最终原理一样，都是搭建仿冒认证服务器，客户端访问伪服务器拿到授权信息；【3】
因此无论是那种方法我们都需要搭建伪验证服务器：所以以下的操作是必须的：
抓取定位到验证服务器的地址，并获取验证服务器返回的验证信息格式； 使用 Nginx 搭建虚拟的验证服务器，使其返回激活/验证信息； 如果是修改客户端，则在搭建完验证站后需要：
修改 Host 文件，将请求验证服务器的请求劫持到本地搭建的服务上； 需要伪服务器和客户端都要安装自签名证书 如果是修改服务端，则后续需要：
修改服务端源文件，将默认的认证服务器 mb3admin.com 地址直接改成伪服务器 这样就不需要安装自签名证书 如果是使用 Docker 进行部署的 emby 可以使用别人修改好的服务端的镜像进行部署安装（like 开心版）
本文主要介绍验证服务器的搭建、修改客户端的方法，以及一些其他的注意事项；
...</p></section><footer class=entry-footer><span title='2023-11-10 14:05:15 +0000 UTC'>November 10, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;533 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/nas> NAS</a>&nbsp;·&nbsp;<a href=/tags/nginx> nginx</a>&nbsp;·&nbsp;<a href=/tags/web> Web</a>&nbsp;·&nbsp;<a href=/tags/emby> emby</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS
</a><a href=/tags/nginx style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#nginx
</a><a href=/tags/web style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Web
</a><a href=/tags/emby style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#emby</a></div></div></div><a class=entry-link aria-label="post link to 破解本地自托管Emby服务" href=https://hugotest-phi.vercel.app/posts/emby_localhost_crack_by_nginx/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover12.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>使用Ipv6部署服务03 DDNS-go 动态域名解析</h2></header><section class=entry-content><p>本系列主要介绍通过公网的 ipv6 访问局域网设备并部署自己的服务供公网访问；本篇是其中的第三篇，以 DDNS-go 开源项目为例，部署动态域名解析服务，自动更新主机记录值。
jeessy2/ddns-go: 简单好用的DDNS。自动更新域名解析到公网IP(支持阿里云、腾讯云、Dnspod、Cloudflare、Callback、华为云、百度云、Porkbun、GoDaddy、Google Domain) (github.com) 该工具使用起来非常简单，推荐需要动态域名解析的可以尝试使用该工具，简单介绍工具的使用如下：
配置 DDNS-GO 前往 release 页面下载对应系统的版本：
解压后双击打开 ddns-go.exe 会自动弹出配置的界面：locahost:9876,选择需要解析域名的 DNS 服务商，选择创建密钥并填入对应的密钥。
...</p></section><footer class=entry-footer><span title='2023-11-07 13:40:13 +0000 UTC'>November 7, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;60 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/nas> NAS</a>&nbsp;·&nbsp;<a href=/tags/ipv6> Ipv6</a>&nbsp;·&nbsp;<a href=/tags/web> Web</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS
</a><a href=/tags/ipv6 style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Ipv6
</a><a href=/tags/web style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Web</a></div></div></div><a class=entry-link aria-label="post link to 使用Ipv6部署服务03 DDNS-go 动态域名解析" href=https://hugotest-phi.vercel.app/posts/deploy_server_byipv6_03_ddnsgo/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover14.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>使用Ipv6部署服务02 Nginx和Https</h2></header><section class=entry-content><p>本系列主要介绍通过公网的 ipv6 访问局域网设备并部署自己的服务供公网访问；本篇是其中的第二篇，以腾讯云和 Nginx 为例，介绍如何将服务部署到 https://域名 。
需要以下的事前准备：
腾讯云/阿里云/Cloudflare 等随便一个地方购买一个自己的域名 公网 ipv4/ipv6 地址 本地部署一个服务以供测试 Nginx(Docker) 安装 这里选择 Docker 来分离安装 Nginx 服务，Docker 部署的优势这里就不再赘述，这里建议使用 portainer 进行容器管理和运行状态查看。
首先创建存放 Nginx 配置文件和证书文件的目录，后续挂载给 Nginx Contrainer 使用：
1 2 mkdir -p /home/username/docker-file/nginx/conf.d mkdir -p /home/username/docker-file/nginx/cert 配置文件存放到 conf.d 中，各种 SSL 证书则存放到 cert 文件夹中；
接着部署 Nginx，这次先不挂载目录，将 Nginx 中一些默认配置拷贝出来，以供后续使用和修改：
1 2 3 # run会自己执行镜像拉取，pull可以不执行 # docker pull nginx sudo docker run --name nginx -p 80:80 -d nginx 将配置文件复制出来：
1 2 3 sudo docker cp nginx:/etc/nginx/conf.d/default.conf /home/username/docker-file/nginx/conf.d/default.conf sudo docker cp nginx:/etc/nginx/nginx.conf /home/username/docker-file/nginx/conf.d/nginx.conf sudo docker cp nginx:/etc/nginx/mime.types /home/username/docker-file/nginx/conf.d/mime.types 基于原始的配置文件挂载后查看 nginx 是否正常运行：
1 2 sudo docker rm -f nginx sudo docker run --name nginx -p 80:80 -p 443:443 -v /home/username/docker-file/nginx/conf.d/nginx.conf:/etc/nginx/nginx.conf -v /home/username/docker-file/nginx/conf.d/default.conf:/etc/nginx/conf.d/default.conf -v /home/username/docker-file/nginx/conf.d/mime.types:/etc/nginx/mime.types -v /home/username/docker-file/nginx/cert:/etc/nginx/cert -d nginx 参考资料：使用docker部署nginx并配置https - 逊老头 - 博客园 (cnblogs.com) ...</p></section><footer class=entry-footer><span title='2023-11-06 20:49:16 +0000 UTC'>November 6, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;570 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/nas> NAS</a>&nbsp;·&nbsp;<a href=/tags/ipv6> Ipv6</a>&nbsp;·&nbsp;<a href=/tags/web> Web</a>&nbsp;·&nbsp;<a href=/tags/nginx> nginx</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS
</a><a href=/tags/ipv6 style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Ipv6
</a><a href=/tags/web style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Web
</a><a href=/tags/nginx style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#nginx</a></div></div></div><a class=entry-link aria-label="post link to 使用Ipv6部署服务02 Nginx和Https" href=https://hugotest-phi.vercel.app/posts/deploy_server_byipv6_02_nginx/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover13.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>使用Ipv6部署服务01 IPV6开启和设置</h2></header><section class=entry-content><p>本系列主要介绍通过公网的 ipv6 访问局域网设备并部署自己的服务供公网访问；本篇是其中的第一篇，以电信宽带为例，说明如何开启 ipv6 服务和外网访问放行。
开启 IPV6 服务主要需要修改两个地方的配置：**光猫开启桥接模式和 IPV6 **、路由器修改为 pppoe 拨号模式以及防火墙设置；这里以本人的电信光猫和小米路由器为例：
背景介绍 需要在外网访问部署于家庭内网的一些服务，考虑了以下的几个方案，决定使用 ipv6作为核心
类型 方案 简要说明 内网穿透 Zerotier 免费，需要注册账户，支持移动端，国内速度极慢，且不稳定 内网穿透 Tailscale（备用） 免费，需要注册账号，支持移动端，国内速度一版，稳定性相 Zetotier 较好，但仍不够稳定 内网穿透 frp 申请一个有公网的服务器，使用 frp 自己作为内网穿透的中转，贵，较为麻烦 公网 IP Ipv4 难以申请，其他都好 公网 IP Ipv6（主力） 获取简单，需要配置一下光猫使用，一劳永逸，快，稳定，多，有暴露公网的危险，需要设置防火墙 其他 Cloudflare Zerotrust 简单，免费，可以绑定域名，但是网站根本登不进去配置页面，速度不快 光猫设置 查看光猫背面的管理员 url，进入光猫管理界面，登录超级管理员账户（非普通账户，会跳转到更详细的管理页面，大部分同地区的超级管理员账户应该是一致的，不对可以询问下宽带师傅）
管理地址通常为：192.168.1.1 超级管理员账号：useradmin 超级管理员密码：nE7jA%5 开始之前准备 PPPoe 拨号的帐号和密码，不知道的话等询问好了再开始操作。
在天翼网关->网络->网络设置中进行如下的操作：（这里可以尝试改成 pppoe 并通过开发者模式查看密码，不知道密码不要轻易进行后续操作）
连接名称选择 +++INTERENT_R_VID_41 连接模式从路由改为桥接 IP 模式确认为 IPv4&amp;IPv6 点击保存/应用 在天翼网关->状态->网络侧信息中检查 IPv4 和 IPv6 是否都开启成功：
参考资料：个人宽带如何开启IPv6网络访问 ...</p></section><footer class=entry-footer><span title='2023-11-05 19:23:17 +0000 UTC'>November 5, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;307 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/nas> NAS</a>&nbsp;·&nbsp;<a href=/tags/ipv6> Ipv6</a>&nbsp;·&nbsp;<a href=/tags/web> Web</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS
</a><a href=/tags/ipv6 style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Ipv6
</a><a href=/tags/web style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Web</a></div></div></div><a class=entry-link aria-label="post link to 使用Ipv6部署服务01 IPV6开启和设置" href=https://hugotest-phi.vercel.app/posts/deploy_server_byipv6/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover13.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>HomeAssistant01 入门基础篇</h2></header><section class=entry-content><p>接下来本文安装的是 Container 版本的 HA，并非 Supervised 的版本，所以其中是不包含 Add-on 的，如果需要特定的 Add-on 的版本请注意。
基于本篇流程安装 HA 的前置条件是系统上已经安装好了可用的 Docker，该文会介绍 HA 和 HACS 的安装以及一些基础的配置。
HA & HACS 安装 本文安装于 Raspberry pi 4B，与其他操作环境可能会存在一些差异，要注意甄别。
HA 安装过程主要参考 Raspberry Pi - Home Assistant 中 Install Home Assistant Container 的章节，如果为其他的 OS 也可以在官网找到类似的指引，不过 docker 版本的差异应该不会特别的大，个人的 Docker Compose File 也已经上传到 GITHUB 可自行取用。
修改完 -v 的挂载目录以后（将数据保存在本地的目录）和 -e 的时区后，即可执行拉取和安装 docker，这里-v 挂载的本地目录要记得，后面有用。
1 docker compose up -d 安装完后基于 Host 模式的 HA 会运行在 http://localhost:8123 中，localhost 也可以用 ip 替代。安装完后随着指引 完成一些基础的设置，设置好默认的账号密码即可重启 docker 进入 HA 的界面；
到这里已经可以做一些基础的使用了，但是为了支持更多智能家具产品，往往需要安装第三方用户商店 HACS ，从中去下载对于其他智能家具产品的支持。
HACS Home Assistant Community Store 第三方用户商店，便于下载各种各样的集成实现对于各个不同智能家具品牌和产品的支持。
各种不同版本的安装方式可以参考官方网页 ，以下只介绍基于 Container 的安装方式，官方提供了安装脚本，因此现在下载已经相对简单，具体如下：
进入挂载的本地目录，执行下面命令，即包含了下载和执行。 1 wget -O - https://get.hacs.xyz | bash - 如果下不下来也可以直接打开网页复制进.Sh 脚本中；也可以去我的仓库中拉下来
安装完重启 HA，在集成页面添加集成，搜索 HACS，搜索到直接进行安装，跟随配置进行安装，并打开 GITHUB 进行登录和授权即可。
...</p></section><footer class=entry-footer><span title='2023-08-12 17:24:50 +0000 UTC'>August 12, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;349 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/raspberry-pie> Raspberry Pie</a>&nbsp;·&nbsp;<a href=/tags/nas> NAS</a>&nbsp;·&nbsp;<a href=/tags/homeassistant> HomeAssistant</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/raspberry-pie style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Raspberry Pie
</a><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS
</a><a href=/tags/homeassistant style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#HomeAssistant</a></div></div></div><a class=entry-link aria-label="post link to HomeAssistant01 入门基础篇" href=https://hugotest-phi.vercel.app/posts/homeassistant_init/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover9.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>内网穿透（NAT穿透）</h2></header><section class=entry-content><p>本文简要介绍对内网穿透技术、对内网穿透技术的需求以及介绍一些用于"个人"进行内网穿透的工具和使用。
1. 什么是内网穿透(NAT traversal） 在计算机科学中，NAT穿越（NAT traversal）涉及TCP/IP中的一个常见问题，即在处于使用了NAT设备的私有TCP/IP网络中的主机之间创建连接的问题。
其中 NAT 即网络地址转换 （Network Address Translation）在计算机网络中是一种在 IP 数据包通过路由器或防火墙时重写来源 IP 地址或目的 IP 地址的技术。这种技术被普遍使用在有多台主机但只通过一个公有 IP 地址访问互联网的私有网络中。它是一个方便且得到了广泛应用的技术。当然，NAT 也让主机之间的通信变得复杂，导致了通信效率的降低。
NAT 是作为一种解决IPv4地址短缺 以避免保留 IP 地址困难的方案而流行起来的。NAT 成了家庭和小型办公室网络连接上的路由器的一个标准特征。
其中最为常见的 NAT 设备就是家家户户都有的路由器，将所有的设备在局域网中统一管理，并基于唯一的公网 ip 对互联网（私有网络）进行访问。
而 NAT 会带来以下的问题，因此会需要内网穿透的技术：
外网主动发起的服务无法准确的定位到内网的指定机器，会被 NAT 设备丢弃，因此链接会变成单项的，无法双向交互。 因此无法在外网访问内网机器提供给局域网的服务，因此我们的机器，我们部署于 NAS、docker 的服务就只能在局域网中访问，在一定程度上就造成不便。
...</p></section><footer class=entry-footer><span title='2023-04-04 14:40:12 +0000 UTC'>April 4, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;63 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/nas> NAS</a>&nbsp;·&nbsp;<a href=/tags/nat> NAT</a>&nbsp;·&nbsp;<a href=/tags/windows> Windows</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS
</a><a href=/tags/nat style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAT
</a><a href=/tags/windows style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#Windows</a></div></div></div><a class=entry-link aria-label="post link to 内网穿透（NAT穿透）" href=https://hugotest-phi.vercel.app/posts/nat%E7%A9%BF%E9%80%8F/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://hugotest-phi.vercel.app/cover/cover3.jpeg alt></figure><div class=post-info><header class=entry-header><h2 class=entry-hint-parent>NAS</h2></header><section class=entry-content><p>“NAS本质上就是一个可以开启文件共享的具有大存储的系统：无论是Windows，Linux或其他一切可基于诸如SMB、Internet提供文件共享或访问功能的系统都可以作为NAS的系统使用。”
不出意外，针对该应用场景，也有针对性的一些简化OS，故而在构建NAS之前，首先分析对NAS存储的需求，进而选择一个合适的系统去构建。
个人NAS需求分析 就像NAS：Network Attached Storage所说，NAS最基本的需求是“存储”与“共享”（随时存取），实际也是一个私有网盘（支持更多功能？），本文便基于该脉络分析需求。
存储/功能类型 使用场景说明 需求程度 图片、文件归档 存储，预览（基于AI识别分类，时间线，照片墙） - 大文件 内网快速传输 - 电影 流媒体服务器：多设备在线观看、封面集归纳和整理（PLEX） - 工作文档 历史版本，协作编辑 Option 下载功能 看到想看的电影的时候可以直接让他开始下载 - 支持docker扩充功能 可以使用Docker下载并部署一些其他的乱七八糟的功能 Core 在支持基本功能的基础之上，通过配置的选择来，尽量减少功耗，从而减少长时间启动带来的电费消耗，如果可以的话使用软件或者硬件来记录NAS每个月的耗电量。
此外，还需要考虑数据的稳定性，好像叫做《阵列》？（后续进行补充了解）
断电自动重启
文件共享服务：SMB、FTP‘
加密和数据安全性
不需要显示器，只需要网络和SSH进行远程登陆和控制之类的。
NAS-OS 主要的一些NAS系统有：FreeNas、nas4free（xigmaNAS）、unraid（收费）、TrueNas Scale/Core、omv、EasyNAS黑群晖
基于完整OS搭建：
Debian/Ubuntu（server）+（samba+syncthing+Docker） windows（server） 好像可以搭配软路由（OpenWrt）一起搭建家用存储系统。
主要考虑Unraid、TrueNas、Omv，由于Unraid收费，考虑使用TrueNas、OMV是否足够满足需要，如果需要的话就不在考虑其他。
基于Docker的软件部署 jellyfin或Plex进行视频资源管理 运行虚拟机基于黑群晖进行图像管理？ 下载工具 部署可于外网访问（虚拟内网构建 zerotier内网穿透？ 配置分析 实际上就是组装一台不带屏幕的电脑，故而基于现有的多余硬件来组建NAS。
设备名称 预算->具体型号 功率 FI？ 机箱 x √ 机箱风扇 x √ 内存 x √ CPU（带集显支持硬解）+自带散热 256-ssd（系统） 200-300 Hard-Drive（存储空间4T+4T+4T+4T） 1k 电源（基于设备需求进行购买） 仍需考虑的问题：
...</p></section><footer class=entry-footer><span title='2022-07-27 23:30:00 +0000 UTC'>July 27, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;80 words&nbsp;·&nbsp;aikenhong&nbsp;·&nbsp;<a href=/tags/nas> NAS</a></footer><div class=tags style=padding:2px><div style=display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:5px><a href=/tags/nas style="margin-right:5px;color:#fff;background-color:rgba(53,174,128,.7);border-radius:6px;padding:1px 10px;font-size:13px">#NAS</a></div></div></div><a class=entry-link aria-label="post link to NAS" href=https://hugotest-phi.vercel.app/posts/nas/></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://hugotest-phi.vercel.app/>aiken's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container>Visitors: <span id=busuanzi_value_site_uv></span>
Views: <span id=busuanzi_value_site_pv></span></span></footer><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),o=13863,i=16993;if(!e||!t){console.error("Busuanzi elements not found.");return}const n=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+o;break}}),s=new MutationObserver(e=>{for(let t of e)if(t.type==="childList"){s.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML||0)+i;break}});n.observe(e,{childList:!0}),s.observe(t,{childList:!0})})</script><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))}),document.getElementById("theme-toggle-nav").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("/js/pangu.js",function(){pangu.spacingPage()})</script></body></html>